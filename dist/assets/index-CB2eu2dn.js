(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&o(u)}).observe(document,{childList:!0,subtree:!0});function i(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=i(r);fetch(r.href,l)}})();/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Ia(e){const n=Object.create(null);for(const i of e.split(","))n[i]=1;return i=>i in n}const Qe={},Ri=[],yn=()=>{},Bc=()=>!1,Zo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),Ba=e=>e.startsWith("onUpdate:"),mt=Object.assign,Ua=(e,n)=>{const i=e.indexOf(n);i>-1&&e.splice(i,1)},Cp=Object.prototype.hasOwnProperty,Ge=(e,n)=>Cp.call(e,n),Me=Array.isArray,Ni=e=>Ns(e)==="[object Map]",Zi=e=>Ns(e)==="[object Set]",hu=e=>Ns(e)==="[object Date]",Ne=e=>typeof e=="function",at=e=>typeof e=="string",rn=e=>typeof e=="symbol",Ke=e=>e!==null&&typeof e=="object",Uc=e=>(Ke(e)||Ne(e))&&Ne(e.then)&&Ne(e.catch),Fc=Object.prototype.toString,Ns=e=>Fc.call(e),Pp=e=>Ns(e).slice(8,-1),zc=e=>Ns(e)==="[object Object]",Fa=e=>at(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ps=Ia(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Wo=e=>{const n=Object.create(null);return i=>n[i]||(n[i]=e(i))},xp=/-\w/g,en=Wo(e=>e.replace(xp,n=>n.slice(1).toUpperCase())),Ap=/\B([A-Z])/g,Jn=Wo(e=>e.replace(Ap,"-$1").toLowerCase()),qo=Wo(e=>e.charAt(0).toUpperCase()+e.slice(1)),Dr=Wo(e=>e?`on${qo(e)}`:""),Gn=(e,n)=>!Object.is(e,n),yo=(e,...n)=>{for(let i=0;i<e.length;i++)e[i](...n)},$c=(e,n,i,o=!1)=>{Object.defineProperty(e,n,{configurable:!0,enumerable:!1,writable:o,value:i})},Mo=e=>{const n=parseFloat(e);return isNaN(n)?e:n},Tp=e=>{const n=at(e)?Number(e):NaN;return isNaN(n)?e:n};let du;const Go=()=>du||(du=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Wi(e){if(Me(e)){const n={};for(let i=0;i<e.length;i++){const o=e[i],r=at(o)?Rp(o):Wi(o);if(r)for(const l in r)n[l]=r[l]}return n}else if(at(e)||Ke(e))return e}const Mp=/;(?![^(]*\))/g,Ep=/:([^]+)/,Lp=/\/\*[^]*?\*\//g;function Rp(e){const n={};return e.replace(Lp,"").split(Mp).forEach(i=>{if(i){const o=i.split(Ep);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function Rt(e){let n="";if(at(e))n=e;else if(Me(e))for(let i=0;i<e.length;i++){const o=Rt(e[i]);o&&(n+=o+" ")}else if(Ke(e))for(const i in e)e[i]&&(n+=i+" ");return n.trim()}const Np="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Op=Ia(Np);function Dc(e){return!!e||e===""}function Ip(e,n){if(e.length!==n.length)return!1;let i=!0;for(let o=0;i&&o<e.length;o++)i=Os(e[o],n[o]);return i}function Os(e,n){if(e===n)return!0;let i=hu(e),o=hu(n);if(i||o)return i&&o?e.getTime()===n.getTime():!1;if(i=rn(e),o=rn(n),i||o)return e===n;if(i=Me(e),o=Me(n),i||o)return i&&o?Ip(e,n):!1;if(i=Ke(e),o=Ke(n),i||o){if(!i||!o)return!1;const r=Object.keys(e).length,l=Object.keys(n).length;if(r!==l)return!1;for(const u in e){const h=e.hasOwnProperty(u),d=n.hasOwnProperty(u);if(h&&!d||!h&&d||!Os(e[u],n[u]))return!1}}return String(e)===String(n)}function za(e,n){return e.findIndex(i=>Os(i,n))}const Hc=e=>!!(e&&e.__v_isRef===!0),oe=e=>at(e)?e:e==null?"":Me(e)||Ke(e)&&(e.toString===Fc||!Ne(e.toString))?Hc(e)?oe(e.value):JSON.stringify(e,Vc,2):String(e),Vc=(e,n)=>Hc(n)?Vc(e,n.value):Ni(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((i,[o,r],l)=>(i[Hr(o,l)+" =>"]=r,i),{})}:Zi(n)?{[`Set(${n.size})`]:[...n.values()].map(i=>Hr(i))}:rn(n)?Hr(n):Ke(n)&&!Me(n)&&!zc(n)?String(n):n,Hr=(e,n="")=>{var i;return rn(e)?`Symbol(${(i=e.description)!=null?i:n})`:e};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xt;class jc{constructor(n=!1){this.detached=n,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xt,!n&&xt&&(this.index=(xt.scopes||(xt.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].pause();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let n,i;if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].resume();for(n=0,i=this.effects.length;n<i;n++)this.effects[n].resume()}}run(n){if(this._active){const i=xt;try{return xt=this,n()}finally{xt=i}}}on(){++this._on===1&&(this.prevScope=xt,xt=this)}off(){this._on>0&&--this._on===0&&(xt=this.prevScope,this.prevScope=void 0)}stop(n){if(this._active){this._active=!1;let i,o;for(i=0,o=this.effects.length;i<o;i++)this.effects[i].stop();for(this.effects.length=0,i=0,o=this.cleanups.length;i<o;i++)this.cleanups[i]();if(this.cleanups.length=0,this.scopes){for(i=0,o=this.scopes.length;i<o;i++)this.scopes[i].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!n){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function Zc(e){return new jc(e)}function Wc(){return xt}function Bp(e,n=!1){xt&&xt.cleanups.push(e)}let et;const Vr=new WeakSet;class qc{constructor(n){this.fn=n,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xt&&xt.active&&xt.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Vr.has(this)&&(Vr.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Yc(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,fu(this),Kc(this);const n=et,i=on;et=this,on=!0;try{return this.fn()}finally{Jc(this),et=n,on=i,this.flags&=-3}}stop(){if(this.flags&1){for(let n=this.deps;n;n=n.nextDep)Ha(n);this.deps=this.depsTail=void 0,fu(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Vr.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){la(this)&&this.run()}get dirty(){return la(this)}}let Gc=0,ms,gs;function Yc(e,n=!1){if(e.flags|=8,n){e.next=gs,gs=e;return}e.next=ms,ms=e}function $a(){Gc++}function Da(){if(--Gc>0)return;if(gs){let n=gs;for(gs=void 0;n;){const i=n.next;n.next=void 0,n.flags&=-9,n=i}}let e;for(;ms;){let n=ms;for(ms=void 0;n;){const i=n.next;if(n.next=void 0,n.flags&=-9,n.flags&1)try{n.trigger()}catch(o){e||(e=o)}n=i}}if(e)throw e}function Kc(e){for(let n=e.deps;n;n=n.nextDep)n.version=-1,n.prevActiveLink=n.dep.activeLink,n.dep.activeLink=n}function Jc(e){let n,i=e.depsTail,o=i;for(;o;){const r=o.prevDep;o.version===-1?(o===i&&(i=r),Ha(o),Up(o)):n=o,o.dep.activeLink=o.prevActiveLink,o.prevActiveLink=void 0,o=r}e.deps=n,e.depsTail=i}function la(e){for(let n=e.deps;n;n=n.nextDep)if(n.dep.version!==n.version||n.dep.computed&&(Qc(n.dep.computed)||n.dep.version!==n.version))return!0;return!!e._dirty}function Qc(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ss)||(e.globalVersion=Ss,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!la(e))))return;e.flags|=2;const n=e.dep,i=et,o=on;et=e,on=!0;try{Kc(e);const r=e.fn(e._value);(n.version===0||Gn(r,e._value))&&(e.flags|=128,e._value=r,n.version++)}catch(r){throw n.version++,r}finally{et=i,on=o,Jc(e),e.flags&=-3}}function Ha(e,n=!1){const{dep:i,prevSub:o,nextSub:r}=e;if(o&&(o.nextSub=r,e.prevSub=void 0),r&&(r.prevSub=o,e.nextSub=void 0),i.subs===e&&(i.subs=o,!o&&i.computed)){i.computed.flags&=-5;for(let l=i.computed.deps;l;l=l.nextDep)Ha(l,!0)}!n&&!--i.sc&&i.map&&i.map.delete(i.key)}function Up(e){const{prevDep:n,nextDep:i}=e;n&&(n.nextDep=i,e.prevDep=void 0),i&&(i.prevDep=n,e.nextDep=void 0)}let on=!0;const Xc=[];function Nn(){Xc.push(on),on=!1}function On(){const e=Xc.pop();on=e===void 0?!0:e}function fu(e){const{cleanup:n}=e;if(e.cleanup=void 0,n){const i=et;et=void 0;try{n()}finally{et=i}}}let Ss=0;class Fp{constructor(n,i){this.sub=n,this.dep=i,this.version=i.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Va{constructor(n){this.computed=n,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(n){if(!et||!on||et===this.computed)return;let i=this.activeLink;if(i===void 0||i.sub!==et)i=this.activeLink=new Fp(et,this),et.deps?(i.prevDep=et.depsTail,et.depsTail.nextDep=i,et.depsTail=i):et.deps=et.depsTail=i,eh(i);else if(i.version===-1&&(i.version=this.version,i.nextDep)){const o=i.nextDep;o.prevDep=i.prevDep,i.prevDep&&(i.prevDep.nextDep=o),i.prevDep=et.depsTail,i.nextDep=void 0,et.depsTail.nextDep=i,et.depsTail=i,et.deps===i&&(et.deps=o)}return i}trigger(n){this.version++,Ss++,this.notify(n)}notify(n){$a();try{for(let i=this.subs;i;i=i.prevSub)i.sub.notify()&&i.sub.dep.notify()}finally{Da()}}}function eh(e){if(e.dep.sc++,e.sub.flags&4){const n=e.dep.computed;if(n&&!e.dep.subs){n.flags|=20;for(let o=n.deps;o;o=o.nextDep)eh(o)}const i=e.dep.subs;i!==e&&(e.prevSub=i,i&&(i.nextSub=e)),e.dep.subs=e}}const Eo=new WeakMap,ci=Symbol(""),ua=Symbol(""),Cs=Symbol("");function Tt(e,n,i){if(on&&et){let o=Eo.get(e);o||Eo.set(e,o=new Map);let r=o.get(i);r||(o.set(i,r=new Va),r.map=o,r.key=i),r.track()}}function Mn(e,n,i,o,r,l){const u=Eo.get(e);if(!u){Ss++;return}const h=d=>{d&&d.trigger()};if($a(),n==="clear")u.forEach(h);else{const d=Me(e),m=d&&Fa(i);if(d&&i==="length"){const p=Number(o);u.forEach((_,y)=>{(y==="length"||y===Cs||!rn(y)&&y>=p)&&h(_)})}else switch((i!==void 0||u.has(void 0))&&h(u.get(i)),m&&h(u.get(Cs)),n){case"add":d?m&&h(u.get("length")):(h(u.get(ci)),Ni(e)&&h(u.get(ua)));break;case"delete":d||(h(u.get(ci)),Ni(e)&&h(u.get(ua)));break;case"set":Ni(e)&&h(u.get(ci));break}}Da()}function zp(e,n){const i=Eo.get(e);return i&&i.get(n)}function xi(e){const n=$e(e);return n===e?n:(Tt(n,"iterate",Cs),Qt(e)?n:n.map(kt))}function Yo(e){return Tt(e=$e(e),"iterate",Cs),e}const $p={__proto__:null,[Symbol.iterator](){return jr(this,Symbol.iterator,kt)},concat(...e){return xi(this).concat(...e.map(n=>Me(n)?xi(n):n))},entries(){return jr(this,"entries",e=>(e[1]=kt(e[1]),e))},every(e,n){return Pn(this,"every",e,n,void 0,arguments)},filter(e,n){return Pn(this,"filter",e,n,i=>i.map(kt),arguments)},find(e,n){return Pn(this,"find",e,n,kt,arguments)},findIndex(e,n){return Pn(this,"findIndex",e,n,void 0,arguments)},findLast(e,n){return Pn(this,"findLast",e,n,kt,arguments)},findLastIndex(e,n){return Pn(this,"findLastIndex",e,n,void 0,arguments)},forEach(e,n){return Pn(this,"forEach",e,n,void 0,arguments)},includes(...e){return Zr(this,"includes",e)},indexOf(...e){return Zr(this,"indexOf",e)},join(e){return xi(this).join(e)},lastIndexOf(...e){return Zr(this,"lastIndexOf",e)},map(e,n){return Pn(this,"map",e,n,void 0,arguments)},pop(){return as(this,"pop")},push(...e){return as(this,"push",e)},reduce(e,...n){return pu(this,"reduce",e,n)},reduceRight(e,...n){return pu(this,"reduceRight",e,n)},shift(){return as(this,"shift")},some(e,n){return Pn(this,"some",e,n,void 0,arguments)},splice(...e){return as(this,"splice",e)},toReversed(){return xi(this).toReversed()},toSorted(e){return xi(this).toSorted(e)},toSpliced(...e){return xi(this).toSpliced(...e)},unshift(...e){return as(this,"unshift",e)},values(){return jr(this,"values",kt)}};function jr(e,n,i){const o=Yo(e),r=o[n]();return o!==e&&!Qt(e)&&(r._next=r.next,r.next=()=>{const l=r._next();return l.done||(l.value=i(l.value)),l}),r}const Dp=Array.prototype;function Pn(e,n,i,o,r,l){const u=Yo(e),h=u!==e&&!Qt(e),d=u[n];if(d!==Dp[n]){const _=d.apply(e,l);return h?kt(_):_}let m=i;u!==e&&(h?m=function(_,y){return i.call(this,kt(_),y,e)}:i.length>2&&(m=function(_,y){return i.call(this,_,y,e)}));const p=d.call(u,m,o);return h&&r?r(p):p}function pu(e,n,i,o){const r=Yo(e);let l=i;return r!==e&&(Qt(e)?i.length>3&&(l=function(u,h,d){return i.call(this,u,h,d,e)}):l=function(u,h,d){return i.call(this,u,kt(h),d,e)}),r[n](l,...o)}function Zr(e,n,i){const o=$e(e);Tt(o,"iterate",Cs);const r=o[n](...i);return(r===-1||r===!1)&&Wa(i[0])?(i[0]=$e(i[0]),o[n](...i)):r}function as(e,n,i=[]){Nn(),$a();const o=$e(e)[n].apply(e,i);return Da(),On(),o}const Hp=Ia("__proto__,__v_isRef,__isVue"),th=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(rn));function Vp(e){rn(e)||(e=String(e));const n=$e(this);return Tt(n,"has",e),n.hasOwnProperty(e)}class nh{constructor(n=!1,i=!1){this._isReadonly=n,this._isShallow=i}get(n,i,o){if(i==="__v_skip")return n.__v_skip;const r=this._isReadonly,l=this._isShallow;if(i==="__v_isReactive")return!r;if(i==="__v_isReadonly")return r;if(i==="__v_isShallow")return l;if(i==="__v_raw")return o===(r?l?Xp:rh:l?oh:sh).get(n)||Object.getPrototypeOf(n)===Object.getPrototypeOf(o)?n:void 0;const u=Me(n);if(!r){let d;if(u&&(d=$p[i]))return d;if(i==="hasOwnProperty")return Vp}const h=Reflect.get(n,i,ot(n)?n:o);if((rn(i)?th.has(i):Hp(i))||(r||Tt(n,"get",i),l))return h;if(ot(h)){const d=u&&Fa(i)?h:h.value;return r&&Ke(d)?ha(d):d}return Ke(h)?r?ha(h):pt(h):h}}class ih extends nh{constructor(n=!1){super(!1,n)}set(n,i,o,r){let l=n[i];if(!this._isShallow){const d=Yn(l);if(!Qt(o)&&!Yn(o)&&(l=$e(l),o=$e(o)),!Me(n)&&ot(l)&&!ot(o))return d||(l.value=o),!0}const u=Me(n)&&Fa(i)?Number(i)<n.length:Ge(n,i),h=Reflect.set(n,i,o,ot(n)?n:r);return n===$e(r)&&(u?Gn(o,l)&&Mn(n,"set",i,o):Mn(n,"add",i,o)),h}deleteProperty(n,i){const o=Ge(n,i);n[i];const r=Reflect.deleteProperty(n,i);return r&&o&&Mn(n,"delete",i,void 0),r}has(n,i){const o=Reflect.has(n,i);return(!rn(i)||!th.has(i))&&Tt(n,"has",i),o}ownKeys(n){return Tt(n,"iterate",Me(n)?"length":ci),Reflect.ownKeys(n)}}class jp extends nh{constructor(n=!1){super(!0,n)}set(n,i){return!0}deleteProperty(n,i){return!0}}const Zp=new ih,Wp=new jp,qp=new ih(!0);const ca=e=>e,fo=e=>Reflect.getPrototypeOf(e);function Gp(e,n,i){return function(...o){const r=this.__v_raw,l=$e(r),u=Ni(l),h=e==="entries"||e===Symbol.iterator&&u,d=e==="keys"&&u,m=r[e](...o),p=i?ca:n?Lo:kt;return!n&&Tt(l,"iterate",d?ua:ci),{next(){const{value:_,done:y}=m.next();return y?{value:_,done:y}:{value:h?[p(_[0]),p(_[1])]:p(_),done:y}},[Symbol.iterator](){return this}}}}function po(e){return function(...n){return e==="delete"?!1:e==="clear"?void 0:this}}function Yp(e,n){const i={get(r){const l=this.__v_raw,u=$e(l),h=$e(r);e||(Gn(r,h)&&Tt(u,"get",r),Tt(u,"get",h));const{has:d}=fo(u),m=n?ca:e?Lo:kt;if(d.call(u,r))return m(l.get(r));if(d.call(u,h))return m(l.get(h));l!==u&&l.get(r)},get size(){const r=this.__v_raw;return!e&&Tt($e(r),"iterate",ci),r.size},has(r){const l=this.__v_raw,u=$e(l),h=$e(r);return e||(Gn(r,h)&&Tt(u,"has",r),Tt(u,"has",h)),r===h?l.has(r):l.has(r)||l.has(h)},forEach(r,l){const u=this,h=u.__v_raw,d=$e(h),m=n?ca:e?Lo:kt;return!e&&Tt(d,"iterate",ci),h.forEach((p,_)=>r.call(l,m(p),m(_),u))}};return mt(i,e?{add:po("add"),set:po("set"),delete:po("delete"),clear:po("clear")}:{add(r){!n&&!Qt(r)&&!Yn(r)&&(r=$e(r));const l=$e(this);return fo(l).has.call(l,r)||(l.add(r),Mn(l,"add",r,r)),this},set(r,l){!n&&!Qt(l)&&!Yn(l)&&(l=$e(l));const u=$e(this),{has:h,get:d}=fo(u);let m=h.call(u,r);m||(r=$e(r),m=h.call(u,r));const p=d.call(u,r);return u.set(r,l),m?Gn(l,p)&&Mn(u,"set",r,l):Mn(u,"add",r,l),this},delete(r){const l=$e(this),{has:u,get:h}=fo(l);let d=u.call(l,r);d||(r=$e(r),d=u.call(l,r)),h&&h.call(l,r);const m=l.delete(r);return d&&Mn(l,"delete",r,void 0),m},clear(){const r=$e(this),l=r.size!==0,u=r.clear();return l&&Mn(r,"clear",void 0,void 0),u}}),["keys","values","entries",Symbol.iterator].forEach(r=>{i[r]=Gp(r,e,n)}),i}function ja(e,n){const i=Yp(e,n);return(o,r,l)=>r==="__v_isReactive"?!e:r==="__v_isReadonly"?e:r==="__v_raw"?o:Reflect.get(Ge(i,r)&&r in o?i:o,r,l)}const Kp={get:ja(!1,!1)},Jp={get:ja(!1,!0)},Qp={get:ja(!0,!1)};const sh=new WeakMap,oh=new WeakMap,rh=new WeakMap,Xp=new WeakMap;function em(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function tm(e){return e.__v_skip||!Object.isExtensible(e)?0:em(Pp(e))}function pt(e){return Yn(e)?e:Za(e,!1,Zp,Kp,sh)}function ah(e){return Za(e,!1,qp,Jp,oh)}function ha(e){return Za(e,!0,Wp,Qp,rh)}function Za(e,n,i,o,r){if(!Ke(e)||e.__v_raw&&!(n&&e.__v_isReactive))return e;const l=tm(e);if(l===0)return e;const u=r.get(e);if(u)return u;const h=new Proxy(e,l===2?o:i);return r.set(e,h),h}function Ln(e){return Yn(e)?Ln(e.__v_raw):!!(e&&e.__v_isReactive)}function Yn(e){return!!(e&&e.__v_isReadonly)}function Qt(e){return!!(e&&e.__v_isShallow)}function Wa(e){return e?!!e.__v_raw:!1}function $e(e){const n=e&&e.__v_raw;return n?$e(n):e}function qa(e){return!Ge(e,"__v_skip")&&Object.isExtensible(e)&&$c(e,"__v_skip",!0),e}const kt=e=>Ke(e)?pt(e):e,Lo=e=>Ke(e)?ha(e):e;function ot(e){return e?e.__v_isRef===!0:!1}function ue(e){return lh(e,!1)}function nm(e){return lh(e,!0)}function lh(e,n){return ot(e)?e:new im(e,n)}class im{constructor(n,i){this.dep=new Va,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=i?n:$e(n),this._value=i?n:kt(n),this.__v_isShallow=i}get value(){return this.dep.track(),this._value}set value(n){const i=this._rawValue,o=this.__v_isShallow||Qt(n)||Yn(n);n=o?n:$e(n),Gn(n,i)&&(this._rawValue=n,this._value=o?n:kt(n),this.dep.trigger())}}function Pe(e){return ot(e)?e.value:e}const sm={get:(e,n,i)=>n==="__v_raw"?e:Pe(Reflect.get(e,n,i)),set:(e,n,i,o)=>{const r=e[n];return ot(r)&&!ot(i)?(r.value=i,!0):Reflect.set(e,n,i,o)}};function uh(e){return Ln(e)?e:new Proxy(e,sm)}function om(e){const n=Me(e)?new Array(e.length):{};for(const i in e)n[i]=ch(e,i);return n}class rm{constructor(n,i,o){this._object=n,this._key=i,this._defaultValue=o,this.__v_isRef=!0,this._value=void 0}get value(){const n=this._object[this._key];return this._value=n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return zp($e(this._object),this._key)}}class am{constructor(n){this._getter=n,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function lm(e,n,i){return ot(e)?e:Ne(e)?new am(e):Ke(e)&&arguments.length>1?ch(e,n,i):ue(e)}function ch(e,n,i){const o=e[n];return ot(o)?o:new rm(e,n,i)}class um{constructor(n,i,o){this.fn=n,this.setter=i,this._value=void 0,this.dep=new Va(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ss-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!i,this.isSSR=o}notify(){if(this.flags|=16,!(this.flags&8)&&et!==this)return Yc(this,!0),!0}get value(){const n=this.dep.track();return Qc(this),n&&(n.version=this.dep.version),this._value}set value(n){this.setter&&this.setter(n)}}function cm(e,n,i=!1){let o,r;return Ne(e)?o=e:(o=e.get,r=e.set),new um(o,r,i)}const mo={},Ro=new WeakMap;let ri;function hm(e,n=!1,i=ri){if(i){let o=Ro.get(i);o||Ro.set(i,o=[]),o.push(e)}}function dm(e,n,i=Qe){const{immediate:o,deep:r,once:l,scheduler:u,augmentJob:h,call:d}=i,m=U=>r?U:Qt(U)||r===!1||r===0?En(U,1):En(U);let p,_,y,k,b=!1,w=!1;if(ot(e)?(_=()=>e.value,b=Qt(e)):Ln(e)?(_=()=>m(e),b=!0):Me(e)?(w=!0,b=e.some(U=>Ln(U)||Qt(U)),_=()=>e.map(U=>{if(ot(U))return U.value;if(Ln(U))return m(U);if(Ne(U))return d?d(U,2):U()})):Ne(e)?n?_=d?()=>d(e,2):e:_=()=>{if(y){Nn();try{y()}finally{On()}}const U=ri;ri=p;try{return d?d(e,3,[k]):e(k)}finally{ri=U}}:_=yn,n&&r){const U=_,V=r===!0?1/0:r;_=()=>En(U(),V)}const A=Wc(),I=()=>{p.stop(),A&&A.active&&Ua(A.effects,p)};if(l&&n){const U=n;n=(...V)=>{U(...V),I()}}let z=w?new Array(e.length).fill(mo):mo;const Z=U=>{if(!(!(p.flags&1)||!p.dirty&&!U))if(n){const V=p.run();if(r||b||(w?V.some((X,re)=>Gn(X,z[re])):Gn(V,z))){y&&y();const X=ri;ri=p;try{const re=[V,z===mo?void 0:w&&z[0]===mo?[]:z,k];z=V,d?d(n,3,re):n(...re)}finally{ri=X}}}else p.run()};return h&&h(Z),p=new qc(_),p.scheduler=u?()=>u(Z,!1):Z,k=U=>hm(U,!1,p),y=p.onStop=()=>{const U=Ro.get(p);if(U){if(d)d(U,4);else for(const V of U)V();Ro.delete(p)}},n?o?Z(!0):z=p.run():u?u(Z.bind(null,!0),!0):p.run(),I.pause=p.pause.bind(p),I.resume=p.resume.bind(p),I.stop=I,I}function En(e,n=1/0,i){if(n<=0||!Ke(e)||e.__v_skip||(i=i||new Map,(i.get(e)||0)>=n))return e;if(i.set(e,n),n--,ot(e))En(e.value,n,i);else if(Me(e))for(let o=0;o<e.length;o++)En(e[o],n,i);else if(Zi(e)||Ni(e))e.forEach(o=>{En(o,n,i)});else if(zc(e)){for(const o in e)En(e[o],n,i);for(const o of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,o)&&En(e[o],n,i)}return e}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Is(e,n,i,o){try{return o?e(...o):e()}catch(r){Ko(r,n,i)}}function an(e,n,i,o){if(Ne(e)){const r=Is(e,n,i,o);return r&&Uc(r)&&r.catch(l=>{Ko(l,n,i)}),r}if(Me(e)){const r=[];for(let l=0;l<e.length;l++)r.push(an(e[l],n,i,o));return r}}function Ko(e,n,i,o=!0){const r=n?n.vnode:null,{errorHandler:l,throwUnhandledErrorInProduction:u}=n&&n.appContext.config||Qe;if(n){let h=n.parent;const d=n.proxy,m=`https://vuejs.org/error-reference/#runtime-${i}`;for(;h;){const p=h.ec;if(p){for(let _=0;_<p.length;_++)if(p[_](e,d,m)===!1)return}h=h.parent}if(l){Nn(),Is(l,null,10,[e,d,m]),On();return}}fm(e,i,r,o,u)}function fm(e,n,i,o=!0,r=!1){if(r)throw e;console.error(e)}const Ut=[];let _n=-1;const Oi=[];let jn=null,Ei=0;const hh=Promise.resolve();let No=null;function Bs(e){const n=No||hh;return e?n.then(this?e.bind(this):e):n}function pm(e){let n=_n+1,i=Ut.length;for(;n<i;){const o=n+i>>>1,r=Ut[o],l=Ps(r);l<e||l===e&&r.flags&2?n=o+1:i=o}return n}function Ga(e){if(!(e.flags&1)){const n=Ps(e),i=Ut[Ut.length-1];!i||!(e.flags&2)&&n>=Ps(i)?Ut.push(e):Ut.splice(pm(n),0,e),e.flags|=1,dh()}}function dh(){No||(No=hh.then(ph))}function mm(e){Me(e)?Oi.push(...e):jn&&e.id===-1?jn.splice(Ei+1,0,e):e.flags&1||(Oi.push(e),e.flags|=1),dh()}function mu(e,n,i=_n+1){for(;i<Ut.length;i++){const o=Ut[i];if(o&&o.flags&2){if(e&&o.id!==e.uid)continue;Ut.splice(i,1),i--,o.flags&4&&(o.flags&=-2),o(),o.flags&4||(o.flags&=-2)}}}function fh(e){if(Oi.length){const n=[...new Set(Oi)].sort((i,o)=>Ps(i)-Ps(o));if(Oi.length=0,jn){jn.push(...n);return}for(jn=n,Ei=0;Ei<jn.length;Ei++){const i=jn[Ei];i.flags&4&&(i.flags&=-2),i.flags&8||i(),i.flags&=-2}jn=null,Ei=0}}const Ps=e=>e.id==null?e.flags&2?-1:1/0:e.id;function ph(e){try{for(_n=0;_n<Ut.length;_n++){const n=Ut[_n];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Is(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;_n<Ut.length;_n++){const n=Ut[_n];n&&(n.flags&=-2)}_n=-1,Ut.length=0,fh(),No=null,(Ut.length||Oi.length)&&ph()}}let St=null,mh=null;function Oo(e){const n=St;return St=e,mh=e&&e.type.__scopeId||null,n}function st(e,n=St,i){if(!n||e._n)return e;const o=(...r)=>{o._d&&Uo(-1);const l=Oo(n);let u;try{u=e(...r)}finally{Oo(l),o._d&&Uo(1)}return u};return o._n=!0,o._c=!0,o._d=!0,o}function tt(e,n){if(St===null)return e;const i=nr(St),o=e.dirs||(e.dirs=[]);for(let r=0;r<n.length;r++){let[l,u,h,d=Qe]=n[r];l&&(Ne(l)&&(l={mounted:l,updated:l}),l.deep&&En(u),o.push({dir:l,instance:i,value:u,oldValue:void 0,arg:h,modifiers:d}))}return e}function ii(e,n,i,o){const r=e.dirs,l=n&&n.dirs;for(let u=0;u<r.length;u++){const h=r[u];l&&(h.oldValue=l[u].value);let d=h.dir[o];d&&(Nn(),an(d,i,8,[e.el,h,e,n]),On())}}const gh=Symbol("_vte"),_h=e=>e.__isTeleport,_s=e=>e&&(e.disabled||e.disabled===""),gu=e=>e&&(e.defer||e.defer===""),_u=e=>typeof SVGElement<"u"&&e instanceof SVGElement,vu=e=>typeof MathMLElement=="function"&&e instanceof MathMLElement,da=(e,n)=>{const i=e&&e.to;return at(i)?n?n(i):null:i},vh={name:"Teleport",__isTeleport:!0,process(e,n,i,o,r,l,u,h,d,m){const{mc:p,pc:_,pbc:y,o:{insert:k,querySelector:b,createText:w,createComment:A}}=m,I=_s(n.props);let{shapeFlag:z,children:Z,dynamicChildren:U}=n;if(e==null){const V=n.el=w(""),X=n.anchor=w("");k(V,i,o),k(X,i,o);const re=(G,ge)=>{z&16&&p(Z,G,ge,r,l,u,h,d)},fe=()=>{const G=n.target=da(n.props,b),ge=yh(G,n,w,k);G&&(u!=="svg"&&_u(G)?u="svg":u!=="mathml"&&vu(G)&&(u="mathml"),r&&r.isCE&&(r.ce._teleportTargets||(r.ce._teleportTargets=new Set)).add(G),I||(re(G,ge),wo(n,!1)))};I&&(re(i,X),wo(n,!0)),gu(n.props)?(n.el.__isMounted=!1,It(()=>{fe(),delete n.el.__isMounted},l)):fe()}else{if(gu(n.props)&&e.el.__isMounted===!1){It(()=>{vh.process(e,n,i,o,r,l,u,h,d,m)},l);return}n.el=e.el,n.targetStart=e.targetStart;const V=n.anchor=e.anchor,X=n.target=e.target,re=n.targetAnchor=e.targetAnchor,fe=_s(e.props),G=fe?i:X,ge=fe?V:re;if(u==="svg"||_u(X)?u="svg":(u==="mathml"||vu(X))&&(u="mathml"),U?(y(e.dynamicChildren,U,G,r,l,u,h),Qa(e,n,!0)):d||_(e,n,G,ge,r,l,u,h,!1),I)fe?n.props&&e.props&&n.props.to!==e.props.to&&(n.props.to=e.props.to):go(n,i,V,m,1);else if((n.props&&n.props.to)!==(e.props&&e.props.to)){const pe=n.target=da(n.props,b);pe&&go(n,pe,null,m,0)}else fe&&go(n,X,re,m,1);wo(n,I)}},remove(e,n,i,{um:o,o:{remove:r}},l){const{shapeFlag:u,children:h,anchor:d,targetStart:m,targetAnchor:p,target:_,props:y}=e;if(_&&(r(m),r(p)),l&&r(d),u&16){const k=l||!_s(y);for(let b=0;b<h.length;b++){const w=h[b];o(w,n,i,k,!!w.dynamicChildren)}}},move:go,hydrate:gm};function go(e,n,i,{o:{insert:o},m:r},l=2){l===0&&o(e.targetAnchor,n,i);const{el:u,anchor:h,shapeFlag:d,children:m,props:p}=e,_=l===2;if(_&&o(u,n,i),(!_||_s(p))&&d&16)for(let y=0;y<m.length;y++)r(m[y],n,i,2);_&&o(h,n,i)}function gm(e,n,i,o,r,l,{o:{nextSibling:u,parentNode:h,querySelector:d,insert:m,createText:p}},_){function y(w,A,I,z){A.anchor=_(u(w),A,h(w),i,o,r,l),A.targetStart=I,A.targetAnchor=z}const k=n.target=da(n.props,d),b=_s(n.props);if(k){const w=k._lpa||k.firstChild;if(n.shapeFlag&16)if(b)y(e,n,w,w&&u(w));else{n.anchor=u(e);let A=w;for(;A;){if(A&&A.nodeType===8){if(A.data==="teleport start anchor")n.targetStart=A;else if(A.data==="teleport anchor"){n.targetAnchor=A,k._lpa=n.targetAnchor&&u(n.targetAnchor);break}}A=u(A)}n.targetAnchor||yh(k,n,p,m),_(w&&u(w),n,k,i,o,r,l)}wo(n,b)}else b&&n.shapeFlag&16&&y(e,n,e,u(e));return n.anchor&&u(n.anchor)}const _m=vh;function wo(e,n){const i=e.ctx;if(i&&i.ut){let o,r;for(n?(o=e.el,r=e.anchor):(o=e.targetStart,r=e.targetAnchor);o&&o!==r;)o.nodeType===1&&o.setAttribute("data-v-owner",i.uid),o=o.nextSibling;i.ut()}}function yh(e,n,i,o){const r=n.targetStart=i(""),l=n.targetAnchor=i("");return r[gh]=l,e&&(o(r,e),o(l,e)),l}const Tn=Symbol("_leaveCb"),_o=Symbol("_enterCb");function wh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ut(()=>{e.isMounted=!0}),Us(()=>{e.isUnmounting=!0}),e}const Jt=[Function,Array],bh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Jt,onEnter:Jt,onAfterEnter:Jt,onEnterCancelled:Jt,onBeforeLeave:Jt,onLeave:Jt,onAfterLeave:Jt,onLeaveCancelled:Jt,onBeforeAppear:Jt,onAppear:Jt,onAfterAppear:Jt,onAppearCancelled:Jt},kh=e=>{const n=e.subTree;return n.component?kh(n.component):n},vm={name:"BaseTransition",props:bh,setup(e,{slots:n}){const i=tr(),o=wh();return()=>{const r=n.default&&Ya(n.default(),!0);if(!r||!r.length)return;const l=Sh(r),u=$e(e),{mode:h}=u;if(o.isLeaving)return Wr(l);const d=yu(l);if(!d)return Wr(l);let m=xs(d,u,o,i,_=>m=_);d.type!==Mt&&fi(d,m);let p=i.subTree&&yu(i.subTree);if(p&&p.type!==Mt&&!ai(p,d)&&kh(i).type!==Mt){let _=xs(p,u,o,i);if(fi(p,_),h==="out-in"&&d.type!==Mt)return o.isLeaving=!0,_.afterLeave=()=>{o.isLeaving=!1,i.job.flags&8||i.update(),delete _.afterLeave,p=void 0},Wr(l);h==="in-out"&&d.type!==Mt?_.delayLeave=(y,k,b)=>{const w=Ch(o,p);w[String(p.key)]=p,y[Tn]=()=>{k(),y[Tn]=void 0,delete m.delayedLeave,p=void 0},m.delayedLeave=()=>{b(),delete m.delayedLeave,p=void 0}}:p=void 0}else p&&(p=void 0);return l}}};function Sh(e){let n=e[0];if(e.length>1){for(const i of e)if(i.type!==Mt){n=i;break}}return n}const ym=vm;function Ch(e,n){const{leavingVNodes:i}=e;let o=i.get(n.type);return o||(o=Object.create(null),i.set(n.type,o)),o}function xs(e,n,i,o,r){const{appear:l,mode:u,persisted:h=!1,onBeforeEnter:d,onEnter:m,onAfterEnter:p,onEnterCancelled:_,onBeforeLeave:y,onLeave:k,onAfterLeave:b,onLeaveCancelled:w,onBeforeAppear:A,onAppear:I,onAfterAppear:z,onAppearCancelled:Z}=n,U=String(e.key),V=Ch(i,e),X=(G,ge)=>{G&&an(G,o,9,ge)},re=(G,ge)=>{const pe=ge[1];X(G,ge),Me(G)?G.every(J=>J.length<=1)&&pe():G.length<=1&&pe()},fe={mode:u,persisted:h,beforeEnter(G){let ge=d;if(!i.isMounted)if(l)ge=A||d;else return;G[Tn]&&G[Tn](!0);const pe=V[U];pe&&ai(e,pe)&&pe.el[Tn]&&pe.el[Tn](),X(ge,[G])},enter(G){let ge=m,pe=p,J=_;if(!i.isMounted)if(l)ge=I||m,pe=z||p,J=Z||_;else return;let Ae=!1;const $=G[_o]=F=>{Ae||(Ae=!0,F?X(J,[G]):X(pe,[G]),fe.delayedLeave&&fe.delayedLeave(),G[_o]=void 0)};ge?re(ge,[G,$]):$()},leave(G,ge){const pe=String(e.key);if(G[_o]&&G[_o](!0),i.isUnmounting)return ge();X(y,[G]);let J=!1;const Ae=G[Tn]=$=>{J||(J=!0,ge(),$?X(w,[G]):X(b,[G]),G[Tn]=void 0,V[pe]===e&&delete V[pe])};V[pe]=e,k?re(k,[G,Ae]):Ae()},clone(G){const ge=xs(G,n,i,o,r);return r&&r(ge),ge}};return fe}function Wr(e){if(Jo(e))return e=Kn(e),e.children=null,e}function yu(e){if(!Jo(e))return _h(e.type)&&e.children?Sh(e.children):e;if(e.component)return e.component.subTree;const{shapeFlag:n,children:i}=e;if(i){if(n&16)return i[0];if(n&32&&Ne(i.default))return i.default()}}function fi(e,n){e.shapeFlag&6&&e.component?(e.transition=n,fi(e.component.subTree,n)):e.shapeFlag&128?(e.ssContent.transition=n.clone(e.ssContent),e.ssFallback.transition=n.clone(e.ssFallback)):e.transition=n}function Ya(e,n=!1,i){let o=[],r=0;for(let l=0;l<e.length;l++){let u=e[l];const h=i==null?u.key:String(i)+String(u.key!=null?u.key:l);u.type===Ce?(u.patchFlag&128&&r++,o=o.concat(Ya(u.children,n,h))):(n||u.type!==Mt)&&o.push(h!=null?Kn(u,{key:h}):u)}if(r>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function We(e,n){return Ne(e)?mt({name:e.name},n,{setup:e}):e}function Ph(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}const Io=new WeakMap;function vs(e,n,i,o,r=!1){if(Me(e)){e.forEach((b,w)=>vs(b,n&&(Me(n)?n[w]:n),i,o,r));return}if(Ii(o)&&!r){o.shapeFlag&512&&o.type.__asyncResolved&&o.component.subTree.component&&vs(e,n,i,o.component.subTree);return}const l=o.shapeFlag&4?nr(o.component):o.el,u=r?null:l,{i:h,r:d}=e,m=n&&n.r,p=h.refs===Qe?h.refs={}:h.refs,_=h.setupState,y=$e(_),k=_===Qe?Bc:b=>Ge(y,b);if(m!=null&&m!==d){if(wu(n),at(m))p[m]=null,k(m)&&(_[m]=null);else if(ot(m)){m.value=null;const b=n;b.k&&(p[b.k]=null)}}if(Ne(d))Is(d,h,12,[u,p]);else{const b=at(d),w=ot(d);if(b||w){const A=()=>{if(e.f){const I=b?k(d)?_[d]:p[d]:d.value;if(r)Me(I)&&Ua(I,l);else if(Me(I))I.includes(l)||I.push(l);else if(b)p[d]=[l],k(d)&&(_[d]=p[d]);else{const z=[l];d.value=z,e.k&&(p[e.k]=z)}}else b?(p[d]=u,k(d)&&(_[d]=u)):w&&(d.value=u,e.k&&(p[e.k]=u))};if(u){const I=()=>{A(),Io.delete(e)};I.id=-1,Io.set(e,I),It(I,i)}else wu(e),A()}}}function wu(e){const n=Io.get(e);n&&(n.flags|=8,Io.delete(e))}Go().requestIdleCallback;Go().cancelIdleCallback;const Ii=e=>!!e.type.__asyncLoader,Jo=e=>e.type.__isKeepAlive;function wm(e,n){xh(e,"a",n)}function bm(e,n){xh(e,"da",n)}function xh(e,n,i=Et){const o=e.__wdc||(e.__wdc=()=>{let r=i;for(;r;){if(r.isDeactivated)return;r=r.parent}return e()});if(Qo(n,o,i),i){let r=i.parent;for(;r&&r.parent;)Jo(r.parent.vnode)&&km(o,n,i,r),r=r.parent}}function km(e,n,i,o){const r=Qo(n,e,o,!0);Fs(()=>{Ua(o[n],r)},i)}function Qo(e,n,i=Et,o=!1){if(i){const r=i[e]||(i[e]=[]),l=n.__weh||(n.__weh=(...u)=>{Nn();const h=zs(i),d=an(n,i,e,u);return h(),On(),d});return o?r.unshift(l):r.push(l),l}}const In=e=>(n,i=Et)=>{(!Ms||e==="sp")&&Qo(e,(...o)=>n(...o),i)},Sm=In("bm"),ut=In("m"),Cm=In("bu"),Ah=In("u"),Us=In("bum"),Fs=In("um"),Pm=In("sp"),xm=In("rtg"),Am=In("rtc");function Tm(e,n=Et){Qo("ec",e,n)}const Mm="components";function fa(e,n){return Lm(Mm,e,!0,n)||e}const Em=Symbol.for("v-ndc");function Lm(e,n,i=!0,o=!1){const r=St||Et;if(r){const l=r.type;{const h=yg(l,!1);if(h&&(h===n||h===en(n)||h===qo(en(n))))return l}const u=bu(r[e]||l[e],n)||bu(r.appContext[e],n);return!u&&o?l:u}}function bu(e,n){return e&&(e[n]||e[en(n)]||e[qo(en(n))])}function Ve(e,n,i,o){let r;const l=i,u=Me(e);if(u||at(e)){const h=u&&Ln(e);let d=!1,m=!1;h&&(d=!Qt(e),m=Yn(e),e=Yo(e)),r=new Array(e.length);for(let p=0,_=e.length;p<_;p++)r[p]=n(d?m?Lo(kt(e[p])):kt(e[p]):e[p],p,void 0,l)}else if(typeof e=="number"){r=new Array(e);for(let h=0;h<e;h++)r[h]=n(h+1,h,void 0,l)}else if(Ke(e))if(e[Symbol.iterator])r=Array.from(e,(h,d)=>n(h,d,void 0,l));else{const h=Object.keys(e);r=new Array(h.length);for(let d=0,m=h.length;d<m;d++){const p=h[d];r[d]=n(e[p],p,d,l)}}else r=[];return r}function ku(e,n,i={},o,r){if(St.ce||St.parent&&Ii(St.parent)&&St.parent.ce){const m=Object.keys(i).length>0;return n!=="default"&&(i.name=n),S(),vt(Ce,null,[me("slot",i,o&&o())],m?-2:64)}let l=e[n];l&&l._c&&(l._d=!1),S();const u=l&&Th(l(i)),h=i.key||u&&u.key,d=vt(Ce,{key:(h&&!rn(h)?h:`_${n}`)+(!u&&o?"_fb":"")},u||(o?o():[]),u&&e._===1?64:-2);return l&&l._c&&(l._d=!0),d}function Th(e){return e.some(n=>Ts(n)?!(n.type===Mt||n.type===Ce&&!Th(n.children)):!0)?e:null}const pa=e=>e?qh(e)?nr(e):pa(e.parent):null,ys=mt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>pa(e.parent),$root:e=>pa(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Eh(e),$forceUpdate:e=>e.f||(e.f=()=>{Ga(e.update)}),$nextTick:e=>e.n||(e.n=Bs.bind(e.proxy)),$watch:e=>Xm.bind(e)}),qr=(e,n)=>e!==Qe&&!e.__isScriptSetup&&Ge(e,n),Rm={get({_:e},n){if(n==="__v_skip")return!0;const{ctx:i,setupState:o,data:r,props:l,accessCache:u,type:h,appContext:d}=e;let m;if(n[0]!=="$"){const k=u[n];if(k!==void 0)switch(k){case 1:return o[n];case 2:return r[n];case 4:return i[n];case 3:return l[n]}else{if(qr(o,n))return u[n]=1,o[n];if(r!==Qe&&Ge(r,n))return u[n]=2,r[n];if((m=e.propsOptions[0])&&Ge(m,n))return u[n]=3,l[n];if(i!==Qe&&Ge(i,n))return u[n]=4,i[n];ma&&(u[n]=0)}}const p=ys[n];let _,y;if(p)return n==="$attrs"&&Tt(e.attrs,"get",""),p(e);if((_=h.__cssModules)&&(_=_[n]))return _;if(i!==Qe&&Ge(i,n))return u[n]=4,i[n];if(y=d.config.globalProperties,Ge(y,n))return y[n]},set({_:e},n,i){const{data:o,setupState:r,ctx:l}=e;return qr(r,n)?(r[n]=i,!0):o!==Qe&&Ge(o,n)?(o[n]=i,!0):Ge(e.props,n)||n[0]==="$"&&n.slice(1)in e?!1:(l[n]=i,!0)},has({_:{data:e,setupState:n,accessCache:i,ctx:o,appContext:r,propsOptions:l,type:u}},h){let d,m;return!!(i[h]||e!==Qe&&h[0]!=="$"&&Ge(e,h)||qr(n,h)||(d=l[0])&&Ge(d,h)||Ge(o,h)||Ge(ys,h)||Ge(r.config.globalProperties,h)||(m=u.__cssModules)&&m[h])},defineProperty(e,n,i){return i.get!=null?e._.accessCache[n]=0:Ge(i,"value")&&this.set(e,n,i.value,null),Reflect.defineProperty(e,n,i)}};function Su(e){return Me(e)?e.reduce((n,i)=>(n[i]=null,n),{}):e}let ma=!0;function Nm(e){const n=Eh(e),i=e.proxy,o=e.ctx;ma=!1,n.beforeCreate&&Cu(n.beforeCreate,e,"bc");const{data:r,computed:l,methods:u,watch:h,provide:d,inject:m,created:p,beforeMount:_,mounted:y,beforeUpdate:k,updated:b,activated:w,deactivated:A,beforeDestroy:I,beforeUnmount:z,destroyed:Z,unmounted:U,render:V,renderTracked:X,renderTriggered:re,errorCaptured:fe,serverPrefetch:G,expose:ge,inheritAttrs:pe,components:J,directives:Ae,filters:$}=n;if(m&&Om(m,o,null),u)for(const q in u){const T=u[q];Ne(T)&&(o[q]=T.bind(i))}if(r){const q=r.call(i,i);Ke(q)&&(e.data=pt(q))}if(ma=!0,l)for(const q in l){const T=l[q],O=Ne(T)?T.bind(i,i):Ne(T.get)?T.get.bind(i,i):yn,C=!Ne(T)&&Ne(T.set)?T.set.bind(i):yn,ne=Le({get:O,set:C});Object.defineProperty(o,q,{enumerable:!0,configurable:!0,get:()=>ne.value,set:be=>ne.value=be})}if(h)for(const q in h)Mh(h[q],o,i,q);if(d){const q=Ne(d)?d.call(i):d;Reflect.ownKeys(q).forEach(T=>{bo(T,q[T])})}p&&Cu(p,e,"c");function N(q,T){Me(T)?T.forEach(O=>q(O.bind(i))):T&&q(T.bind(i))}if(N(Sm,_),N(ut,y),N(Cm,k),N(Ah,b),N(wm,w),N(bm,A),N(Tm,fe),N(Am,X),N(xm,re),N(Us,z),N(Fs,U),N(Pm,G),Me(ge))if(ge.length){const q=e.exposed||(e.exposed={});ge.forEach(T=>{Object.defineProperty(q,T,{get:()=>i[T],set:O=>i[T]=O,enumerable:!0})})}else e.exposed||(e.exposed={});V&&e.render===yn&&(e.render=V),pe!=null&&(e.inheritAttrs=pe),J&&(e.components=J),Ae&&(e.directives=Ae),G&&Ph(e)}function Om(e,n,i=yn){Me(e)&&(e=ga(e));for(const o in e){const r=e[o];let l;Ke(r)?"default"in r?l=Xt(r.from||o,r.default,!0):l=Xt(r.from||o):l=Xt(r),ot(l)?Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>l.value,set:u=>l.value=u}):n[o]=l}}function Cu(e,n,i){an(Me(e)?e.map(o=>o.bind(n.proxy)):e.bind(n.proxy),n,i)}function Mh(e,n,i,o){let r=o.includes(".")?Hh(i,o):()=>i[o];if(at(e)){const l=n[e];Ne(l)&&yt(r,l)}else if(Ne(e))yt(r,e.bind(i));else if(Ke(e))if(Me(e))e.forEach(l=>Mh(l,n,i,o));else{const l=Ne(e.handler)?e.handler.bind(i):n[e.handler];Ne(l)&&yt(r,l,e)}}function Eh(e){const n=e.type,{mixins:i,extends:o}=n,{mixins:r,optionsCache:l,config:{optionMergeStrategies:u}}=e.appContext,h=l.get(n);let d;return h?d=h:!r.length&&!i&&!o?d=n:(d={},r.length&&r.forEach(m=>Bo(d,m,u,!0)),Bo(d,n,u)),Ke(n)&&l.set(n,d),d}function Bo(e,n,i,o=!1){const{mixins:r,extends:l}=n;l&&Bo(e,l,i,!0),r&&r.forEach(u=>Bo(e,u,i,!0));for(const u in n)if(!(o&&u==="expose")){const h=Im[u]||i&&i[u];e[u]=h?h(e[u],n[u]):n[u]}return e}const Im={data:Pu,props:xu,emits:xu,methods:ds,computed:ds,beforeCreate:Ot,created:Ot,beforeMount:Ot,mounted:Ot,beforeUpdate:Ot,updated:Ot,beforeDestroy:Ot,beforeUnmount:Ot,destroyed:Ot,unmounted:Ot,activated:Ot,deactivated:Ot,errorCaptured:Ot,serverPrefetch:Ot,components:ds,directives:ds,watch:Um,provide:Pu,inject:Bm};function Pu(e,n){return n?e?function(){return mt(Ne(e)?e.call(this,this):e,Ne(n)?n.call(this,this):n)}:n:e}function Bm(e,n){return ds(ga(e),ga(n))}function ga(e){if(Me(e)){const n={};for(let i=0;i<e.length;i++)n[e[i]]=e[i];return n}return e}function Ot(e,n){return e?[...new Set([].concat(e,n))]:n}function ds(e,n){return e?mt(Object.create(null),e,n):n}function xu(e,n){return e?Me(e)&&Me(n)?[...new Set([...e,...n])]:mt(Object.create(null),Su(e),Su(n??{})):n}function Um(e,n){if(!e)return n;if(!n)return e;const i=mt(Object.create(null),e);for(const o in n)i[o]=Ot(e[o],n[o]);return i}function Lh(){return{app:null,config:{isNativeTag:Bc,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Fm=0;function zm(e,n){return function(o,r=null){Ne(o)||(o=mt({},o)),r!=null&&!Ke(r)&&(r=null);const l=Lh(),u=new WeakSet,h=[];let d=!1;const m=l.app={_uid:Fm++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:bg,get config(){return l.config},set config(p){},use(p,..._){return u.has(p)||(p&&Ne(p.install)?(u.add(p),p.install(m,..._)):Ne(p)&&(u.add(p),p(m,..._))),m},mixin(p){return l.mixins.includes(p)||l.mixins.push(p),m},component(p,_){return _?(l.components[p]=_,m):l.components[p]},directive(p,_){return _?(l.directives[p]=_,m):l.directives[p]},mount(p,_,y){if(!d){const k=m._ceVNode||me(o,r);return k.appContext=l,y===!0?y="svg":y===!1&&(y=void 0),e(k,p,y),d=!0,m._container=p,p.__vue_app__=m,nr(k.component)}},onUnmount(p){h.push(p)},unmount(){d&&(an(h,m._instance,16),e(null,m._container),delete m._container.__vue_app__)},provide(p,_){return l.provides[p]=_,m},runWithContext(p){const _=hi;hi=m;try{return p()}finally{hi=_}}};return m}}let hi=null;function bo(e,n){if(Et){let i=Et.provides;const o=Et.parent&&Et.parent.provides;o===i&&(i=Et.provides=Object.create(o)),i[e]=n}}function Xt(e,n,i=!1){const o=tr();if(o||hi){let r=hi?hi._context.provides:o?o.parent==null||o.ce?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:void 0;if(r&&e in r)return r[e];if(arguments.length>1)return i&&Ne(n)?n.call(o&&o.proxy):n}}function $m(){return!!(tr()||hi)}const Rh={},Nh=()=>Object.create(Rh),Oh=e=>Object.getPrototypeOf(e)===Rh;function Dm(e,n,i,o=!1){const r={},l=Nh();e.propsDefaults=Object.create(null),Ih(e,n,r,l);for(const u in e.propsOptions[0])u in r||(r[u]=void 0);i?e.props=o?r:ah(r):e.type.props?e.props=r:e.props=l,e.attrs=l}function Hm(e,n,i,o){const{props:r,attrs:l,vnode:{patchFlag:u}}=e,h=$e(r),[d]=e.propsOptions;let m=!1;if((o||u>0)&&!(u&16)){if(u&8){const p=e.vnode.dynamicProps;for(let _=0;_<p.length;_++){let y=p[_];if(Xo(e.emitsOptions,y))continue;const k=n[y];if(d)if(Ge(l,y))k!==l[y]&&(l[y]=k,m=!0);else{const b=en(y);r[b]=_a(d,h,b,k,e,!1)}else k!==l[y]&&(l[y]=k,m=!0)}}}else{Ih(e,n,r,l)&&(m=!0);let p;for(const _ in h)(!n||!Ge(n,_)&&((p=Jn(_))===_||!Ge(n,p)))&&(d?i&&(i[_]!==void 0||i[p]!==void 0)&&(r[_]=_a(d,h,_,void 0,e,!0)):delete r[_]);if(l!==h)for(const _ in l)(!n||!Ge(n,_))&&(delete l[_],m=!0)}m&&Mn(e.attrs,"set","")}function Ih(e,n,i,o){const[r,l]=e.propsOptions;let u=!1,h;if(n)for(let d in n){if(ps(d))continue;const m=n[d];let p;r&&Ge(r,p=en(d))?!l||!l.includes(p)?i[p]=m:(h||(h={}))[p]=m:Xo(e.emitsOptions,d)||(!(d in o)||m!==o[d])&&(o[d]=m,u=!0)}if(l){const d=$e(i),m=h||Qe;for(let p=0;p<l.length;p++){const _=l[p];i[_]=_a(r,d,_,m[_],e,!Ge(m,_))}}return u}function _a(e,n,i,o,r,l){const u=e[i];if(u!=null){const h=Ge(u,"default");if(h&&o===void 0){const d=u.default;if(u.type!==Function&&!u.skipFactory&&Ne(d)){const{propsDefaults:m}=r;if(i in m)o=m[i];else{const p=zs(r);o=m[i]=d.call(null,n),p()}}else o=d;r.ce&&r.ce._setProp(i,o)}u[0]&&(l&&!h?o=!1:u[1]&&(o===""||o===Jn(i))&&(o=!0))}return o}const Vm=new WeakMap;function Bh(e,n,i=!1){const o=i?Vm:n.propsCache,r=o.get(e);if(r)return r;const l=e.props,u={},h=[];let d=!1;if(!Ne(e)){const p=_=>{d=!0;const[y,k]=Bh(_,n,!0);mt(u,y),k&&h.push(...k)};!i&&n.mixins.length&&n.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}if(!l&&!d)return Ke(e)&&o.set(e,Ri),Ri;if(Me(l))for(let p=0;p<l.length;p++){const _=en(l[p]);Au(_)&&(u[_]=Qe)}else if(l)for(const p in l){const _=en(p);if(Au(_)){const y=l[p],k=u[_]=Me(y)||Ne(y)?{type:y}:mt({},y),b=k.type;let w=!1,A=!0;if(Me(b))for(let I=0;I<b.length;++I){const z=b[I],Z=Ne(z)&&z.name;if(Z==="Boolean"){w=!0;break}else Z==="String"&&(A=!1)}else w=Ne(b)&&b.name==="Boolean";k[0]=w,k[1]=A,(w||Ge(k,"default"))&&h.push(_)}}const m=[u,h];return Ke(e)&&o.set(e,m),m}function Au(e){return e[0]!=="$"&&!ps(e)}const Ka=e=>e==="_"||e==="_ctx"||e==="$stable",Ja=e=>Me(e)?e.map(vn):[vn(e)],jm=(e,n,i)=>{if(n._n)return n;const o=st((...r)=>Ja(n(...r)),i);return o._c=!1,o},Uh=(e,n,i)=>{const o=e._ctx;for(const r in e){if(Ka(r))continue;const l=e[r];if(Ne(l))n[r]=jm(r,l,o);else if(l!=null){const u=Ja(l);n[r]=()=>u}}},Fh=(e,n)=>{const i=Ja(n);e.slots.default=()=>i},zh=(e,n,i)=>{for(const o in n)(i||!Ka(o))&&(e[o]=n[o])},Zm=(e,n,i)=>{const o=e.slots=Nh();if(e.vnode.shapeFlag&32){const r=n._;r?(zh(o,n,i),i&&$c(o,"_",r,!0)):Uh(n,o)}else n&&Fh(e,n)},Wm=(e,n,i)=>{const{vnode:o,slots:r}=e;let l=!0,u=Qe;if(o.shapeFlag&32){const h=n._;h?i&&h===1?l=!1:zh(r,n,i):(l=!n.$stable,Uh(n,r)),u=n}else n&&(Fh(e,n),u={default:1});if(l)for(const h in r)!Ka(h)&&u[h]==null&&delete r[h]},It=ag;function qm(e){return Gm(e)}function Gm(e,n){const i=Go();i.__VUE__=!0;const{insert:o,remove:r,patchProp:l,createElement:u,createText:h,createComment:d,setText:m,setElementText:p,parentNode:_,nextSibling:y,setScopeId:k=yn,insertStaticContent:b}=e,w=(P,E,R,j=null,Q=null,K=null,se=void 0,he=null,le=!!E.dynamicChildren)=>{if(P===E)return;P&&!ai(P,E)&&(j=W(P),be(P,Q,K,!0),P=null),E.patchFlag===-2&&(le=!1,E.dynamicChildren=null);const{type:te,ref:xe,shapeFlag:de}=E;switch(te){case er:A(P,E,R,j);break;case Mt:I(P,E,R,j);break;case ko:P==null&&z(E,R,j,se);break;case Ce:J(P,E,R,j,Q,K,se,he,le);break;default:de&1?V(P,E,R,j,Q,K,se,he,le):de&6?Ae(P,E,R,j,Q,K,se,he,le):(de&64||de&128)&&te.process(P,E,R,j,Q,K,se,he,le,ve)}xe!=null&&Q?vs(xe,P&&P.ref,K,E||P,!E):xe==null&&P&&P.ref!=null&&vs(P.ref,null,K,P,!0)},A=(P,E,R,j)=>{if(P==null)o(E.el=h(E.children),R,j);else{const Q=E.el=P.el;E.children!==P.children&&m(Q,E.children)}},I=(P,E,R,j)=>{P==null?o(E.el=d(E.children||""),R,j):E.el=P.el},z=(P,E,R,j)=>{[P.el,P.anchor]=b(P.children,E,R,j,P.el,P.anchor)},Z=({el:P,anchor:E},R,j)=>{let Q;for(;P&&P!==E;)Q=y(P),o(P,R,j),P=Q;o(E,R,j)},U=({el:P,anchor:E})=>{let R;for(;P&&P!==E;)R=y(P),r(P),P=R;r(E)},V=(P,E,R,j,Q,K,se,he,le)=>{E.type==="svg"?se="svg":E.type==="math"&&(se="mathml"),P==null?X(E,R,j,Q,K,se,he,le):G(P,E,Q,K,se,he,le)},X=(P,E,R,j,Q,K,se,he)=>{let le,te;const{props:xe,shapeFlag:de,transition:ce,dirs:Ee}=P;if(le=P.el=u(P.type,K,xe&&xe.is,xe),de&8?p(le,P.children):de&16&&fe(P.children,le,null,j,Q,Gr(P,K),se,he),Ee&&ii(P,null,j,"created"),re(le,P,P.scopeId,se,j),xe){for(const Ye in xe)Ye!=="value"&&!ps(Ye)&&l(le,Ye,null,xe[Ye],K,j);"value"in xe&&l(le,"value",null,xe.value,K),(te=xe.onVnodeBeforeMount)&&pn(te,j,P)}Ee&&ii(P,null,j,"beforeMount");const Ue=Ym(Q,ce);Ue&&ce.beforeEnter(le),o(le,E,R),((te=xe&&xe.onVnodeMounted)||Ue||Ee)&&It(()=>{te&&pn(te,j,P),Ue&&ce.enter(le),Ee&&ii(P,null,j,"mounted")},Q)},re=(P,E,R,j,Q)=>{if(R&&k(P,R),j)for(let K=0;K<j.length;K++)k(P,j[K]);if(Q){let K=Q.subTree;if(E===K||jh(K.type)&&(K.ssContent===E||K.ssFallback===E)){const se=Q.vnode;re(P,se,se.scopeId,se.slotScopeIds,Q.parent)}}},fe=(P,E,R,j,Q,K,se,he,le=0)=>{for(let te=le;te<P.length;te++){const xe=P[te]=he?Zn(P[te]):vn(P[te]);w(null,xe,E,R,j,Q,K,se,he)}},G=(P,E,R,j,Q,K,se)=>{const he=E.el=P.el;let{patchFlag:le,dynamicChildren:te,dirs:xe}=E;le|=P.patchFlag&16;const de=P.props||Qe,ce=E.props||Qe;let Ee;if(R&&si(R,!1),(Ee=ce.onVnodeBeforeUpdate)&&pn(Ee,R,E,P),xe&&ii(E,P,R,"beforeUpdate"),R&&si(R,!0),(de.innerHTML&&ce.innerHTML==null||de.textContent&&ce.textContent==null)&&p(he,""),te?ge(P.dynamicChildren,te,he,R,j,Gr(E,Q),K):se||T(P,E,he,null,R,j,Gr(E,Q),K,!1),le>0){if(le&16)pe(he,de,ce,R,Q);else if(le&2&&de.class!==ce.class&&l(he,"class",null,ce.class,Q),le&4&&l(he,"style",de.style,ce.style,Q),le&8){const Ue=E.dynamicProps;for(let Ye=0;Ye<Ue.length;Ye++){const je=Ue[Ye],Ct=de[je],wt=ce[je];(wt!==Ct||je==="value")&&l(he,je,Ct,wt,Q,R)}}le&1&&P.children!==E.children&&p(he,E.children)}else!se&&te==null&&pe(he,de,ce,R,Q);((Ee=ce.onVnodeUpdated)||xe)&&It(()=>{Ee&&pn(Ee,R,E,P),xe&&ii(E,P,R,"updated")},j)},ge=(P,E,R,j,Q,K,se)=>{for(let he=0;he<E.length;he++){const le=P[he],te=E[he],xe=le.el&&(le.type===Ce||!ai(le,te)||le.shapeFlag&198)?_(le.el):R;w(le,te,xe,null,j,Q,K,se,!0)}},pe=(P,E,R,j,Q)=>{if(E!==R){if(E!==Qe)for(const K in E)!ps(K)&&!(K in R)&&l(P,K,E[K],null,Q,j);for(const K in R){if(ps(K))continue;const se=R[K],he=E[K];se!==he&&K!=="value"&&l(P,K,he,se,Q,j)}"value"in R&&l(P,"value",E.value,R.value,Q)}},J=(P,E,R,j,Q,K,se,he,le)=>{const te=E.el=P?P.el:h(""),xe=E.anchor=P?P.anchor:h("");let{patchFlag:de,dynamicChildren:ce,slotScopeIds:Ee}=E;Ee&&(he=he?he.concat(Ee):Ee),P==null?(o(te,R,j),o(xe,R,j),fe(E.children||[],R,xe,Q,K,se,he,le)):de>0&&de&64&&ce&&P.dynamicChildren?(ge(P.dynamicChildren,ce,R,Q,K,se,he),(E.key!=null||Q&&E===Q.subTree)&&Qa(P,E,!0)):T(P,E,R,xe,Q,K,se,he,le)},Ae=(P,E,R,j,Q,K,se,he,le)=>{E.slotScopeIds=he,P==null?E.shapeFlag&512?Q.ctx.activate(E,R,j,se,le):$(E,R,j,Q,K,se,le):F(P,E,le)},$=(P,E,R,j,Q,K,se)=>{const he=P.component=pg(P,j,Q);if(Jo(P)&&(he.ctx.renderer=ve),mg(he,!1,se),he.asyncDep){if(Q&&Q.registerDep(he,N,se),!P.el){const le=he.subTree=me(Mt);I(null,le,E,R),P.placeholder=le.el}}else N(he,P,E,R,Q,K,se)},F=(P,E,R)=>{const j=E.component=P.component;if(og(P,E,R))if(j.asyncDep&&!j.asyncResolved){q(j,E,R);return}else j.next=E,j.update();else E.el=P.el,j.vnode=E},N=(P,E,R,j,Q,K,se)=>{const he=()=>{if(P.isMounted){let{next:de,bu:ce,u:Ee,parent:Ue,vnode:Ye}=P;{const Wt=$h(P);if(Wt){de&&(de.el=Ye.el,q(P,de,se)),Wt.asyncDep.then(()=>{P.isUnmounted||he()});return}}let je=de,Ct;si(P,!1),de?(de.el=Ye.el,q(P,de,se)):de=Ye,ce&&yo(ce),(Ct=de.props&&de.props.onVnodeBeforeUpdate)&&pn(Ct,Ue,de,Ye),si(P,!0);const wt=Mu(P),Vt=P.subTree;P.subTree=wt,w(Vt,wt,_(Vt.el),W(Vt),P,Q,K),de.el=wt.el,je===null&&rg(P,wt.el),Ee&&It(Ee,Q),(Ct=de.props&&de.props.onVnodeUpdated)&&It(()=>pn(Ct,Ue,de,Ye),Q)}else{let de;const{el:ce,props:Ee}=E,{bm:Ue,m:Ye,parent:je,root:Ct,type:wt}=P,Vt=Ii(E);si(P,!1),Ue&&yo(Ue),!Vt&&(de=Ee&&Ee.onVnodeBeforeMount)&&pn(de,je,E),si(P,!0);{Ct.ce&&Ct.ce._def.shadowRoot!==!1&&Ct.ce._injectChildStyle(wt);const Wt=P.subTree=Mu(P);w(null,Wt,R,j,P,Q,K),E.el=Wt.el}if(Ye&&It(Ye,Q),!Vt&&(de=Ee&&Ee.onVnodeMounted)){const Wt=E;It(()=>pn(de,je,Wt),Q)}(E.shapeFlag&256||je&&Ii(je.vnode)&&je.vnode.shapeFlag&256)&&P.a&&It(P.a,Q),P.isMounted=!0,E=R=j=null}};P.scope.on();const le=P.effect=new qc(he);P.scope.off();const te=P.update=le.run.bind(le),xe=P.job=le.runIfDirty.bind(le);xe.i=P,xe.id=P.uid,le.scheduler=()=>Ga(xe),si(P,!0),te()},q=(P,E,R)=>{E.component=P;const j=P.vnode.props;P.vnode=E,P.next=null,Hm(P,E.props,j,R),Wm(P,E.children,R),Nn(),mu(P),On()},T=(P,E,R,j,Q,K,se,he,le=!1)=>{const te=P&&P.children,xe=P?P.shapeFlag:0,de=E.children,{patchFlag:ce,shapeFlag:Ee}=E;if(ce>0){if(ce&128){C(te,de,R,j,Q,K,se,he,le);return}else if(ce&256){O(te,de,R,j,Q,K,se,he,le);return}}Ee&8?(xe&16&&ke(te,Q,K),de!==te&&p(R,de)):xe&16?Ee&16?C(te,de,R,j,Q,K,se,he,le):ke(te,Q,K,!0):(xe&8&&p(R,""),Ee&16&&fe(de,R,j,Q,K,se,he,le))},O=(P,E,R,j,Q,K,se,he,le)=>{P=P||Ri,E=E||Ri;const te=P.length,xe=E.length,de=Math.min(te,xe);let ce;for(ce=0;ce<de;ce++){const Ee=E[ce]=le?Zn(E[ce]):vn(E[ce]);w(P[ce],Ee,R,null,Q,K,se,he,le)}te>xe?ke(P,Q,K,!0,!1,de):fe(E,R,j,Q,K,se,he,le,de)},C=(P,E,R,j,Q,K,se,he,le)=>{let te=0;const xe=E.length;let de=P.length-1,ce=xe-1;for(;te<=de&&te<=ce;){const Ee=P[te],Ue=E[te]=le?Zn(E[te]):vn(E[te]);if(ai(Ee,Ue))w(Ee,Ue,R,null,Q,K,se,he,le);else break;te++}for(;te<=de&&te<=ce;){const Ee=P[de],Ue=E[ce]=le?Zn(E[ce]):vn(E[ce]);if(ai(Ee,Ue))w(Ee,Ue,R,null,Q,K,se,he,le);else break;de--,ce--}if(te>de){if(te<=ce){const Ee=ce+1,Ue=Ee<xe?E[Ee].el:j;for(;te<=ce;)w(null,E[te]=le?Zn(E[te]):vn(E[te]),R,Ue,Q,K,se,he,le),te++}}else if(te>ce)for(;te<=de;)be(P[te],Q,K,!0),te++;else{const Ee=te,Ue=te,Ye=new Map;for(te=Ue;te<=ce;te++){const Pt=E[te]=le?Zn(E[te]):vn(E[te]);Pt.key!=null&&Ye.set(Pt.key,te)}let je,Ct=0;const wt=ce-Ue+1;let Vt=!1,Wt=0;const Bn=new Array(wt);for(te=0;te<wt;te++)Bn[te]=0;for(te=Ee;te<=de;te++){const Pt=P[te];if(Ct>=wt){be(Pt,Q,K,!0);continue}let qt;if(Pt.key!=null)qt=Ye.get(Pt.key);else for(je=Ue;je<=ce;je++)if(Bn[je-Ue]===0&&ai(Pt,E[je])){qt=je;break}qt===void 0?be(Pt,Q,K,!0):(Bn[qt-Ue]=te+1,qt>=Wt?Wt=qt:Vt=!0,w(Pt,E[qt],R,null,Q,K,se,he,le),Ct++)}const gi=Vt?Km(Bn):Ri;for(je=gi.length-1,te=wt-1;te>=0;te--){const Pt=Ue+te,qt=E[Pt],Un=E[Pt+1],qs=Pt+1<xe?Un.el||Un.placeholder:j;Bn[te]===0?w(null,qt,R,qs,Q,K,se,he,le):Vt&&(je<0||te!==gi[je]?ne(qt,R,qs,2):je--)}}},ne=(P,E,R,j,Q=null)=>{const{el:K,type:se,transition:he,children:le,shapeFlag:te}=P;if(te&6){ne(P.component.subTree,E,R,j);return}if(te&128){P.suspense.move(E,R,j);return}if(te&64){se.move(P,E,R,ve);return}if(se===Ce){o(K,E,R);for(let de=0;de<le.length;de++)ne(le[de],E,R,j);o(P.anchor,E,R);return}if(se===ko){Z(P,E,R);return}if(j!==2&&te&1&&he)if(j===0)he.beforeEnter(K),o(K,E,R),It(()=>he.enter(K),Q);else{const{leave:de,delayLeave:ce,afterLeave:Ee}=he,Ue=()=>{P.ctx.isUnmounted?r(K):o(K,E,R)},Ye=()=>{K._isLeaving&&K[Tn](!0),de(K,()=>{Ue(),Ee&&Ee()})};ce?ce(K,Ue,Ye):Ye()}else o(K,E,R)},be=(P,E,R,j=!1,Q=!1)=>{const{type:K,props:se,ref:he,children:le,dynamicChildren:te,shapeFlag:xe,patchFlag:de,dirs:ce,cacheIndex:Ee}=P;if(de===-2&&(Q=!1),he!=null&&(Nn(),vs(he,null,R,P,!0),On()),Ee!=null&&(E.renderCache[Ee]=void 0),xe&256){E.ctx.deactivate(P);return}const Ue=xe&1&&ce,Ye=!Ii(P);let je;if(Ye&&(je=se&&se.onVnodeBeforeUnmount)&&pn(je,E,P),xe&6)Se(P.component,R,j);else{if(xe&128){P.suspense.unmount(R,j);return}Ue&&ii(P,null,E,"beforeUnmount"),xe&64?P.type.remove(P,E,R,ve,j):te&&!te.hasOnce&&(K!==Ce||de>0&&de&64)?ke(te,E,R,!1,!0):(K===Ce&&de&384||!Q&&xe&16)&&ke(le,E,R),j&&ye(P)}(Ye&&(je=se&&se.onVnodeUnmounted)||Ue)&&It(()=>{je&&pn(je,E,P),Ue&&ii(P,null,E,"unmounted")},R)},ye=P=>{const{type:E,el:R,anchor:j,transition:Q}=P;if(E===Ce){_e(R,j);return}if(E===ko){U(P);return}const K=()=>{r(R),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(P.shapeFlag&1&&Q&&!Q.persisted){const{leave:se,delayLeave:he}=Q,le=()=>se(R,K);he?he(P.el,K,le):le()}else K()},_e=(P,E)=>{let R;for(;P!==E;)R=y(P),r(P),P=R;r(E)},Se=(P,E,R)=>{const{bum:j,scope:Q,job:K,subTree:se,um:he,m:le,a:te}=P;Tu(le),Tu(te),j&&yo(j),Q.stop(),K&&(K.flags|=8,be(se,P,E,R)),he&&It(he,E),It(()=>{P.isUnmounted=!0},E)},ke=(P,E,R,j=!1,Q=!1,K=0)=>{for(let se=K;se<P.length;se++)be(P[se],E,R,j,Q)},W=P=>{if(P.shapeFlag&6)return W(P.component.subTree);if(P.shapeFlag&128)return P.suspense.next();const E=y(P.anchor||P.el),R=E&&E[gh];return R?y(R):E};let Y=!1;const ie=(P,E,R)=>{P==null?E._vnode&&be(E._vnode,null,null,!0):w(E._vnode||null,P,E,null,null,null,R),E._vnode=P,Y||(Y=!0,mu(),fh(),Y=!1)},ve={p:w,um:be,m:ne,r:ye,mt:$,mc:fe,pc:T,pbc:ge,n:W,o:e};return{render:ie,hydrate:void 0,createApp:zm(ie)}}function Gr({type:e,props:n},i){return i==="svg"&&e==="foreignObject"||i==="mathml"&&e==="annotation-xml"&&n&&n.encoding&&n.encoding.includes("html")?void 0:i}function si({effect:e,job:n},i){i?(e.flags|=32,n.flags|=4):(e.flags&=-33,n.flags&=-5)}function Ym(e,n){return(!e||e&&!e.pendingBranch)&&n&&!n.persisted}function Qa(e,n,i=!1){const o=e.children,r=n.children;if(Me(o)&&Me(r))for(let l=0;l<o.length;l++){const u=o[l];let h=r[l];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=r[l]=Zn(r[l]),h.el=u.el),!i&&h.patchFlag!==-2&&Qa(u,h)),h.type===er&&h.patchFlag!==-1&&(h.el=u.el),h.type===Mt&&!h.el&&(h.el=u.el)}}function Km(e){const n=e.slice(),i=[0];let o,r,l,u,h;const d=e.length;for(o=0;o<d;o++){const m=e[o];if(m!==0){if(r=i[i.length-1],e[r]<m){n[o]=r,i.push(o);continue}for(l=0,u=i.length-1;l<u;)h=l+u>>1,e[i[h]]<m?l=h+1:u=h;m<e[i[l]]&&(l>0&&(n[o]=i[l-1]),i[l]=o)}}for(l=i.length,u=i[l-1];l-- >0;)i[l]=u,u=n[u];return i}function $h(e){const n=e.subTree.component;if(n)return n.asyncDep&&!n.asyncResolved?n:$h(n)}function Tu(e){if(e)for(let n=0;n<e.length;n++)e[n].flags|=8}const Jm=Symbol.for("v-scx"),Qm=()=>Xt(Jm);function yt(e,n,i){return Dh(e,n,i)}function Dh(e,n,i=Qe){const{immediate:o,deep:r,flush:l,once:u}=i,h=mt({},i),d=n&&o||!n&&l!=="post";let m;if(Ms){if(l==="sync"){const k=Qm();m=k.__watcherHandles||(k.__watcherHandles=[])}else if(!d){const k=()=>{};return k.stop=yn,k.resume=yn,k.pause=yn,k}}const p=Et;h.call=(k,b,w)=>an(k,p,b,w);let _=!1;l==="post"?h.scheduler=k=>{It(k,p&&p.suspense)}:l!=="sync"&&(_=!0,h.scheduler=(k,b)=>{b?k():Ga(k)}),h.augmentJob=k=>{n&&(k.flags|=4),_&&(k.flags|=2,p&&(k.id=p.uid,k.i=p))};const y=dm(e,n,h);return Ms&&(m?m.push(y):d&&y()),y}function Xm(e,n,i){const o=this.proxy,r=at(e)?e.includes(".")?Hh(o,e):()=>o[e]:e.bind(o,o);let l;Ne(n)?l=n:(l=n.handler,i=n);const u=zs(this),h=Dh(r,l.bind(o),i);return u(),h}function Hh(e,n){const i=n.split(".");return()=>{let o=e;for(let r=0;r<i.length&&o;r++)o=o[i[r]];return o}}const eg=(e,n)=>n==="modelValue"||n==="model-value"?e.modelModifiers:e[`${n}Modifiers`]||e[`${en(n)}Modifiers`]||e[`${Jn(n)}Modifiers`];function tg(e,n,...i){if(e.isUnmounted)return;const o=e.vnode.props||Qe;let r=i;const l=n.startsWith("update:"),u=l&&eg(o,n.slice(7));u&&(u.trim&&(r=i.map(p=>at(p)?p.trim():p)),u.number&&(r=i.map(Mo)));let h,d=o[h=Dr(n)]||o[h=Dr(en(n))];!d&&l&&(d=o[h=Dr(Jn(n))]),d&&an(d,e,6,r);const m=o[h+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,an(m,e,6,r)}}const ng=new WeakMap;function Vh(e,n,i=!1){const o=i?ng:n.emitsCache,r=o.get(e);if(r!==void 0)return r;const l=e.emits;let u={},h=!1;if(!Ne(e)){const d=m=>{const p=Vh(m,n,!0);p&&(h=!0,mt(u,p))};!i&&n.mixins.length&&n.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}return!l&&!h?(Ke(e)&&o.set(e,null),null):(Me(l)?l.forEach(d=>u[d]=null):mt(u,l),Ke(e)&&o.set(e,u),u)}function Xo(e,n){return!e||!Zo(n)?!1:(n=n.slice(2).replace(/Once$/,""),Ge(e,n[0].toLowerCase()+n.slice(1))||Ge(e,Jn(n))||Ge(e,n))}function Mu(e){const{type:n,vnode:i,proxy:o,withProxy:r,propsOptions:[l],slots:u,attrs:h,emit:d,render:m,renderCache:p,props:_,data:y,setupState:k,ctx:b,inheritAttrs:w}=e,A=Oo(e);let I,z;try{if(i.shapeFlag&4){const U=r||o,V=U;I=vn(m.call(V,U,p,_,k,y,b)),z=h}else{const U=n;I=vn(U.length>1?U(_,{attrs:h,slots:u,emit:d}):U(_,null)),z=n.props?h:ig(h)}}catch(U){ws.length=0,Ko(U,e,1),I=me(Mt)}let Z=I;if(z&&w!==!1){const U=Object.keys(z),{shapeFlag:V}=Z;U.length&&V&7&&(l&&U.some(Ba)&&(z=sg(z,l)),Z=Kn(Z,z,!1,!0))}return i.dirs&&(Z=Kn(Z,null,!1,!0),Z.dirs=Z.dirs?Z.dirs.concat(i.dirs):i.dirs),i.transition&&fi(Z,i.transition),I=Z,Oo(A),I}const ig=e=>{let n;for(const i in e)(i==="class"||i==="style"||Zo(i))&&((n||(n={}))[i]=e[i]);return n},sg=(e,n)=>{const i={};for(const o in e)(!Ba(o)||!(o.slice(9)in n))&&(i[o]=e[o]);return i};function og(e,n,i){const{props:o,children:r,component:l}=e,{props:u,children:h,patchFlag:d}=n,m=l.emitsOptions;if(n.dirs||n.transition)return!0;if(i&&d>=0){if(d&1024)return!0;if(d&16)return o?Eu(o,u,m):!!u;if(d&8){const p=n.dynamicProps;for(let _=0;_<p.length;_++){const y=p[_];if(u[y]!==o[y]&&!Xo(m,y))return!0}}}else return(r||h)&&(!h||!h.$stable)?!0:o===u?!1:o?u?Eu(o,u,m):!0:!!u;return!1}function Eu(e,n,i){const o=Object.keys(n);if(o.length!==Object.keys(e).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(n[l]!==e[l]&&!Xo(i,l))return!0}return!1}function rg({vnode:e,parent:n},i){for(;n;){const o=n.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o===e)(e=n.vnode).el=i,n=n.parent;else break}}const jh=e=>e.__isSuspense;function ag(e,n){n&&n.pendingBranch?Me(e)?n.effects.push(...e):n.effects.push(e):mm(e)}const Ce=Symbol.for("v-fgt"),er=Symbol.for("v-txt"),Mt=Symbol.for("v-cmt"),ko=Symbol.for("v-stc"),ws=[];let jt=null;function S(e=!1){ws.push(jt=e?null:[])}function lg(){ws.pop(),jt=ws[ws.length-1]||null}let As=1;function Uo(e,n=!1){As+=e,e<0&&jt&&n&&(jt.hasOnce=!0)}function Zh(e){return e.dynamicChildren=As>0?jt||Ri:null,lg(),As>0&&jt&&jt.push(e),e}function x(e,n,i,o,r,l){return Zh(g(e,n,i,o,r,l,!0))}function vt(e,n,i,o,r){return Zh(me(e,n,i,o,r,!0))}function Ts(e){return e?e.__v_isVNode===!0:!1}function ai(e,n){return e.type===n.type&&e.key===n.key}const Wh=({key:e})=>e??null,So=({ref:e,ref_key:n,ref_for:i})=>(typeof e=="number"&&(e=""+e),e!=null?at(e)||ot(e)||Ne(e)?{i:St,r:e,k:n,f:!!i}:e:null);function g(e,n=null,i=null,o=0,r=null,l=e===Ce?0:1,u=!1,h=!1){const d={__v_isVNode:!0,__v_skip:!0,type:e,props:n,key:n&&Wh(n),ref:n&&So(n),scopeId:mh,slotScopeIds:null,children:i,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:St};return h?(Xa(d,i),l&128&&e.normalize(d)):i&&(d.shapeFlag|=at(i)?8:16),As>0&&!u&&jt&&(d.patchFlag>0||l&6)&&d.patchFlag!==32&&jt.push(d),d}const me=ug;function ug(e,n=null,i=null,o=0,r=null,l=!1){if((!e||e===Em)&&(e=Mt),Ts(e)){const h=Kn(e,n,!0);return i&&Xa(h,i),As>0&&!l&&jt&&(h.shapeFlag&6?jt[jt.indexOf(e)]=h:jt.push(h)),h.patchFlag=-2,h}if(wg(e)&&(e=e.__vccOpts),n){n=cg(n);let{class:h,style:d}=n;h&&!at(h)&&(n.class=Rt(h)),Ke(d)&&(Wa(d)&&!Me(d)&&(d=mt({},d)),n.style=Wi(d))}const u=at(e)?1:jh(e)?128:_h(e)?64:Ke(e)?4:Ne(e)?2:0;return g(e,n,i,o,r,u,l,!0)}function cg(e){return e?Wa(e)||Oh(e)?mt({},e):e:null}function Kn(e,n,i=!1,o=!1){const{props:r,ref:l,patchFlag:u,children:h,transition:d}=e,m=n?hg(r||{},n):r,p={__v_isVNode:!0,__v_skip:!0,type:e.type,props:m,key:m&&Wh(m),ref:n&&n.ref?i&&l?Me(l)?l.concat(So(n)):[l,So(n)]:So(n):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:h,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:n&&e.type!==Ce?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:d,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Kn(e.ssContent),ssFallback:e.ssFallback&&Kn(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return d&&o&&fi(p,d.clone(p)),p}function At(e=" ",n=0){return me(er,null,e,n)}function Fi(e,n){const i=me(ko,null,e);return i.staticCount=n,i}function ae(e="",n=!1){return n?(S(),vt(Mt,null,e)):me(Mt,null,e)}function vn(e){return e==null||typeof e=="boolean"?me(Mt):Me(e)?me(Ce,null,e.slice()):Ts(e)?Zn(e):me(er,null,String(e))}function Zn(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:Kn(e)}function Xa(e,n){let i=0;const{shapeFlag:o}=e;if(n==null)n=null;else if(Me(n))i=16;else if(typeof n=="object")if(o&65){const r=n.default;r&&(r._c&&(r._d=!1),Xa(e,r()),r._c&&(r._d=!0));return}else{i=32;const r=n._;!r&&!Oh(n)?n._ctx=St:r===3&&St&&(St.slots._===1?n._=1:(n._=2,e.patchFlag|=1024))}else Ne(n)?(n={default:n,_ctx:St},i=32):(n=String(n),o&64?(i=16,n=[At(n)]):i=8);e.children=n,e.shapeFlag|=i}function hg(...e){const n={};for(let i=0;i<e.length;i++){const o=e[i];for(const r in o)if(r==="class")n.class!==o.class&&(n.class=Rt([n.class,o.class]));else if(r==="style")n.style=Wi([n.style,o.style]);else if(Zo(r)){const l=n[r],u=o[r];u&&l!==u&&!(Me(l)&&l.includes(u))&&(n[r]=l?[].concat(l,u):u)}else r!==""&&(n[r]=o[r])}return n}function pn(e,n,i,o=null){an(e,n,7,[i,o])}const dg=Lh();let fg=0;function pg(e,n,i){const o=e.type,r=(n?n.appContext:e.appContext)||dg,l={uid:fg++,vnode:e,type:o,parent:n,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new jc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(r.provides),ids:n?n.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Bh(o,r),emitsOptions:Vh(o,r),emit:null,emitted:null,propsDefaults:Qe,inheritAttrs:o.inheritAttrs,ctx:Qe,data:Qe,props:Qe,attrs:Qe,slots:Qe,refs:Qe,setupState:Qe,setupContext:null,suspense:i,suspenseId:i?i.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx={_:l},l.root=n?n.root:l,l.emit=tg.bind(null,l),e.ce&&e.ce(l),l}let Et=null;const tr=()=>Et||St;let Fo,va;{const e=Go(),n=(i,o)=>{let r;return(r=e[i])||(r=e[i]=[]),r.push(o),l=>{r.length>1?r.forEach(u=>u(l)):r[0](l)}};Fo=n("__VUE_INSTANCE_SETTERS__",i=>Et=i),va=n("__VUE_SSR_SETTERS__",i=>Ms=i)}const zs=e=>{const n=Et;return Fo(e),e.scope.on(),()=>{e.scope.off(),Fo(n)}},Lu=()=>{Et&&Et.scope.off(),Fo(null)};function qh(e){return e.vnode.shapeFlag&4}let Ms=!1;function mg(e,n=!1,i=!1){n&&va(n);const{props:o,children:r}=e.vnode,l=qh(e);Dm(e,o,l,n),Zm(e,r,i||n);const u=l?gg(e,n):void 0;return n&&va(!1),u}function gg(e,n){const i=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Rm);const{setup:o}=i;if(o){Nn();const r=e.setupContext=o.length>1?vg(e):null,l=zs(e),u=Is(o,e,0,[e.props,r]),h=Uc(u);if(On(),l(),(h||e.sp)&&!Ii(e)&&Ph(e),h){if(u.then(Lu,Lu),n)return u.then(d=>{Ru(e,d)}).catch(d=>{Ko(d,e,0)});e.asyncDep=u}else Ru(e,u)}else Gh(e)}function Ru(e,n,i){Ne(n)?e.type.__ssrInlineRender?e.ssrRender=n:e.render=n:Ke(n)&&(e.setupState=uh(n)),Gh(e)}function Gh(e,n,i){const o=e.type;e.render||(e.render=o.render||yn);{const r=zs(e);Nn();try{Nm(e)}finally{On(),r()}}}const _g={get(e,n){return Tt(e,"get",""),e[n]}};function vg(e){const n=i=>{e.exposed=i||{}};return{attrs:new Proxy(e.attrs,_g),slots:e.slots,emit:e.emit,expose:n}}function nr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(uh(qa(e.exposed)),{get(n,i){if(i in n)return n[i];if(i in ys)return ys[i](e)},has(n,i){return i in n||i in ys}})):e.proxy}function yg(e,n=!0){return Ne(e)?e.displayName||e.name:e.name||n&&e.__name}function wg(e){return Ne(e)&&"__vccOpts"in e}const Le=(e,n)=>cm(e,n,Ms);function el(e,n,i){try{Uo(-1);const o=arguments.length;return o===2?Ke(n)&&!Me(n)?Ts(n)?me(e,null,[n]):me(e,n):me(e,null,n):(o>3?i=Array.prototype.slice.call(arguments,2):o===3&&Ts(i)&&(i=[i]),me(e,n,i))}finally{Uo(1)}}const bg="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ya;const Nu=typeof window<"u"&&window.trustedTypes;if(Nu)try{ya=Nu.createPolicy("vue",{createHTML:e=>e})}catch{}const Yh=ya?e=>ya.createHTML(e):e=>e,kg="http://www.w3.org/2000/svg",Sg="http://www.w3.org/1998/Math/MathML",An=typeof document<"u"?document:null,Ou=An&&An.createElement("template"),Cg={insert:(e,n,i)=>{n.insertBefore(e,i||null)},remove:e=>{const n=e.parentNode;n&&n.removeChild(e)},createElement:(e,n,i,o)=>{const r=n==="svg"?An.createElementNS(kg,e):n==="mathml"?An.createElementNS(Sg,e):i?An.createElement(e,{is:i}):An.createElement(e);return e==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:e=>An.createTextNode(e),createComment:e=>An.createComment(e),setText:(e,n)=>{e.nodeValue=n},setElementText:(e,n)=>{e.textContent=n},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>An.querySelector(e),setScopeId(e,n){e.setAttribute(n,"")},insertStaticContent(e,n,i,o,r,l){const u=i?i.previousSibling:n.lastChild;if(r&&(r===l||r.nextSibling))for(;n.insertBefore(r.cloneNode(!0),i),!(r===l||!(r=r.nextSibling)););else{Ou.innerHTML=Yh(o==="svg"?`<svg>${e}</svg>`:o==="mathml"?`<math>${e}</math>`:e);const h=Ou.content;if(o==="svg"||o==="mathml"){const d=h.firstChild;for(;d.firstChild;)h.appendChild(d.firstChild);h.removeChild(d)}n.insertBefore(h,i)}return[u?u.nextSibling:n.firstChild,i?i.previousSibling:n.lastChild]}},$n="transition",ls="animation",zi=Symbol("_vtc"),Kh={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Jh=mt({},bh,Kh),Pg=e=>(e.displayName="Transition",e.props=Jh,e),Bi=Pg((e,{slots:n})=>el(ym,Qh(e),n)),oi=(e,n=[])=>{Me(e)?e.forEach(i=>i(...n)):e&&e(...n)},Iu=e=>e?Me(e)?e.some(n=>n.length>1):e.length>1:!1;function Qh(e){const n={};for(const J in e)J in Kh||(n[J]=e[J]);if(e.css===!1)return n;const{name:i="v",type:o,duration:r,enterFromClass:l=`${i}-enter-from`,enterActiveClass:u=`${i}-enter-active`,enterToClass:h=`${i}-enter-to`,appearFromClass:d=l,appearActiveClass:m=u,appearToClass:p=h,leaveFromClass:_=`${i}-leave-from`,leaveActiveClass:y=`${i}-leave-active`,leaveToClass:k=`${i}-leave-to`}=e,b=xg(r),w=b&&b[0],A=b&&b[1],{onBeforeEnter:I,onEnter:z,onEnterCancelled:Z,onLeave:U,onLeaveCancelled:V,onBeforeAppear:X=I,onAppear:re=z,onAppearCancelled:fe=Z}=n,G=(J,Ae,$,F)=>{J._enterCancelled=F,Hn(J,Ae?p:h),Hn(J,Ae?m:u),$&&$()},ge=(J,Ae)=>{J._isLeaving=!1,Hn(J,_),Hn(J,k),Hn(J,y),Ae&&Ae()},pe=J=>(Ae,$)=>{const F=J?re:z,N=()=>G(Ae,J,$);oi(F,[Ae,N]),Bu(()=>{Hn(Ae,J?d:l),gn(Ae,J?p:h),Iu(F)||Uu(Ae,o,w,N)})};return mt(n,{onBeforeEnter(J){oi(I,[J]),gn(J,l),gn(J,u)},onBeforeAppear(J){oi(X,[J]),gn(J,d),gn(J,m)},onEnter:pe(!1),onAppear:pe(!0),onLeave(J,Ae){J._isLeaving=!0;const $=()=>ge(J,Ae);gn(J,_),J._enterCancelled?(gn(J,y),wa(J)):(wa(J),gn(J,y)),Bu(()=>{J._isLeaving&&(Hn(J,_),gn(J,k),Iu(U)||Uu(J,o,A,$))}),oi(U,[J,$])},onEnterCancelled(J){G(J,!1,void 0,!0),oi(Z,[J])},onAppearCancelled(J){G(J,!0,void 0,!0),oi(fe,[J])},onLeaveCancelled(J){ge(J),oi(V,[J])}})}function xg(e){if(e==null)return null;if(Ke(e))return[Yr(e.enter),Yr(e.leave)];{const n=Yr(e);return[n,n]}}function Yr(e){return Tp(e)}function gn(e,n){n.split(/\s+/).forEach(i=>i&&e.classList.add(i)),(e[zi]||(e[zi]=new Set)).add(n)}function Hn(e,n){n.split(/\s+/).forEach(o=>o&&e.classList.remove(o));const i=e[zi];i&&(i.delete(n),i.size||(e[zi]=void 0))}function Bu(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let Ag=0;function Uu(e,n,i,o){const r=e._endId=++Ag,l=()=>{r===e._endId&&o()};if(i!=null)return setTimeout(l,i);const{type:u,timeout:h,propCount:d}=Xh(e,n);if(!u)return o();const m=u+"end";let p=0;const _=()=>{e.removeEventListener(m,y),l()},y=k=>{k.target===e&&++p>=d&&_()};setTimeout(()=>{p<d&&_()},h+1),e.addEventListener(m,y)}function Xh(e,n){const i=window.getComputedStyle(e),o=b=>(i[b]||"").split(", "),r=o(`${$n}Delay`),l=o(`${$n}Duration`),u=Fu(r,l),h=o(`${ls}Delay`),d=o(`${ls}Duration`),m=Fu(h,d);let p=null,_=0,y=0;n===$n?u>0&&(p=$n,_=u,y=l.length):n===ls?m>0&&(p=ls,_=m,y=d.length):(_=Math.max(u,m),p=_>0?u>m?$n:ls:null,y=p?p===$n?l.length:d.length:0);const k=p===$n&&/\b(?:transform|all)(?:,|$)/.test(o(`${$n}Property`).toString());return{type:p,timeout:_,propCount:y,hasTransform:k}}function Fu(e,n){for(;e.length<n.length;)e=e.concat(e);return Math.max(...n.map((i,o)=>zu(i)+zu(e[o])))}function zu(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function wa(e){return(e?e.ownerDocument:document).body.offsetHeight}function Tg(e,n,i){const o=e[zi];o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?e.removeAttribute("class"):i?e.setAttribute("class",n):e.className=n}const zo=Symbol("_vod"),ed=Symbol("_vsh"),Mg={name:"show",beforeMount(e,{value:n},{transition:i}){e[zo]=e.style.display==="none"?"":e.style.display,i&&n?i.beforeEnter(e):us(e,n)},mounted(e,{value:n},{transition:i}){i&&n&&i.enter(e)},updated(e,{value:n,oldValue:i},{transition:o}){!n!=!i&&(o?n?(o.beforeEnter(e),us(e,!0),o.enter(e)):o.leave(e,()=>{us(e,!1)}):us(e,n))},beforeUnmount(e,{value:n}){us(e,n)}};function us(e,n){e.style.display=n?e[zo]:"none",e[ed]=!n}const Eg=Symbol(""),Lg=/(?:^|;)\s*display\s*:/;function Rg(e,n,i){const o=e.style,r=at(i);let l=!1;if(i&&!r){if(n)if(at(n))for(const u of n.split(";")){const h=u.slice(0,u.indexOf(":")).trim();i[h]==null&&Co(o,h,"")}else for(const u in n)i[u]==null&&Co(o,u,"");for(const u in i)u==="display"&&(l=!0),Co(o,u,i[u])}else if(r){if(n!==i){const u=o[Eg];u&&(i+=";"+u),o.cssText=i,l=Lg.test(i)}}else n&&e.removeAttribute("style");zo in e&&(e[zo]=l?o.display:"",e[ed]&&(o.display="none"))}const $u=/\s*!important$/;function Co(e,n,i){if(Me(i))i.forEach(o=>Co(e,n,o));else if(i==null&&(i=""),n.startsWith("--"))e.setProperty(n,i);else{const o=Ng(e,n);$u.test(i)?e.setProperty(Jn(o),i.replace($u,""),"important"):e[o]=i}}const Du=["Webkit","Moz","ms"],Kr={};function Ng(e,n){const i=Kr[n];if(i)return i;let o=en(n);if(o!=="filter"&&o in e)return Kr[n]=o;o=qo(o);for(let r=0;r<Du.length;r++){const l=Du[r]+o;if(l in e)return Kr[n]=l}return n}const Hu="http://www.w3.org/1999/xlink";function Vu(e,n,i,o,r,l=Op(n)){o&&n.startsWith("xlink:")?i==null?e.removeAttributeNS(Hu,n.slice(6,n.length)):e.setAttributeNS(Hu,n,i):i==null||l&&!Dc(i)?e.removeAttribute(n):e.setAttribute(n,l?"":rn(i)?String(i):i)}function ju(e,n,i,o,r){if(n==="innerHTML"||n==="textContent"){i!=null&&(e[n]=n==="innerHTML"?Yh(i):i);return}const l=e.tagName;if(n==="value"&&l!=="PROGRESS"&&!l.includes("-")){const h=l==="OPTION"?e.getAttribute("value")||"":e.value,d=i==null?e.type==="checkbox"?"on":"":String(i);(h!==d||!("_value"in e))&&(e.value=d),i==null&&e.removeAttribute(n),e._value=i;return}let u=!1;if(i===""||i==null){const h=typeof e[n];h==="boolean"?i=Dc(i):i==null&&h==="string"?(i="",u=!0):h==="number"&&(i=0,u=!0)}try{e[n]=i}catch{}u&&e.removeAttribute(r||n)}function qn(e,n,i,o){e.addEventListener(n,i,o)}function Og(e,n,i,o){e.removeEventListener(n,i,o)}const Zu=Symbol("_vei");function Ig(e,n,i,o,r=null){const l=e[Zu]||(e[Zu]={}),u=l[n];if(o&&u)u.value=o;else{const[h,d]=Bg(n);if(o){const m=l[n]=zg(o,r);qn(e,h,m,d)}else u&&(Og(e,h,u,d),l[n]=void 0)}}const Wu=/(?:Once|Passive|Capture)$/;function Bg(e){let n;if(Wu.test(e)){n={};let o;for(;o=e.match(Wu);)e=e.slice(0,e.length-o[0].length),n[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Jn(e.slice(2)),n]}let Jr=0;const Ug=Promise.resolve(),Fg=()=>Jr||(Ug.then(()=>Jr=0),Jr=Date.now());function zg(e,n){const i=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=i.attached)return;an($g(o,i.value),n,5,[o])};return i.value=e,i.attached=Fg(),i}function $g(e,n){if(Me(n)){const i=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{i.call(e),e._stopped=!0},n.map(o=>r=>!r._stopped&&o&&o(r))}else return n}const qu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Dg=(e,n,i,o,r,l)=>{const u=r==="svg";n==="class"?Tg(e,o,u):n==="style"?Rg(e,i,o):Zo(n)?Ba(n)||Ig(e,n,i,o,l):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):Hg(e,n,o,u))?(ju(e,n,o),!e.tagName.includes("-")&&(n==="value"||n==="checked"||n==="selected")&&Vu(e,n,o,u,l,n!=="value")):e._isVueCE&&(/[A-Z]/.test(n)||!at(o))?ju(e,en(n),o,l,n):(n==="true-value"?e._trueValue=o:n==="false-value"&&(e._falseValue=o),Vu(e,n,o,u))};function Hg(e,n,i,o){if(o)return!!(n==="innerHTML"||n==="textContent"||n in e&&qu(n)&&Ne(i));if(n==="spellcheck"||n==="draggable"||n==="translate"||n==="autocorrect"||n==="form"||n==="list"&&e.tagName==="INPUT"||n==="type"&&e.tagName==="TEXTAREA")return!1;if(n==="width"||n==="height"){const r=e.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return qu(n)&&at(i)?!1:n in e}const td=new WeakMap,nd=new WeakMap,$o=Symbol("_moveCb"),Gu=Symbol("_enterCb"),Vg=e=>(delete e.props.mode,e),jg=Vg({name:"TransitionGroup",props:mt({},Jh,{tag:String,moveClass:String}),setup(e,{slots:n}){const i=tr(),o=wh();let r,l;return Ah(()=>{if(!r.length)return;const u=e.moveClass||`${e.name||"v"}-move`;if(!Yg(r[0].el,i.vnode.el,u)){r=[];return}r.forEach(Wg),r.forEach(qg);const h=r.filter(Gg);wa(i.vnode.el),h.forEach(d=>{const m=d.el,p=m.style;gn(m,u),p.transform=p.webkitTransform=p.transitionDuration="";const _=m[$o]=y=>{y&&y.target!==m||(!y||y.propertyName.endsWith("transform"))&&(m.removeEventListener("transitionend",_),m[$o]=null,Hn(m,u))};m.addEventListener("transitionend",_)}),r=[]}),()=>{const u=$e(e),h=Qh(u);let d=u.tag||Ce;if(r=[],l)for(let m=0;m<l.length;m++){const p=l[m];p.el&&p.el instanceof Element&&(r.push(p),fi(p,xs(p,h,o,i)),td.set(p,p.el.getBoundingClientRect()))}l=n.default?Ya(n.default()):[];for(let m=0;m<l.length;m++){const p=l[m];p.key!=null&&fi(p,xs(p,h,o,i))}return me(d,null,l)}}}),Zg=jg;function Wg(e){const n=e.el;n[$o]&&n[$o](),n[Gu]&&n[Gu]()}function qg(e){nd.set(e,e.el.getBoundingClientRect())}function Gg(e){const n=td.get(e),i=nd.get(e),o=n.left-i.left,r=n.top-i.top;if(o||r){const l=e.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${r}px)`,l.transitionDuration="0s",e}}function Yg(e,n,i){const o=e.cloneNode(),r=e[zi];r&&r.forEach(h=>{h.split(/\s+/).forEach(d=>d&&o.classList.remove(d))}),i.split(/\s+/).forEach(h=>h&&o.classList.add(h)),o.style.display="none";const l=n.nodeType===1?n:n.parentNode;l.appendChild(o);const{hasTransform:u}=Xh(o);return l.removeChild(o),u}const $i=e=>{const n=e.props["onUpdate:modelValue"]||!1;return Me(n)?i=>yo(n,i):n};function Kg(e){e.target.composing=!0}function Yu(e){const n=e.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const Rn=Symbol("_assign"),Ft={created(e,{modifiers:{lazy:n,trim:i,number:o}},r){e[Rn]=$i(r);const l=o||r.props&&r.props.type==="number";qn(e,n?"change":"input",u=>{if(u.target.composing)return;let h=e.value;i&&(h=h.trim()),l&&(h=Mo(h)),e[Rn](h)}),i&&qn(e,"change",()=>{e.value=e.value.trim()}),n||(qn(e,"compositionstart",Kg),qn(e,"compositionend",Yu),qn(e,"change",Yu))},mounted(e,{value:n}){e.value=n??""},beforeUpdate(e,{value:n,oldValue:i,modifiers:{lazy:o,trim:r,number:l}},u){if(e[Rn]=$i(u),e.composing)return;const h=(l||e.type==="number")&&!/^0\d/.test(e.value)?Mo(e.value):e.value,d=n??"";h!==d&&(document.activeElement===e&&e.type!=="range"&&(o&&n===i||r&&e.value.trim()===d)||(e.value=d))}},Po={deep:!0,created(e,n,i){e[Rn]=$i(i),qn(e,"change",()=>{const o=e._modelValue,r=Es(e),l=e.checked,u=e[Rn];if(Me(o)){const h=za(o,r),d=h!==-1;if(l&&!d)u(o.concat(r));else if(!l&&d){const m=[...o];m.splice(h,1),u(m)}}else if(Zi(o)){const h=new Set(o);l?h.add(r):h.delete(r),u(h)}else u(id(e,l))})},mounted:Ku,beforeUpdate(e,n,i){e[Rn]=$i(i),Ku(e,n,i)}};function Ku(e,{value:n,oldValue:i},o){e._modelValue=n;let r;if(Me(n))r=za(n,o.props.value)>-1;else if(Zi(n))r=n.has(o.props.value);else{if(n===i)return;r=Os(n,id(e,!0))}e.checked!==r&&(e.checked=r)}const Do={deep:!0,created(e,{value:n,modifiers:{number:i}},o){const r=Zi(n);qn(e,"change",()=>{const l=Array.prototype.filter.call(e.options,u=>u.selected).map(u=>i?Mo(Es(u)):Es(u));e[Rn](e.multiple?r?new Set(l):l:l[0]),e._assigning=!0,Bs(()=>{e._assigning=!1})}),e[Rn]=$i(o)},mounted(e,{value:n}){Ju(e,n)},beforeUpdate(e,n,i){e[Rn]=$i(i)},updated(e,{value:n}){e._assigning||Ju(e,n)}};function Ju(e,n){const i=e.multiple,o=Me(n);if(!(i&&!o&&!Zi(n))){for(let r=0,l=e.options.length;r<l;r++){const u=e.options[r],h=Es(u);if(i)if(o){const d=typeof h;d==="string"||d==="number"?u.selected=n.some(m=>String(m)===String(h)):u.selected=za(n,h)>-1}else u.selected=n.has(h);else if(Os(Es(u),n)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!i&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Es(e){return"_value"in e?e._value:e.value}function id(e,n){const i=n?"_trueValue":"_falseValue";return i in e?e[i]:n}const Jg=["ctrl","shift","alt","meta"],Qg={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,n)=>Jg.some(i=>e[`${i}Key`]&&!n.includes(i))},zt=(e,n)=>{const i=e._withMods||(e._withMods={}),o=n.join(".");return i[o]||(i[o]=(r,...l)=>{for(let u=0;u<n.length;u++){const h=Qg[n[u]];if(h&&h(r,n))return}return e(r,...l)})},Xg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ho=(e,n)=>{const i=e._withKeys||(e._withKeys={}),o=n.join(".");return i[o]||(i[o]=r=>{if(!("key"in r))return;const l=Jn(r.key);if(n.some(u=>u===l||Xg[u]===l))return e(r)})},e_=mt({patchProp:Dg},Cg);let Qu;function t_(){return Qu||(Qu=qm(e_))}const n_=(...e)=>{const n=t_().createApp(...e),{mount:i}=n;return n.mount=o=>{const r=s_(o);if(!r)return;const l=n._component;!Ne(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const u=i(r,!1,i_(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),u},n};function i_(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function s_(e){return at(e)?document.querySelector(e):e}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let sd;const ir=e=>sd=e,od=Symbol();function ba(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var bs;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(bs||(bs={}));function o_(){const e=Zc(!0),n=e.run(()=>ue({}));let i=[],o=[];const r=qa({install(l){ir(r),r._a=l,l.provide(od,r),l.config.globalProperties.$pinia=r,o.forEach(u=>i.push(u)),o=[]},use(l){return this._a?i.push(l):o.push(l),this},_p:i,_a:null,_e:e,_s:new Map,state:n});return r}const rd=()=>{};function Xu(e,n,i,o=rd){e.push(n);const r=()=>{const l=e.indexOf(n);l>-1&&(e.splice(l,1),o())};return!i&&Wc()&&Bp(r),r}function Ai(e,...n){e.slice().forEach(i=>{i(...n)})}const r_=e=>e(),ec=Symbol(),Qr=Symbol();function ka(e,n){e instanceof Map&&n instanceof Map?n.forEach((i,o)=>e.set(o,i)):e instanceof Set&&n instanceof Set&&n.forEach(e.add,e);for(const i in n){if(!n.hasOwnProperty(i))continue;const o=n[i],r=e[i];ba(r)&&ba(o)&&e.hasOwnProperty(i)&&!ot(o)&&!Ln(o)?e[i]=ka(r,o):e[i]=o}return e}const a_=Symbol();function l_(e){return!ba(e)||!e.hasOwnProperty(a_)}const{assign:Vn}=Object;function u_(e){return!!(ot(e)&&e.effect)}function c_(e,n,i,o){const{state:r,actions:l,getters:u}=n,h=i.state.value[e];let d;function m(){h||(i.state.value[e]=r?r():{});const p=om(i.state.value[e]);return Vn(p,l,Object.keys(u||{}).reduce((_,y)=>(_[y]=qa(Le(()=>{ir(i);const k=i._s.get(e);return u[y].call(k,k)})),_),{}))}return d=ad(e,m,n,i,o,!0),d}function ad(e,n,i={},o,r,l){let u;const h=Vn({actions:{}},i),d={deep:!0};let m,p,_=[],y=[],k;const b=o.state.value[e];!l&&!b&&(o.state.value[e]={}),ue({});let w;function A(fe){let G;m=p=!1,typeof fe=="function"?(fe(o.state.value[e]),G={type:bs.patchFunction,storeId:e,events:k}):(ka(o.state.value[e],fe),G={type:bs.patchObject,payload:fe,storeId:e,events:k});const ge=w=Symbol();Bs().then(()=>{w===ge&&(m=!0)}),p=!0,Ai(_,G,o.state.value[e])}const I=l?function(){const{state:G}=i,ge=G?G():{};this.$patch(pe=>{Vn(pe,ge)})}:rd;function z(){u.stop(),_=[],y=[],o._s.delete(e)}const Z=(fe,G="")=>{if(ec in fe)return fe[Qr]=G,fe;const ge=function(){ir(o);const pe=Array.from(arguments),J=[],Ae=[];function $(q){J.push(q)}function F(q){Ae.push(q)}Ai(y,{args:pe,name:ge[Qr],store:V,after:$,onError:F});let N;try{N=fe.apply(this&&this.$id===e?this:V,pe)}catch(q){throw Ai(Ae,q),q}return N instanceof Promise?N.then(q=>(Ai(J,q),q)).catch(q=>(Ai(Ae,q),Promise.reject(q))):(Ai(J,N),N)};return ge[ec]=!0,ge[Qr]=G,ge},U={_p:o,$id:e,$onAction:Xu.bind(null,y),$patch:A,$reset:I,$subscribe(fe,G={}){const ge=Xu(_,fe,G.detached,()=>pe()),pe=u.run(()=>yt(()=>o.state.value[e],J=>{(G.flush==="sync"?p:m)&&fe({storeId:e,type:bs.direct,events:k},J)},Vn({},d,G)));return ge},$dispose:z},V=pt(U);o._s.set(e,V);const re=(o._a&&o._a.runWithContext||r_)(()=>o._e.run(()=>(u=Zc()).run(()=>n({action:Z}))));for(const fe in re){const G=re[fe];if(ot(G)&&!u_(G)||Ln(G))l||(b&&l_(G)&&(ot(G)?G.value=b[fe]:ka(G,b[fe])),o.state.value[e][fe]=G);else if(typeof G=="function"){const ge=Z(G,fe);re[fe]=ge,h.actions[fe]=G}}return Vn(V,re),Vn($e(V),re),Object.defineProperty(V,"$state",{get:()=>o.state.value[e],set:fe=>{A(G=>{Vn(G,fe)})}}),o._p.forEach(fe=>{Vn(V,u.run(()=>fe({store:V,app:o._a,pinia:o,options:h})))}),b&&l&&i.hydrate&&i.hydrate(V.$state,b),m=!0,p=!0,V}/*! #__NO_SIDE_EFFECTS__ */function mi(e,n,i){let o,r;const l=typeof n=="function";typeof e=="string"?(o=e,r=l?i:n):(r=e,o=e.id);function u(h,d){const m=$m();return h=h||(m?Xt(od,null):null),h&&ir(h),h=sd,h._s.has(o)||(l?ad(o,n,r,h):c_(o,r,h)),h._s.get(o)}return u.$id=o,u}function tn(e){{const n=$e(e),i={};for(const o in n){const r=n[o];r.effect?i[o]=Le({get:()=>e[o],set(l){e[o]=l}}):(ot(r)||Ln(r))&&(i[o]=lm(e,o))}return i}}function ld(e,n){return function(){return e.apply(n,arguments)}}const{toString:h_}=Object.prototype,{getPrototypeOf:tl}=Object,{iterator:sr,toStringTag:ud}=Symbol,or=(e=>n=>{const i=h_.call(n);return e[i]||(e[i]=i.slice(8,-1).toLowerCase())})(Object.create(null)),un=e=>(e=e.toLowerCase(),n=>or(n)===e),rr=e=>n=>typeof n===e,{isArray:qi}=Array,Di=rr("undefined");function $s(e){return e!==null&&!Di(e)&&e.constructor!==null&&!Di(e.constructor)&&Dt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const cd=un("ArrayBuffer");function d_(e){let n;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?n=ArrayBuffer.isView(e):n=e&&e.buffer&&cd(e.buffer),n}const f_=rr("string"),Dt=rr("function"),hd=rr("number"),Ds=e=>e!==null&&typeof e=="object",p_=e=>e===!0||e===!1,xo=e=>{if(or(e)!=="object")return!1;const n=tl(e);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(ud in e)&&!(sr in e)},m_=e=>{if(!Ds(e)||$s(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},g_=un("Date"),__=un("File"),v_=un("Blob"),y_=un("FileList"),w_=e=>Ds(e)&&Dt(e.pipe),b_=e=>{let n;return e&&(typeof FormData=="function"&&e instanceof FormData||Dt(e.append)&&((n=or(e))==="formdata"||n==="object"&&Dt(e.toString)&&e.toString()==="[object FormData]"))},k_=un("URLSearchParams"),[S_,C_,P_,x_]=["ReadableStream","Request","Response","Headers"].map(un),A_=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hs(e,n,{allOwnKeys:i=!1}={}){if(e===null||typeof e>"u")return;let o,r;if(typeof e!="object"&&(e=[e]),qi(e))for(o=0,r=e.length;o<r;o++)n.call(null,e[o],o,e);else{if($s(e))return;const l=i?Object.getOwnPropertyNames(e):Object.keys(e),u=l.length;let h;for(o=0;o<u;o++)h=l[o],n.call(null,e[h],h,e)}}function dd(e,n){if($s(e))return null;n=n.toLowerCase();const i=Object.keys(e);let o=i.length,r;for(;o-- >0;)if(r=i[o],n===r.toLowerCase())return r;return null}const li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fd=e=>!Di(e)&&e!==li;function Sa(){const{caseless:e,skipUndefined:n}=fd(this)&&this||{},i={},o=(r,l)=>{const u=e&&dd(i,l)||l;xo(i[u])&&xo(r)?i[u]=Sa(i[u],r):xo(r)?i[u]=Sa({},r):qi(r)?i[u]=r.slice():(!n||!Di(r))&&(i[u]=r)};for(let r=0,l=arguments.length;r<l;r++)arguments[r]&&Hs(arguments[r],o);return i}const T_=(e,n,i,{allOwnKeys:o}={})=>(Hs(n,(r,l)=>{i&&Dt(r)?e[l]=ld(r,i):e[l]=r},{allOwnKeys:o}),e),M_=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),E_=(e,n,i,o)=>{e.prototype=Object.create(n.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:n.prototype}),i&&Object.assign(e.prototype,i)},L_=(e,n,i,o)=>{let r,l,u;const h={};if(n=n||{},e==null)return n;do{for(r=Object.getOwnPropertyNames(e),l=r.length;l-- >0;)u=r[l],(!o||o(u,e,n))&&!h[u]&&(n[u]=e[u],h[u]=!0);e=i!==!1&&tl(e)}while(e&&(!i||i(e,n))&&e!==Object.prototype);return n},R_=(e,n,i)=>{e=String(e),(i===void 0||i>e.length)&&(i=e.length),i-=n.length;const o=e.indexOf(n,i);return o!==-1&&o===i},N_=e=>{if(!e)return null;if(qi(e))return e;let n=e.length;if(!hd(n))return null;const i=new Array(n);for(;n-- >0;)i[n]=e[n];return i},O_=(e=>n=>e&&n instanceof e)(typeof Uint8Array<"u"&&tl(Uint8Array)),I_=(e,n)=>{const o=(e&&e[sr]).call(e);let r;for(;(r=o.next())&&!r.done;){const l=r.value;n.call(e,l[0],l[1])}},B_=(e,n)=>{let i;const o=[];for(;(i=e.exec(n))!==null;)o.push(i);return o},U_=un("HTMLFormElement"),F_=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(i,o,r){return o.toUpperCase()+r}),tc=(({hasOwnProperty:e})=>(n,i)=>e.call(n,i))(Object.prototype),z_=un("RegExp"),pd=(e,n)=>{const i=Object.getOwnPropertyDescriptors(e),o={};Hs(i,(r,l)=>{let u;(u=n(r,l,e))!==!1&&(o[l]=u||r)}),Object.defineProperties(e,o)},$_=e=>{pd(e,(n,i)=>{if(Dt(e)&&["arguments","caller","callee"].indexOf(i)!==-1)return!1;const o=e[i];if(Dt(o)){if(n.enumerable=!1,"writable"in n){n.writable=!1;return}n.set||(n.set=()=>{throw Error("Can not rewrite read-only method '"+i+"'")})}})},D_=(e,n)=>{const i={},o=r=>{r.forEach(l=>{i[l]=!0})};return qi(e)?o(e):o(String(e).split(n)),i},H_=()=>{},V_=(e,n)=>e!=null&&Number.isFinite(e=+e)?e:n;function j_(e){return!!(e&&Dt(e.append)&&e[ud]==="FormData"&&e[sr])}const Z_=e=>{const n=new Array(10),i=(o,r)=>{if(Ds(o)){if(n.indexOf(o)>=0)return;if($s(o))return o;if(!("toJSON"in o)){n[r]=o;const l=qi(o)?[]:{};return Hs(o,(u,h)=>{const d=i(u,r+1);!Di(d)&&(l[h]=d)}),n[r]=void 0,l}}return o};return i(e,0)},W_=un("AsyncFunction"),q_=e=>e&&(Ds(e)||Dt(e))&&Dt(e.then)&&Dt(e.catch),md=((e,n)=>e?setImmediate:n?((i,o)=>(li.addEventListener("message",({source:r,data:l})=>{r===li&&l===i&&o.length&&o.shift()()},!1),r=>{o.push(r),li.postMessage(i,"*")}))(`axios@${Math.random()}`,[]):i=>setTimeout(i))(typeof setImmediate=="function",Dt(li.postMessage)),G_=typeof queueMicrotask<"u"?queueMicrotask.bind(li):typeof process<"u"&&process.nextTick||md,Y_=e=>e!=null&&Dt(e[sr]),H={isArray:qi,isArrayBuffer:cd,isBuffer:$s,isFormData:b_,isArrayBufferView:d_,isString:f_,isNumber:hd,isBoolean:p_,isObject:Ds,isPlainObject:xo,isEmptyObject:m_,isReadableStream:S_,isRequest:C_,isResponse:P_,isHeaders:x_,isUndefined:Di,isDate:g_,isFile:__,isBlob:v_,isRegExp:z_,isFunction:Dt,isStream:w_,isURLSearchParams:k_,isTypedArray:O_,isFileList:y_,forEach:Hs,merge:Sa,extend:T_,trim:A_,stripBOM:M_,inherits:E_,toFlatObject:L_,kindOf:or,kindOfTest:un,endsWith:R_,toArray:N_,forEachEntry:I_,matchAll:B_,isHTMLForm:U_,hasOwnProperty:tc,hasOwnProp:tc,reduceDescriptors:pd,freezeMethods:$_,toObjectSet:D_,toCamelCase:F_,noop:H_,toFiniteNumber:V_,findKey:dd,global:li,isContextDefined:fd,isSpecCompliantForm:j_,toJSONObject:Z_,isAsyncFn:W_,isThenable:q_,setImmediate:md,asap:G_,isIterable:Y_};function Be(e,n,i,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",n&&(this.code=n),i&&(this.config=i),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}H.inherits(Be,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:H.toJSONObject(this.config),code:this.code,status:this.status}}});const gd=Be.prototype,_d={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{_d[e]={value:e}});Object.defineProperties(Be,_d);Object.defineProperty(gd,"isAxiosError",{value:!0});Be.from=(e,n,i,o,r,l)=>{const u=Object.create(gd);H.toFlatObject(e,u,function(p){return p!==Error.prototype},m=>m!=="isAxiosError");const h=e&&e.message?e.message:"Error",d=n==null&&e?e.code:n;return Be.call(u,h,d,i,o,r),e&&u.cause==null&&Object.defineProperty(u,"cause",{value:e,configurable:!0}),u.name=e&&e.name||"Error",l&&Object.assign(u,l),u};const K_=null;function Ca(e){return H.isPlainObject(e)||H.isArray(e)}function vd(e){return H.endsWith(e,"[]")?e.slice(0,-2):e}function nc(e,n,i){return e?e.concat(n).map(function(r,l){return r=vd(r),!i&&l?"["+r+"]":r}).join(i?".":""):n}function J_(e){return H.isArray(e)&&!e.some(Ca)}const Q_=H.toFlatObject(H,{},null,function(n){return/^is[A-Z]/.test(n)});function ar(e,n,i){if(!H.isObject(e))throw new TypeError("target must be an object");n=n||new FormData,i=H.toFlatObject(i,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,A){return!H.isUndefined(A[w])});const o=i.metaTokens,r=i.visitor||p,l=i.dots,u=i.indexes,d=(i.Blob||typeof Blob<"u"&&Blob)&&H.isSpecCompliantForm(n);if(!H.isFunction(r))throw new TypeError("visitor must be a function");function m(b){if(b===null)return"";if(H.isDate(b))return b.toISOString();if(H.isBoolean(b))return b.toString();if(!d&&H.isBlob(b))throw new Be("Blob is not supported. Use a Buffer instead.");return H.isArrayBuffer(b)||H.isTypedArray(b)?d&&typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function p(b,w,A){let I=b;if(b&&!A&&typeof b=="object"){if(H.endsWith(w,"{}"))w=o?w:w.slice(0,-2),b=JSON.stringify(b);else if(H.isArray(b)&&J_(b)||(H.isFileList(b)||H.endsWith(w,"[]"))&&(I=H.toArray(b)))return w=vd(w),I.forEach(function(Z,U){!(H.isUndefined(Z)||Z===null)&&n.append(u===!0?nc([w],U,l):u===null?w:w+"[]",m(Z))}),!1}return Ca(b)?!0:(n.append(nc(A,w,l),m(b)),!1)}const _=[],y=Object.assign(Q_,{defaultVisitor:p,convertValue:m,isVisitable:Ca});function k(b,w){if(!H.isUndefined(b)){if(_.indexOf(b)!==-1)throw Error("Circular reference detected in "+w.join("."));_.push(b),H.forEach(b,function(I,z){(!(H.isUndefined(I)||I===null)&&r.call(n,I,H.isString(z)?z.trim():z,w,y))===!0&&k(I,w?w.concat(z):[z])}),_.pop()}}if(!H.isObject(e))throw new TypeError("data must be an object");return k(e),n}function ic(e){const n={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return n[o]})}function nl(e,n){this._pairs=[],e&&ar(e,this,n)}const yd=nl.prototype;yd.append=function(n,i){this._pairs.push([n,i])};yd.toString=function(n){const i=n?function(o){return n.call(this,o,ic)}:ic;return this._pairs.map(function(r){return i(r[0])+"="+i(r[1])},"").join("&")};function X_(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function wd(e,n,i){if(!n)return e;const o=i&&i.encode||X_;H.isFunction(i)&&(i={serialize:i});const r=i&&i.serialize;let l;if(r?l=r(n,i):l=H.isURLSearchParams(n)?n.toString():new nl(n,i).toString(o),l){const u=e.indexOf("#");u!==-1&&(e=e.slice(0,u)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class sc{constructor(){this.handlers=[]}use(n,i,o){return this.handlers.push({fulfilled:n,rejected:i,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(n){this.handlers[n]&&(this.handlers[n]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(n){H.forEach(this.handlers,function(o){o!==null&&n(o)})}}const bd={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ev=typeof URLSearchParams<"u"?URLSearchParams:nl,tv=typeof FormData<"u"?FormData:null,nv=typeof Blob<"u"?Blob:null,iv={isBrowser:!0,classes:{URLSearchParams:ev,FormData:tv,Blob:nv},protocols:["http","https","file","blob","url","data"]},il=typeof window<"u"&&typeof document<"u",Pa=typeof navigator=="object"&&navigator||void 0,sv=il&&(!Pa||["ReactNative","NativeScript","NS"].indexOf(Pa.product)<0),ov=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rv=il&&window.location.href||"http://localhost",av=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:il,hasStandardBrowserEnv:sv,hasStandardBrowserWebWorkerEnv:ov,navigator:Pa,origin:rv},Symbol.toStringTag,{value:"Module"})),Lt={...av,...iv};function lv(e,n){return ar(e,new Lt.classes.URLSearchParams,{visitor:function(i,o,r,l){return Lt.isNode&&H.isBuffer(i)?(this.append(o,i.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...n})}function uv(e){return H.matchAll(/\w+|\[(\w*)]/g,e).map(n=>n[0]==="[]"?"":n[1]||n[0])}function cv(e){const n={},i=Object.keys(e);let o;const r=i.length;let l;for(o=0;o<r;o++)l=i[o],n[l]=e[l];return n}function kd(e){function n(i,o,r,l){let u=i[l++];if(u==="__proto__")return!0;const h=Number.isFinite(+u),d=l>=i.length;return u=!u&&H.isArray(r)?r.length:u,d?(H.hasOwnProp(r,u)?r[u]=[r[u],o]:r[u]=o,!h):((!r[u]||!H.isObject(r[u]))&&(r[u]=[]),n(i,o,r[u],l)&&H.isArray(r[u])&&(r[u]=cv(r[u])),!h)}if(H.isFormData(e)&&H.isFunction(e.entries)){const i={};return H.forEachEntry(e,(o,r)=>{n(uv(o),r,i,0)}),i}return null}function hv(e,n,i){if(H.isString(e))try{return(n||JSON.parse)(e),H.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(i||JSON.stringify)(e)}const Vs={transitional:bd,adapter:["xhr","http","fetch"],transformRequest:[function(n,i){const o=i.getContentType()||"",r=o.indexOf("application/json")>-1,l=H.isObject(n);if(l&&H.isHTMLForm(n)&&(n=new FormData(n)),H.isFormData(n))return r?JSON.stringify(kd(n)):n;if(H.isArrayBuffer(n)||H.isBuffer(n)||H.isStream(n)||H.isFile(n)||H.isBlob(n)||H.isReadableStream(n))return n;if(H.isArrayBufferView(n))return n.buffer;if(H.isURLSearchParams(n))return i.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),n.toString();let h;if(l){if(o.indexOf("application/x-www-form-urlencoded")>-1)return lv(n,this.formSerializer).toString();if((h=H.isFileList(n))||o.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return ar(h?{"files[]":n}:n,d&&new d,this.formSerializer)}}return l||r?(i.setContentType("application/json",!1),hv(n)):n}],transformResponse:[function(n){const i=this.transitional||Vs.transitional,o=i&&i.forcedJSONParsing,r=this.responseType==="json";if(H.isResponse(n)||H.isReadableStream(n))return n;if(n&&H.isString(n)&&(o&&!this.responseType||r)){const u=!(i&&i.silentJSONParsing)&&r;try{return JSON.parse(n,this.parseReviver)}catch(h){if(u)throw h.name==="SyntaxError"?Be.from(h,Be.ERR_BAD_RESPONSE,this,null,this.response):h}}return n}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Lt.classes.FormData,Blob:Lt.classes.Blob},validateStatus:function(n){return n>=200&&n<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};H.forEach(["delete","get","head","post","put","patch"],e=>{Vs.headers[e]={}});const dv=H.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fv=e=>{const n={};let i,o,r;return e&&e.split(`
`).forEach(function(u){r=u.indexOf(":"),i=u.substring(0,r).trim().toLowerCase(),o=u.substring(r+1).trim(),!(!i||n[i]&&dv[i])&&(i==="set-cookie"?n[i]?n[i].push(o):n[i]=[o]:n[i]=n[i]?n[i]+", "+o:o)}),n},oc=Symbol("internals");function cs(e){return e&&String(e).trim().toLowerCase()}function Ao(e){return e===!1||e==null?e:H.isArray(e)?e.map(Ao):String(e)}function pv(e){const n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=i.exec(e);)n[o[1]]=o[2];return n}const mv=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Xr(e,n,i,o,r){if(H.isFunction(o))return o.call(this,n,i);if(r&&(n=i),!!H.isString(n)){if(H.isString(o))return n.indexOf(o)!==-1;if(H.isRegExp(o))return o.test(n)}}function gv(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(n,i,o)=>i.toUpperCase()+o)}function _v(e,n){const i=H.toCamelCase(" "+n);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+i,{value:function(r,l,u){return this[o].call(this,n,r,l,u)},configurable:!0})})}let Ht=class{constructor(n){n&&this.set(n)}set(n,i,o){const r=this;function l(h,d,m){const p=cs(d);if(!p)throw new Error("header name must be a non-empty string");const _=H.findKey(r,p);(!_||r[_]===void 0||m===!0||m===void 0&&r[_]!==!1)&&(r[_||d]=Ao(h))}const u=(h,d)=>H.forEach(h,(m,p)=>l(m,p,d));if(H.isPlainObject(n)||n instanceof this.constructor)u(n,i);else if(H.isString(n)&&(n=n.trim())&&!mv(n))u(fv(n),i);else if(H.isObject(n)&&H.isIterable(n)){let h={},d,m;for(const p of n){if(!H.isArray(p))throw TypeError("Object iterator must return a key-value pair");h[m=p[0]]=(d=h[m])?H.isArray(d)?[...d,p[1]]:[d,p[1]]:p[1]}u(h,i)}else n!=null&&l(i,n,o);return this}get(n,i){if(n=cs(n),n){const o=H.findKey(this,n);if(o){const r=this[o];if(!i)return r;if(i===!0)return pv(r);if(H.isFunction(i))return i.call(this,r,o);if(H.isRegExp(i))return i.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(n,i){if(n=cs(n),n){const o=H.findKey(this,n);return!!(o&&this[o]!==void 0&&(!i||Xr(this,this[o],o,i)))}return!1}delete(n,i){const o=this;let r=!1;function l(u){if(u=cs(u),u){const h=H.findKey(o,u);h&&(!i||Xr(o,o[h],h,i))&&(delete o[h],r=!0)}}return H.isArray(n)?n.forEach(l):l(n),r}clear(n){const i=Object.keys(this);let o=i.length,r=!1;for(;o--;){const l=i[o];(!n||Xr(this,this[l],l,n,!0))&&(delete this[l],r=!0)}return r}normalize(n){const i=this,o={};return H.forEach(this,(r,l)=>{const u=H.findKey(o,l);if(u){i[u]=Ao(r),delete i[l];return}const h=n?gv(l):String(l).trim();h!==l&&delete i[l],i[h]=Ao(r),o[h]=!0}),this}concat(...n){return this.constructor.concat(this,...n)}toJSON(n){const i=Object.create(null);return H.forEach(this,(o,r)=>{o!=null&&o!==!1&&(i[r]=n&&H.isArray(o)?o.join(", "):o)}),i}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([n,i])=>n+": "+i).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(n){return n instanceof this?n:new this(n)}static concat(n,...i){const o=new this(n);return i.forEach(r=>o.set(r)),o}static accessor(n){const o=(this[oc]=this[oc]={accessors:{}}).accessors,r=this.prototype;function l(u){const h=cs(u);o[h]||(_v(r,u),o[h]=!0)}return H.isArray(n)?n.forEach(l):l(n),this}};Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);H.reduceDescriptors(Ht.prototype,({value:e},n)=>{let i=n[0].toUpperCase()+n.slice(1);return{get:()=>e,set(o){this[i]=o}}});H.freezeMethods(Ht);function ea(e,n){const i=this||Vs,o=n||i,r=Ht.from(o.headers);let l=o.data;return H.forEach(e,function(h){l=h.call(i,l,r.normalize(),n?n.status:void 0)}),r.normalize(),l}function Sd(e){return!!(e&&e.__CANCEL__)}function Gi(e,n,i){Be.call(this,e??"canceled",Be.ERR_CANCELED,n,i),this.name="CanceledError"}H.inherits(Gi,Be,{__CANCEL__:!0});function Cd(e,n,i){const o=i.config.validateStatus;!i.status||!o||o(i.status)?e(i):n(new Be("Request failed with status code "+i.status,[Be.ERR_BAD_REQUEST,Be.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))}function vv(e){const n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}function yv(e,n){e=e||10;const i=new Array(e),o=new Array(e);let r=0,l=0,u;return n=n!==void 0?n:1e3,function(d){const m=Date.now(),p=o[l];u||(u=m),i[r]=d,o[r]=m;let _=l,y=0;for(;_!==r;)y+=i[_++],_=_%e;if(r=(r+1)%e,r===l&&(l=(l+1)%e),m-u<n)return;const k=p&&m-p;return k?Math.round(y*1e3/k):void 0}}function wv(e,n){let i=0,o=1e3/n,r,l;const u=(m,p=Date.now())=>{i=p,r=null,l&&(clearTimeout(l),l=null),e(...m)};return[(...m)=>{const p=Date.now(),_=p-i;_>=o?u(m,p):(r=m,l||(l=setTimeout(()=>{l=null,u(r)},o-_)))},()=>r&&u(r)]}const Vo=(e,n,i=3)=>{let o=0;const r=yv(50,250);return wv(l=>{const u=l.loaded,h=l.lengthComputable?l.total:void 0,d=u-o,m=r(d),p=u<=h;o=u;const _={loaded:u,total:h,progress:h?u/h:void 0,bytes:d,rate:m||void 0,estimated:m&&h&&p?(h-u)/m:void 0,event:l,lengthComputable:h!=null,[n?"download":"upload"]:!0};e(_)},i)},rc=(e,n)=>{const i=e!=null;return[o=>n[0]({lengthComputable:i,total:e,loaded:o}),n[1]]},ac=e=>(...n)=>H.asap(()=>e(...n)),bv=Lt.hasStandardBrowserEnv?((e,n)=>i=>(i=new URL(i,Lt.origin),e.protocol===i.protocol&&e.host===i.host&&(n||e.port===i.port)))(new URL(Lt.origin),Lt.navigator&&/(msie|trident)/i.test(Lt.navigator.userAgent)):()=>!0,kv=Lt.hasStandardBrowserEnv?{write(e,n,i,o,r,l){const u=[e+"="+encodeURIComponent(n)];H.isNumber(i)&&u.push("expires="+new Date(i).toGMTString()),H.isString(o)&&u.push("path="+o),H.isString(r)&&u.push("domain="+r),l===!0&&u.push("secure"),document.cookie=u.join("; ")},read(e){const n=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return n?decodeURIComponent(n[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Sv(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Cv(e,n){return n?e.replace(/\/?\/$/,"")+"/"+n.replace(/^\/+/,""):e}function Pd(e,n,i){let o=!Sv(n);return e&&(o||i==!1)?Cv(e,n):n}const lc=e=>e instanceof Ht?{...e}:e;function pi(e,n){n=n||{};const i={};function o(m,p,_,y){return H.isPlainObject(m)&&H.isPlainObject(p)?H.merge.call({caseless:y},m,p):H.isPlainObject(p)?H.merge({},p):H.isArray(p)?p.slice():p}function r(m,p,_,y){if(H.isUndefined(p)){if(!H.isUndefined(m))return o(void 0,m,_,y)}else return o(m,p,_,y)}function l(m,p){if(!H.isUndefined(p))return o(void 0,p)}function u(m,p){if(H.isUndefined(p)){if(!H.isUndefined(m))return o(void 0,m)}else return o(void 0,p)}function h(m,p,_){if(_ in n)return o(m,p);if(_ in e)return o(void 0,m)}const d={url:l,method:l,data:l,baseURL:u,transformRequest:u,transformResponse:u,paramsSerializer:u,timeout:u,timeoutMessage:u,withCredentials:u,withXSRFToken:u,adapter:u,responseType:u,xsrfCookieName:u,xsrfHeaderName:u,onUploadProgress:u,onDownloadProgress:u,decompress:u,maxContentLength:u,maxBodyLength:u,beforeRedirect:u,transport:u,httpAgent:u,httpsAgent:u,cancelToken:u,socketPath:u,responseEncoding:u,validateStatus:h,headers:(m,p,_)=>r(lc(m),lc(p),_,!0)};return H.forEach(Object.keys({...e,...n}),function(p){const _=d[p]||r,y=_(e[p],n[p],p);H.isUndefined(y)&&_!==h||(i[p]=y)}),i}const xd=e=>{const n=pi({},e);let{data:i,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:l,headers:u,auth:h}=n;if(n.headers=u=Ht.from(u),n.url=wd(Pd(n.baseURL,n.url,n.allowAbsoluteUrls),e.params,e.paramsSerializer),h&&u.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),H.isFormData(i)){if(Lt.hasStandardBrowserEnv||Lt.hasStandardBrowserWebWorkerEnv)u.setContentType(void 0);else if(H.isFunction(i.getHeaders)){const d=i.getHeaders(),m=["content-type","content-length"];Object.entries(d).forEach(([p,_])=>{m.includes(p.toLowerCase())&&u.set(p,_)})}}if(Lt.hasStandardBrowserEnv&&(o&&H.isFunction(o)&&(o=o(n)),o||o!==!1&&bv(n.url))){const d=r&&l&&kv.read(l);d&&u.set(r,d)}return n},Pv=typeof XMLHttpRequest<"u",xv=Pv&&function(e){return new Promise(function(i,o){const r=xd(e);let l=r.data;const u=Ht.from(r.headers).normalize();let{responseType:h,onUploadProgress:d,onDownloadProgress:m}=r,p,_,y,k,b;function w(){k&&k(),b&&b(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let A=new XMLHttpRequest;A.open(r.method.toUpperCase(),r.url,!0),A.timeout=r.timeout;function I(){if(!A)return;const Z=Ht.from("getAllResponseHeaders"in A&&A.getAllResponseHeaders()),V={data:!h||h==="text"||h==="json"?A.responseText:A.response,status:A.status,statusText:A.statusText,headers:Z,config:e,request:A};Cd(function(re){i(re),w()},function(re){o(re),w()},V),A=null}"onloadend"in A?A.onloadend=I:A.onreadystatechange=function(){!A||A.readyState!==4||A.status===0&&!(A.responseURL&&A.responseURL.indexOf("file:")===0)||setTimeout(I)},A.onabort=function(){A&&(o(new Be("Request aborted",Be.ECONNABORTED,e,A)),A=null)},A.onerror=function(U){const V=U&&U.message?U.message:"Network Error",X=new Be(V,Be.ERR_NETWORK,e,A);X.event=U||null,o(X),A=null},A.ontimeout=function(){let U=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const V=r.transitional||bd;r.timeoutErrorMessage&&(U=r.timeoutErrorMessage),o(new Be(U,V.clarifyTimeoutError?Be.ETIMEDOUT:Be.ECONNABORTED,e,A)),A=null},l===void 0&&u.setContentType(null),"setRequestHeader"in A&&H.forEach(u.toJSON(),function(U,V){A.setRequestHeader(V,U)}),H.isUndefined(r.withCredentials)||(A.withCredentials=!!r.withCredentials),h&&h!=="json"&&(A.responseType=r.responseType),m&&([y,b]=Vo(m,!0),A.addEventListener("progress",y)),d&&A.upload&&([_,k]=Vo(d),A.upload.addEventListener("progress",_),A.upload.addEventListener("loadend",k)),(r.cancelToken||r.signal)&&(p=Z=>{A&&(o(!Z||Z.type?new Gi(null,e,A):Z),A.abort(),A=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const z=vv(r.url);if(z&&Lt.protocols.indexOf(z)===-1){o(new Be("Unsupported protocol "+z+":",Be.ERR_BAD_REQUEST,e));return}A.send(l||null)})},Av=(e,n)=>{const{length:i}=e=e?e.filter(Boolean):[];if(n||i){let o=new AbortController,r;const l=function(m){if(!r){r=!0,h();const p=m instanceof Error?m:this.reason;o.abort(p instanceof Be?p:new Gi(p instanceof Error?p.message:p))}};let u=n&&setTimeout(()=>{u=null,l(new Be(`timeout ${n} of ms exceeded`,Be.ETIMEDOUT))},n);const h=()=>{e&&(u&&clearTimeout(u),u=null,e.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),e=null)};e.forEach(m=>m.addEventListener("abort",l));const{signal:d}=o;return d.unsubscribe=()=>H.asap(h),d}},Tv=function*(e,n){let i=e.byteLength;if(i<n){yield e;return}let o=0,r;for(;o<i;)r=o+n,yield e.slice(o,r),o=r},Mv=async function*(e,n){for await(const i of Ev(e))yield*Tv(i,n)},Ev=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const n=e.getReader();try{for(;;){const{done:i,value:o}=await n.read();if(i)break;yield o}}finally{await n.cancel()}},uc=(e,n,i,o)=>{const r=Mv(e,n);let l=0,u,h=d=>{u||(u=!0,o&&o(d))};return new ReadableStream({async pull(d){try{const{done:m,value:p}=await r.next();if(m){h(),d.close();return}let _=p.byteLength;if(i){let y=l+=_;i(y)}d.enqueue(new Uint8Array(p))}catch(m){throw h(m),m}},cancel(d){return h(d),r.return()}},{highWaterMark:2})},cc=64*1024,{isFunction:vo}=H,Lv=(({Request:e,Response:n})=>({Request:e,Response:n}))(H.global),{ReadableStream:hc,TextEncoder:dc}=H.global,fc=(e,...n)=>{try{return!!e(...n)}catch{return!1}},Rv=e=>{e=H.merge.call({skipUndefined:!0},Lv,e);const{fetch:n,Request:i,Response:o}=e,r=n?vo(n):typeof fetch=="function",l=vo(i),u=vo(o);if(!r)return!1;const h=r&&vo(hc),d=r&&(typeof dc=="function"?(b=>w=>b.encode(w))(new dc):async b=>new Uint8Array(await new i(b).arrayBuffer())),m=l&&h&&fc(()=>{let b=!1;const w=new i(Lt.origin,{body:new hc,method:"POST",get duplex(){return b=!0,"half"}}).headers.has("Content-Type");return b&&!w}),p=u&&h&&fc(()=>H.isReadableStream(new o("").body)),_={stream:p&&(b=>b.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(b=>{!_[b]&&(_[b]=(w,A)=>{let I=w&&w[b];if(I)return I.call(w);throw new Be(`Response type '${b}' is not supported`,Be.ERR_NOT_SUPPORT,A)})});const y=async b=>{if(b==null)return 0;if(H.isBlob(b))return b.size;if(H.isSpecCompliantForm(b))return(await new i(Lt.origin,{method:"POST",body:b}).arrayBuffer()).byteLength;if(H.isArrayBufferView(b)||H.isArrayBuffer(b))return b.byteLength;if(H.isURLSearchParams(b)&&(b=b+""),H.isString(b))return(await d(b)).byteLength},k=async(b,w)=>{const A=H.toFiniteNumber(b.getContentLength());return A??y(w)};return async b=>{let{url:w,method:A,data:I,signal:z,cancelToken:Z,timeout:U,onDownloadProgress:V,onUploadProgress:X,responseType:re,headers:fe,withCredentials:G="same-origin",fetchOptions:ge}=xd(b),pe=n||fetch;re=re?(re+"").toLowerCase():"text";let J=Av([z,Z&&Z.toAbortSignal()],U),Ae=null;const $=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let F;try{if(X&&m&&A!=="get"&&A!=="head"&&(F=await k(fe,I))!==0){let ne=new i(w,{method:"POST",body:I,duplex:"half"}),be;if(H.isFormData(I)&&(be=ne.headers.get("content-type"))&&fe.setContentType(be),ne.body){const[ye,_e]=rc(F,Vo(ac(X)));I=uc(ne.body,cc,ye,_e)}}H.isString(G)||(G=G?"include":"omit");const N=l&&"credentials"in i.prototype,q={...ge,signal:J,method:A.toUpperCase(),headers:fe.normalize().toJSON(),body:I,duplex:"half",credentials:N?G:void 0};Ae=l&&new i(w,q);let T=await(l?pe(Ae,ge):pe(w,q));const O=p&&(re==="stream"||re==="response");if(p&&(V||O&&$)){const ne={};["status","statusText","headers"].forEach(Se=>{ne[Se]=T[Se]});const be=H.toFiniteNumber(T.headers.get("content-length")),[ye,_e]=V&&rc(be,Vo(ac(V),!0))||[];T=new o(uc(T.body,cc,ye,()=>{_e&&_e(),$&&$()}),ne)}re=re||"text";let C=await _[H.findKey(_,re)||"text"](T,b);return!O&&$&&$(),await new Promise((ne,be)=>{Cd(ne,be,{data:C,headers:Ht.from(T.headers),status:T.status,statusText:T.statusText,config:b,request:Ae})})}catch(N){throw $&&$(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new Be("Network Error",Be.ERR_NETWORK,b,Ae),{cause:N.cause||N}):Be.from(N,N&&N.code,b,Ae)}}},Nv=new Map,Ad=e=>{let n=e?e.env:{};const{fetch:i,Request:o,Response:r}=n,l=[o,r,i];let u=l.length,h=u,d,m,p=Nv;for(;h--;)d=l[h],m=p.get(d),m===void 0&&p.set(d,m=h?new Map:Rv(n)),p=m;return m};Ad();const xa={http:K_,xhr:xv,fetch:{get:Ad}};H.forEach(xa,(e,n)=>{if(e){try{Object.defineProperty(e,"name",{value:n})}catch{}Object.defineProperty(e,"adapterName",{value:n})}});const pc=e=>`- ${e}`,Ov=e=>H.isFunction(e)||e===null||e===!1,Td={getAdapter:(e,n)=>{e=H.isArray(e)?e:[e];const{length:i}=e;let o,r;const l={};for(let u=0;u<i;u++){o=e[u];let h;if(r=o,!Ov(o)&&(r=xa[(h=String(o)).toLowerCase()],r===void 0))throw new Be(`Unknown adapter '${h}'`);if(r&&(H.isFunction(r)||(r=r.get(n))))break;l[h||"#"+u]=r}if(!r){const u=Object.entries(l).map(([d,m])=>`adapter ${d} `+(m===!1?"is not supported by the environment":"is not available in the build"));let h=i?u.length>1?`since :
`+u.map(pc).join(`
`):" "+pc(u[0]):"as no adapter specified";throw new Be("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:xa};function ta(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Gi(null,e)}function mc(e){return ta(e),e.headers=Ht.from(e.headers),e.data=ea.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Td.getAdapter(e.adapter||Vs.adapter,e)(e).then(function(o){return ta(e),o.data=ea.call(e,e.transformResponse,o),o.headers=Ht.from(o.headers),o},function(o){return Sd(o)||(ta(e),o&&o.response&&(o.response.data=ea.call(e,e.transformResponse,o.response),o.response.headers=Ht.from(o.response.headers))),Promise.reject(o)})}const Md="1.12.2",lr={};["object","boolean","number","function","string","symbol"].forEach((e,n)=>{lr[e]=function(o){return typeof o===e||"a"+(n<1?"n ":" ")+e}});const gc={};lr.transitional=function(n,i,o){function r(l,u){return"[Axios v"+Md+"] Transitional option '"+l+"'"+u+(o?". "+o:"")}return(l,u,h)=>{if(n===!1)throw new Be(r(u," has been removed"+(i?" in "+i:"")),Be.ERR_DEPRECATED);return i&&!gc[u]&&(gc[u]=!0,console.warn(r(u," has been deprecated since v"+i+" and will be removed in the near future"))),n?n(l,u,h):!0}};lr.spelling=function(n){return(i,o)=>(console.warn(`${o} is likely a misspelling of ${n}`),!0)};function Iv(e,n,i){if(typeof e!="object")throw new Be("options must be an object",Be.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const l=o[r],u=n[l];if(u){const h=e[l],d=h===void 0||u(h,l,e);if(d!==!0)throw new Be("option "+l+" must be "+d,Be.ERR_BAD_OPTION_VALUE);continue}if(i!==!0)throw new Be("Unknown option "+l,Be.ERR_BAD_OPTION)}}const To={assertOptions:Iv,validators:lr},mn=To.validators;let di=class{constructor(n){this.defaults=n||{},this.interceptors={request:new sc,response:new sc}}async request(n,i){try{return await this._request(n,i)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const l=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?l&&!String(o.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+l):o.stack=l}catch{}}throw o}}_request(n,i){typeof n=="string"?(i=i||{},i.url=n):i=n||{},i=pi(this.defaults,i);const{transitional:o,paramsSerializer:r,headers:l}=i;o!==void 0&&To.assertOptions(o,{silentJSONParsing:mn.transitional(mn.boolean),forcedJSONParsing:mn.transitional(mn.boolean),clarifyTimeoutError:mn.transitional(mn.boolean)},!1),r!=null&&(H.isFunction(r)?i.paramsSerializer={serialize:r}:To.assertOptions(r,{encode:mn.function,serialize:mn.function},!0)),i.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?i.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:i.allowAbsoluteUrls=!0),To.assertOptions(i,{baseUrl:mn.spelling("baseURL"),withXsrfToken:mn.spelling("withXSRFToken")},!0),i.method=(i.method||this.defaults.method||"get").toLowerCase();let u=l&&H.merge(l.common,l[i.method]);l&&H.forEach(["delete","get","head","post","put","patch","common"],b=>{delete l[b]}),i.headers=Ht.concat(u,l);const h=[];let d=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(i)===!1||(d=d&&w.synchronous,h.unshift(w.fulfilled,w.rejected))});const m=[];this.interceptors.response.forEach(function(w){m.push(w.fulfilled,w.rejected)});let p,_=0,y;if(!d){const b=[mc.bind(this),void 0];for(b.unshift(...h),b.push(...m),y=b.length,p=Promise.resolve(i);_<y;)p=p.then(b[_++],b[_++]);return p}y=h.length;let k=i;for(;_<y;){const b=h[_++],w=h[_++];try{k=b(k)}catch(A){w.call(this,A);break}}try{p=mc.call(this,k)}catch(b){return Promise.reject(b)}for(_=0,y=m.length;_<y;)p=p.then(m[_++],m[_++]);return p}getUri(n){n=pi(this.defaults,n);const i=Pd(n.baseURL,n.url,n.allowAbsoluteUrls);return wd(i,n.params,n.paramsSerializer)}};H.forEach(["delete","get","head","options"],function(n){di.prototype[n]=function(i,o){return this.request(pi(o||{},{method:n,url:i,data:(o||{}).data}))}});H.forEach(["post","put","patch"],function(n){function i(o){return function(l,u,h){return this.request(pi(h||{},{method:n,headers:o?{"Content-Type":"multipart/form-data"}:{},url:l,data:u}))}}di.prototype[n]=i(),di.prototype[n+"Form"]=i(!0)});let Bv=class Ed{constructor(n){if(typeof n!="function")throw new TypeError("executor must be a function.");let i;this.promise=new Promise(function(l){i=l});const o=this;this.promise.then(r=>{if(!o._listeners)return;let l=o._listeners.length;for(;l-- >0;)o._listeners[l](r);o._listeners=null}),this.promise.then=r=>{let l;const u=new Promise(h=>{o.subscribe(h),l=h}).then(r);return u.cancel=function(){o.unsubscribe(l)},u},n(function(l,u,h){o.reason||(o.reason=new Gi(l,u,h),i(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]}unsubscribe(n){if(!this._listeners)return;const i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}toAbortSignal(){const n=new AbortController,i=o=>{n.abort(o)};return this.subscribe(i),n.signal.unsubscribe=()=>this.unsubscribe(i),n.signal}static source(){let n;return{token:new Ed(function(r){n=r}),cancel:n}}};function Uv(e){return function(i){return e.apply(null,i)}}function Fv(e){return H.isObject(e)&&e.isAxiosError===!0}const Aa={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Aa).forEach(([e,n])=>{Aa[n]=e});function Ld(e){const n=new di(e),i=ld(di.prototype.request,n);return H.extend(i,di.prototype,n,{allOwnKeys:!0}),H.extend(i,n,null,{allOwnKeys:!0}),i.create=function(r){return Ld(pi(e,r))},i}const ct=Ld(Vs);ct.Axios=di;ct.CanceledError=Gi;ct.CancelToken=Bv;ct.isCancel=Sd;ct.VERSION=Md;ct.toFormData=ar;ct.AxiosError=Be;ct.Cancel=ct.CanceledError;ct.all=function(n){return Promise.all(n)};ct.spread=Uv;ct.isAxiosError=Fv;ct.mergeConfig=pi;ct.AxiosHeaders=Ht;ct.formToJSON=e=>kd(H.isHTMLForm(e)?new FormData(e):e);ct.getAdapter=Td.getAdapter;ct.HttpStatusCode=Aa;ct.default=ct;const{Axios:mP,AxiosError:gP,CanceledError:_P,isCancel:vP,CancelToken:yP,VERSION:wP,all:bP,Cancel:kP,isAxiosError:SP,spread:CP,toFormData:PP,AxiosHeaders:xP,HttpStatusCode:AP,formToJSON:TP,getAdapter:MP,mergeConfig:EP}=ct;let Rd=null;function Nd(e){Rd=e||null}const zv=new Set(["Following/follow","Following/unfollow","Following/_getFollowers","Following/_getFollowees","Following/_getFollows","Following/_getUserIdByUsername","Following/_getUsernameByUserId","Following/_areFriends","UserPreferences/_getPreferencesForUser","UserPreferences/addPreference","UserPreferences/removePreference","Saving/saveItem","Saving/unsaveItem","Saving/_listSaved","Reviewing/_getReviewsByUser","Reviewing/_getReview","Reviewing/_getReviewsByItem","Reviewing/upsertReview","Reviewing/init","Reviewing/_isValidItem","Reviewing/clearReview","Visit/createVisit","Visit/_getVisitsByUser","Visit/_getVisitsByOwner","Visit/_getVisit","Visit/_getEntriesByVisit","Visit/_listEntriesByVisit","Visit/_getEntry","Visit/addEntry","Visit/editEntry","Visit/removeEntry","Visit/removeVisit","Visit/deleteVisit","Profile/_getProfile","Profile/isBlank","Profile/addName","Profile/addProfilePicture","Profile/editProfilePicture","Profile/removeProfilePicture","Similarity/rebuildSimilarity","Similarity/neighbors"]),He=ct.create({baseURL:"/api",headers:{"Content-Type":"application/json"},timeout:1e4});function $v(e){try{const n=typeof e=="string"?JSON.parse(e):e;if(!n||typeof n!="object")return e;const i=Array.isArray(n)?[...n]:{...n},o=["password","pass","token","sessiontoken"];for(const r of Object.keys(i))o.includes(r.toLowerCase())&&(i[r]="***");return i}catch{return e}}He.interceptors.request.use(e=>{try{if((e.method||"get").toUpperCase()!=="POST")return e;let i=String(e.url||"").trim();if(!i||(i.startsWith("/")&&(i=i.slice(1)),i.startsWith("api/")&&(i=i.slice(4)),!zv.has(i))||e.data&&typeof e.data=="object"&&"payload"in e.data&&"sessionToken"in e.data)return e;const r=e.data??{};return e.data={sessionToken:Rd??void 0,payload:r},e}catch{return e}});He.interceptors.response.use(e=>e,e=>{var u,h,d,m,p,_;const n=((h=(u=e==null?void 0:e.response)==null?void 0:u.data)==null?void 0:h.error)||(e==null?void 0:e.message)||"API error",i=(((d=e==null?void 0:e.config)==null?void 0:d.method)||"GET").toUpperCase(),o=((m=e==null?void 0:e.config)==null?void 0:m.url)||"(unknown URL)",r=(p=e==null?void 0:e.response)==null?void 0:p.status,l=$v((_=e==null?void 0:e.config)==null?void 0:_.data);return console.error("[API]",n,{method:i,url:o,status:r,payload:l,response:e==null?void 0:e.response}),Promise.reject(e)});const sl="museme.auth.userId";function Dv(){try{const e=localStorage.getItem(sl);return e?JSON.parse(e):null}catch{return null}}const Od="museme.auth.username";function Hv(){try{const e=localStorage.getItem(Od);return e?JSON.parse(e):null}catch{return null}}const Id="museme.auth.sessionToken";function Bd(){try{const e=localStorage.getItem(Id);return e?JSON.parse(e):null}catch{return null}}try{Nd(Bd())}catch{}const _t=mi("auth",{state:()=>({currentUserId:Dv(),currentUsername:Hv(),sessionToken:Bd(),loading:!1,error:null}),getters:{isAuthenticated:e=>!!e.currentUserId},actions:{_extractToken(e){if(!e)return null;const n=i=>{if(!i)return null;if(typeof i=="string")return i;if(typeof i!="object")return null;if(i.sessionToken)return String(i.sessionToken);if(i.token)return String(i.token);if(i.session){const o=i.session;if(typeof o=="string")return o;if(o&&typeof o=="object"){if("token"in o&&o.token)return String(o.token);if("id"in o&&o.id)return String(o.id);if("_id"in o&&o._id)return String(o._id)}}return i.sessionId?String(i.sessionId):null};return Array.isArray(e)&&e.length?n(e[0]):n(e)},persist(){localStorage.setItem(sl,JSON.stringify(this.currentUserId)),localStorage.setItem(Od,JSON.stringify(this.currentUsername)),localStorage.setItem(Id,JSON.stringify(this.sessionToken)),Nd(this.sessionToken)},clearError(){this.error=null},async register(e,n){var i,o,r,l;this.loading=!0,this.error=null;try{console.log("[AUTH] Registering user:",e);const{data:u}=await He.post("/UserAuthentication/register",{username:e,password:n});if(console.log("[AUTH] Register response:",u),!u||typeof u!="object"){const d="Registration failed: unexpected response";throw this.error=d,new Error(d)}if("error"in u&&u.error){const d=u.error;throw this.error=d||"Registration failed",new Error(this.error)}if(!("user"in u)||!u.user){const d="Registration failed";throw this.error=d,new Error(d)}this.currentUserId=u.user,this.currentUsername=e;const h=this._extractToken(u);return this.sessionToken=h??null,this.persist(),this.sessionToken||console.warn("[AUTH] No session token in register response. Expected sessionToken | token | session.token | session | session.id | session._id | sessionId"),u}catch(u){console.error("[AUTH] Register error:",u),console.error("[AUTH] Response data:",(i=u==null?void 0:u.response)==null?void 0:i.data),console.error("[AUTH] Response status:",(o=u==null?void 0:u.response)==null?void 0:o.status);const h=(l=(r=u==null?void 0:u.response)==null?void 0:r.data)==null?void 0:l.error;throw h?this.error=h:this.error||(this.error="Registration failed"),u}finally{this.loading=!1}},async login(e,n){var i,o,r,l;this.loading=!0,this.error=null;try{console.log("[AUTH] Authenticating user:",e);const{data:u}=await He.post("/UserAuthentication/authenticate",{username:e,password:n});if(console.log("[AUTH] Login response:",u),!u||typeof u!="object"){const d="Authentication failed: unexpected response";throw this.error=d,new Error(d)}if("error"in u&&u.error){const d=u.error;throw this.error=d||"Authentication failed",new Error(this.error)}if(!("user"in u)||!u.user){const d="Authentication failed";throw this.error=d,new Error(d)}this.currentUserId=u.user,this.currentUsername=e;const h=this._extractToken(u);return this.sessionToken=h??null,this.persist(),this.sessionToken||console.warn("[AUTH] No session token in login response. Expected sessionToken | token | session.token | session | session.id | session._id | sessionId"),u}catch(u){console.error("[AUTH] Login error:",u),console.error("[AUTH] Response data:",(i=u==null?void 0:u.response)==null?void 0:i.data),console.error("[AUTH] Response status:",(o=u==null?void 0:u.response)==null?void 0:o.status);const h=(l=(r=u==null?void 0:u.response)==null?void 0:r.data)==null?void 0:l.error;throw h?this.error=h:this.error||(this.error="Authentication failed"),u}finally{this.loading=!1}},logout(){this.currentUserId=null,this.currentUsername=null,this.sessionToken=null,this.persist()}}});/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */const Li=typeof document<"u";function Ud(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Vv(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&Ud(e.default)}const qe=Object.assign;function na(e,n){const i={};for(const o in n){const r=n[o];i[o]=ln(r)?r.map(e):e(r)}return i}const ks=()=>{},ln=Array.isArray;function _c(e,n){const i={};for(const o in e)i[o]=o in n?n[o]:e[o];return i}const Fd=/#/g,jv=/&/g,Zv=/\//g,Wv=/=/g,qv=/\?/g,zd=/\+/g,Gv=/%5B/g,Yv=/%5D/g,$d=/%5E/g,Kv=/%60/g,Dd=/%7B/g,Jv=/%7C/g,Hd=/%7D/g,Qv=/%20/g;function ol(e){return e==null?"":encodeURI(""+e).replace(Jv,"|").replace(Gv,"[").replace(Yv,"]")}function Xv(e){return ol(e).replace(Dd,"{").replace(Hd,"}").replace($d,"^")}function Ta(e){return ol(e).replace(zd,"%2B").replace(Qv,"+").replace(Fd,"%23").replace(jv,"%26").replace(Kv,"`").replace(Dd,"{").replace(Hd,"}").replace($d,"^")}function ey(e){return Ta(e).replace(Wv,"%3D")}function ty(e){return ol(e).replace(Fd,"%23").replace(qv,"%3F")}function ny(e){return ty(e).replace(Zv,"%2F")}function Ls(e){if(e==null)return null;try{return decodeURIComponent(""+e)}catch{}return""+e}const iy=/\/$/,sy=e=>e.replace(iy,"");function ia(e,n,i="/"){let o,r={},l="",u="";const h=n.indexOf("#");let d=n.indexOf("?");return d=h>=0&&d>h?-1:d,d>=0&&(o=n.slice(0,d),l=n.slice(d,h>0?h:n.length),r=e(l.slice(1))),h>=0&&(o=o||n.slice(0,h),u=n.slice(h,n.length)),o=ly(o??n,i),{fullPath:o+l+u,path:o,query:r,hash:Ls(u)}}function oy(e,n){const i=n.query?e(n.query):"";return n.path+(i&&"?")+i+(n.hash||"")}function vc(e,n){return!n||!e.toLowerCase().startsWith(n.toLowerCase())?e:e.slice(n.length)||"/"}function ry(e,n,i){const o=n.matched.length-1,r=i.matched.length-1;return o>-1&&o===r&&Hi(n.matched[o],i.matched[r])&&Vd(n.params,i.params)&&e(n.query)===e(i.query)&&n.hash===i.hash}function Hi(e,n){return(e.aliasOf||e)===(n.aliasOf||n)}function Vd(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(!ay(e[i],n[i]))return!1;return!0}function ay(e,n){return ln(e)?yc(e,n):ln(n)?yc(n,e):e===n}function yc(e,n){return ln(n)?e.length===n.length&&e.every((i,o)=>i===n[o]):e.length===1&&e[0]===n}function ly(e,n){if(e.startsWith("/"))return e;if(!e)return n;const i=n.split("/"),o=e.split("/"),r=o[o.length-1];(r===".."||r===".")&&o.push("");let l=i.length-1,u,h;for(u=0;u<o.length;u++)if(h=o[u],h!==".")if(h==="..")l>1&&l--;else break;return i.slice(0,l).join("/")+"/"+o.slice(u).join("/")}const Dn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};let Ma=function(e){return e.pop="pop",e.push="push",e}({}),sa=function(e){return e.back="back",e.forward="forward",e.unknown="",e}({});function uy(e){if(!e)if(Li){const n=document.querySelector("base");e=n&&n.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),sy(e)}const cy=/^[^#]+#/;function hy(e,n){return e.replace(cy,"#")+n}function dy(e,n){const i=document.documentElement.getBoundingClientRect(),o=e.getBoundingClientRect();return{behavior:n.behavior,left:o.left-i.left-(n.left||0),top:o.top-i.top-(n.top||0)}}const ur=()=>({left:window.scrollX,top:window.scrollY});function fy(e){let n;if("el"in e){const i=e.el,o=typeof i=="string"&&i.startsWith("#"),r=typeof i=="string"?o?document.getElementById(i.slice(1)):document.querySelector(i):i;if(!r)return;n=dy(r,e)}else n=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.scrollX,n.top!=null?n.top:window.scrollY)}function wc(e,n){return(history.state?history.state.position-n:-1)+e}const Ea=new Map;function py(e,n){Ea.set(e,n)}function my(e){const n=Ea.get(e);return Ea.delete(e),n}function gy(e){return typeof e=="string"||e&&typeof e=="object"}function jd(e){return typeof e=="string"||typeof e=="symbol"}let rt=function(e){return e[e.MATCHER_NOT_FOUND=1]="MATCHER_NOT_FOUND",e[e.NAVIGATION_GUARD_REDIRECT=2]="NAVIGATION_GUARD_REDIRECT",e[e.NAVIGATION_ABORTED=4]="NAVIGATION_ABORTED",e[e.NAVIGATION_CANCELLED=8]="NAVIGATION_CANCELLED",e[e.NAVIGATION_DUPLICATED=16]="NAVIGATION_DUPLICATED",e}({});const Zd=Symbol("");rt.MATCHER_NOT_FOUND+"",rt.NAVIGATION_GUARD_REDIRECT+"",rt.NAVIGATION_ABORTED+"",rt.NAVIGATION_CANCELLED+"",rt.NAVIGATION_DUPLICATED+"";function Vi(e,n){return qe(new Error,{type:e,[Zd]:!0},n)}function xn(e,n){return e instanceof Error&&Zd in e&&(n==null||!!(e.type&n))}const _y=["params","query","hash"];function vy(e){if(typeof e=="string")return e;if(e.path!=null)return e.path;const n={};for(const i of _y)i in e&&(n[i]=e[i]);return JSON.stringify(n,null,2)}function yy(e){const n={};if(e===""||e==="?")return n;const i=(e[0]==="?"?e.slice(1):e).split("&");for(let o=0;o<i.length;++o){const r=i[o].replace(zd," "),l=r.indexOf("="),u=Ls(l<0?r:r.slice(0,l)),h=l<0?null:Ls(r.slice(l+1));if(u in n){let d=n[u];ln(d)||(d=n[u]=[d]),d.push(h)}else n[u]=h}return n}function bc(e){let n="";for(let i in e){const o=e[i];if(i=ey(i),o==null){o!==void 0&&(n+=(n.length?"&":"")+i);continue}(ln(o)?o.map(r=>r&&Ta(r)):[o&&Ta(o)]).forEach(r=>{r!==void 0&&(n+=(n.length?"&":"")+i,r!=null&&(n+="="+r))})}return n}function wy(e){const n={};for(const i in e){const o=e[i];o!==void 0&&(n[i]=ln(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return n}const by=Symbol(""),kc=Symbol(""),cr=Symbol(""),rl=Symbol(""),La=Symbol("");function hs(){let e=[];function n(o){return e.push(o),()=>{const r=e.indexOf(o);r>-1&&e.splice(r,1)}}function i(){e=[]}return{add:n,list:()=>e.slice(),reset:i}}function Wn(e,n,i,o,r,l=u=>u()){const u=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((h,d)=>{const m=y=>{y===!1?d(Vi(rt.NAVIGATION_ABORTED,{from:i,to:n})):y instanceof Error?d(y):gy(y)?d(Vi(rt.NAVIGATION_GUARD_REDIRECT,{from:n,to:y})):(u&&o.enterCallbacks[r]===u&&typeof y=="function"&&u.push(y),h())},p=l(()=>e.call(o&&o.instances[r],n,i,m));let _=Promise.resolve(p);e.length<3&&(_=_.then(m)),_.catch(y=>d(y))})}function oa(e,n,i,o,r=l=>l()){const l=[];for(const u of e)for(const h in u.components){let d=u.components[h];if(!(n!=="beforeRouteEnter"&&!u.instances[h]))if(Ud(d)){const m=(d.__vccOpts||d)[n];m&&l.push(Wn(m,i,o,u,h,r))}else{let m=d();l.push(()=>m.then(p=>{if(!p)throw new Error(`Couldn't resolve component "${h}" at "${u.path}"`);const _=Vv(p)?p.default:p;u.mods[h]=p,u.components[h]=_;const y=(_.__vccOpts||_)[n];return y&&Wn(y,i,o,u,h,r)()}))}}return l}function ky(e,n){const i=[],o=[],r=[],l=Math.max(n.matched.length,e.matched.length);for(let u=0;u<l;u++){const h=n.matched[u];h&&(e.matched.find(m=>Hi(m,h))?o.push(h):i.push(h));const d=e.matched[u];d&&(n.matched.find(m=>Hi(m,d))||r.push(d))}return[i,o,r]}/*!
 * vue-router v4.6.3
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let Sy=()=>location.protocol+"//"+location.host;function Wd(e,n){const{pathname:i,search:o,hash:r}=n,l=e.indexOf("#");if(l>-1){let u=r.includes(e.slice(l))?e.slice(l).length:1,h=r.slice(u);return h[0]!=="/"&&(h="/"+h),vc(h,"")}return vc(i,e)+o+r}function Cy(e,n,i,o){let r=[],l=[],u=null;const h=({state:y})=>{const k=Wd(e,location),b=i.value,w=n.value;let A=0;if(y){if(i.value=k,n.value=y,u&&u===b){u=null;return}A=w?y.position-w.position:0}else o(k);r.forEach(I=>{I(i.value,b,{delta:A,type:Ma.pop,direction:A?A>0?sa.forward:sa.back:sa.unknown})})};function d(){u=i.value}function m(y){r.push(y);const k=()=>{const b=r.indexOf(y);b>-1&&r.splice(b,1)};return l.push(k),k}function p(){if(document.visibilityState==="hidden"){const{history:y}=window;if(!y.state)return;y.replaceState(qe({},y.state,{scroll:ur()}),"")}}function _(){for(const y of l)y();l=[],window.removeEventListener("popstate",h),window.removeEventListener("pagehide",p),document.removeEventListener("visibilitychange",p)}return window.addEventListener("popstate",h),window.addEventListener("pagehide",p),document.addEventListener("visibilitychange",p),{pauseListeners:d,listen:m,destroy:_}}function Sc(e,n,i,o=!1,r=!1){return{back:e,current:n,forward:i,replaced:o,position:window.history.length,scroll:r?ur():null}}function Py(e){const{history:n,location:i}=window,o={value:Wd(e,i)},r={value:n.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(d,m,p){const _=e.indexOf("#"),y=_>-1?(i.host&&document.querySelector("base")?e:e.slice(_))+d:Sy()+e+d;try{n[p?"replaceState":"pushState"](m,"",y),r.value=m}catch(k){console.error(k),i[p?"replace":"assign"](y)}}function u(d,m){l(d,qe({},n.state,Sc(r.value.back,d,r.value.forward,!0),m,{position:r.value.position}),!0),o.value=d}function h(d,m){const p=qe({},r.value,n.state,{forward:d,scroll:ur()});l(p.current,p,!0),l(d,qe({},Sc(o.value,d,null),{position:p.position+1},m),!1),o.value=d}return{location:o,state:r,push:h,replace:u}}function xy(e){e=uy(e);const n=Py(e),i=Cy(e,n.state,n.location,n.replace);function o(l,u=!0){u||i.pauseListeners(),history.go(l)}const r=qe({location:"",base:e,go:o,createHref:hy.bind(null,e)},n,i);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>n.state.value}),r}let ui=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.Group=2]="Group",e}({});var ft=function(e){return e[e.Static=0]="Static",e[e.Param=1]="Param",e[e.ParamRegExp=2]="ParamRegExp",e[e.ParamRegExpEnd=3]="ParamRegExpEnd",e[e.EscapeNext=4]="EscapeNext",e}(ft||{});const Ay={type:ui.Static,value:""},Ty=/[a-zA-Z0-9_]/;function My(e){if(!e)return[[]];if(e==="/")return[[Ay]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function n(k){throw new Error(`ERR (${i})/"${m}": ${k}`)}let i=ft.Static,o=i;const r=[];let l;function u(){l&&r.push(l),l=[]}let h=0,d,m="",p="";function _(){m&&(i===ft.Static?l.push({type:ui.Static,value:m}):i===ft.Param||i===ft.ParamRegExp||i===ft.ParamRegExpEnd?(l.length>1&&(d==="*"||d==="+")&&n(`A repeatable param (${m}) must be alone in its segment. eg: '/:ids+.`),l.push({type:ui.Param,value:m,regexp:p,repeatable:d==="*"||d==="+",optional:d==="*"||d==="?"})):n("Invalid state to consume buffer"),m="")}function y(){m+=d}for(;h<e.length;){if(d=e[h++],d==="\\"&&i!==ft.ParamRegExp){o=i,i=ft.EscapeNext;continue}switch(i){case ft.Static:d==="/"?(m&&_(),u()):d===":"?(_(),i=ft.Param):y();break;case ft.EscapeNext:y(),i=o;break;case ft.Param:d==="("?i=ft.ParamRegExp:Ty.test(d)?y():(_(),i=ft.Static,d!=="*"&&d!=="?"&&d!=="+"&&h--);break;case ft.ParamRegExp:d===")"?p[p.length-1]=="\\"?p=p.slice(0,-1)+d:i=ft.ParamRegExpEnd:p+=d;break;case ft.ParamRegExpEnd:_(),i=ft.Static,d!=="*"&&d!=="?"&&d!=="+"&&h--,p="";break;default:n("Unknown state");break}}return i===ft.ParamRegExp&&n(`Unfinished custom RegExp for param "${m}"`),_(),u(),r}const Cc="[^/]+?",Ey={sensitive:!1,strict:!1,start:!0,end:!0};var Bt=function(e){return e[e._multiplier=10]="_multiplier",e[e.Root=90]="Root",e[e.Segment=40]="Segment",e[e.SubSegment=30]="SubSegment",e[e.Static=40]="Static",e[e.Dynamic=20]="Dynamic",e[e.BonusCustomRegExp=10]="BonusCustomRegExp",e[e.BonusWildcard=-50]="BonusWildcard",e[e.BonusRepeatable=-20]="BonusRepeatable",e[e.BonusOptional=-8]="BonusOptional",e[e.BonusStrict=.7000000000000001]="BonusStrict",e[e.BonusCaseSensitive=.25]="BonusCaseSensitive",e}(Bt||{});const Ly=/[.+*?^${}()[\]/\\]/g;function Ry(e,n){const i=qe({},Ey,n),o=[];let r=i.start?"^":"";const l=[];for(const m of e){const p=m.length?[]:[Bt.Root];i.strict&&!m.length&&(r+="/");for(let _=0;_<m.length;_++){const y=m[_];let k=Bt.Segment+(i.sensitive?Bt.BonusCaseSensitive:0);if(y.type===ui.Static)_||(r+="/"),r+=y.value.replace(Ly,"\\$&"),k+=Bt.Static;else if(y.type===ui.Param){const{value:b,repeatable:w,optional:A,regexp:I}=y;l.push({name:b,repeatable:w,optional:A});const z=I||Cc;if(z!==Cc){k+=Bt.BonusCustomRegExp;try{`${z}`}catch(U){throw new Error(`Invalid custom RegExp for param "${b}" (${z}): `+U.message)}}let Z=w?`((?:${z})(?:/(?:${z}))*)`:`(${z})`;_||(Z=A&&m.length<2?`(?:/${Z})`:"/"+Z),A&&(Z+="?"),r+=Z,k+=Bt.Dynamic,A&&(k+=Bt.BonusOptional),w&&(k+=Bt.BonusRepeatable),z===".*"&&(k+=Bt.BonusWildcard)}p.push(k)}o.push(p)}if(i.strict&&i.end){const m=o.length-1;o[m][o[m].length-1]+=Bt.BonusStrict}i.strict||(r+="/?"),i.end?r+="$":i.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const u=new RegExp(r,i.sensitive?"":"i");function h(m){const p=m.match(u),_={};if(!p)return null;for(let y=1;y<p.length;y++){const k=p[y]||"",b=l[y-1];_[b.name]=k&&b.repeatable?k.split("/"):k}return _}function d(m){let p="",_=!1;for(const y of e){(!_||!p.endsWith("/"))&&(p+="/"),_=!1;for(const k of y)if(k.type===ui.Static)p+=k.value;else if(k.type===ui.Param){const{value:b,repeatable:w,optional:A}=k,I=b in m?m[b]:"";if(ln(I)&&!w)throw new Error(`Provided param "${b}" is an array but it is not repeatable (* or + modifiers)`);const z=ln(I)?I.join("/"):I;if(!z)if(A)y.length<2&&(p.endsWith("/")?p=p.slice(0,-1):_=!0);else throw new Error(`Missing required param "${b}"`);p+=z}}return p||"/"}return{re:u,score:o,keys:l,parse:h,stringify:d}}function Ny(e,n){let i=0;for(;i<e.length&&i<n.length;){const o=n[i]-e[i];if(o)return o;i++}return e.length<n.length?e.length===1&&e[0]===Bt.Static+Bt.Segment?-1:1:e.length>n.length?n.length===1&&n[0]===Bt.Static+Bt.Segment?1:-1:0}function qd(e,n){let i=0;const o=e.score,r=n.score;for(;i<o.length&&i<r.length;){const l=Ny(o[i],r[i]);if(l)return l;i++}if(Math.abs(r.length-o.length)===1){if(Pc(o))return 1;if(Pc(r))return-1}return r.length-o.length}function Pc(e){const n=e[e.length-1];return e.length>0&&n[n.length-1]<0}const Oy={strict:!1,end:!0,sensitive:!1};function Iy(e,n,i){const o=Ry(My(e.path),i),r=qe(o,{record:e,parent:n,children:[],alias:[]});return n&&!r.record.aliasOf==!n.record.aliasOf&&n.children.push(r),r}function By(e,n){const i=[],o=new Map;n=_c(Oy,n);function r(_){return o.get(_)}function l(_,y,k){const b=!k,w=Ac(_);w.aliasOf=k&&k.record;const A=_c(n,_),I=[w];if("alias"in _){const U=typeof _.alias=="string"?[_.alias]:_.alias;for(const V of U)I.push(Ac(qe({},w,{components:k?k.record.components:w.components,path:V,aliasOf:k?k.record:w})))}let z,Z;for(const U of I){const{path:V}=U;if(y&&V[0]!=="/"){const X=y.record.path,re=X[X.length-1]==="/"?"":"/";U.path=y.record.path+(V&&re+V)}if(z=Iy(U,y,A),k?k.alias.push(z):(Z=Z||z,Z!==z&&Z.alias.push(z),b&&_.name&&!Tc(z)&&u(_.name)),Gd(z)&&d(z),w.children){const X=w.children;for(let re=0;re<X.length;re++)l(X[re],z,k&&k.children[re])}k=k||z}return Z?()=>{u(Z)}:ks}function u(_){if(jd(_)){const y=o.get(_);y&&(o.delete(_),i.splice(i.indexOf(y),1),y.children.forEach(u),y.alias.forEach(u))}else{const y=i.indexOf(_);y>-1&&(i.splice(y,1),_.record.name&&o.delete(_.record.name),_.children.forEach(u),_.alias.forEach(u))}}function h(){return i}function d(_){const y=zy(_,i);i.splice(y,0,_),_.record.name&&!Tc(_)&&o.set(_.record.name,_)}function m(_,y){let k,b={},w,A;if("name"in _&&_.name){if(k=o.get(_.name),!k)throw Vi(rt.MATCHER_NOT_FOUND,{location:_});A=k.record.name,b=qe(xc(y.params,k.keys.filter(Z=>!Z.optional).concat(k.parent?k.parent.keys.filter(Z=>Z.optional):[]).map(Z=>Z.name)),_.params&&xc(_.params,k.keys.map(Z=>Z.name))),w=k.stringify(b)}else if(_.path!=null)w=_.path,k=i.find(Z=>Z.re.test(w)),k&&(b=k.parse(w),A=k.record.name);else{if(k=y.name?o.get(y.name):i.find(Z=>Z.re.test(y.path)),!k)throw Vi(rt.MATCHER_NOT_FOUND,{location:_,currentLocation:y});A=k.record.name,b=qe({},y.params,_.params),w=k.stringify(b)}const I=[];let z=k;for(;z;)I.unshift(z.record),z=z.parent;return{name:A,path:w,params:b,matched:I,meta:Fy(I)}}e.forEach(_=>l(_));function p(){i.length=0,o.clear()}return{addRoute:l,resolve:m,removeRoute:u,clearRoutes:p,getRoutes:h,getRecordMatcher:r}}function xc(e,n){const i={};for(const o of n)o in e&&(i[o]=e[o]);return i}function Ac(e){const n={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:Uy(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(n,"mods",{value:{}}),n}function Uy(e){const n={},i=e.props||!1;if("component"in e)n.default=i;else for(const o in e.components)n[o]=typeof i=="object"?i[o]:i;return n}function Tc(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function Fy(e){return e.reduce((n,i)=>qe(n,i.meta),{})}function zy(e,n){let i=0,o=n.length;for(;i!==o;){const l=i+o>>1;qd(e,n[l])<0?o=l:i=l+1}const r=$y(e);return r&&(o=n.lastIndexOf(r,o-1)),o}function $y(e){let n=e;for(;n=n.parent;)if(Gd(n)&&qd(e,n)===0)return n}function Gd({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function Mc(e){const n=Xt(cr),i=Xt(rl),o=Le(()=>{const d=Pe(e.to);return n.resolve(d)}),r=Le(()=>{const{matched:d}=o.value,{length:m}=d,p=d[m-1],_=i.matched;if(!p||!_.length)return-1;const y=_.findIndex(Hi.bind(null,p));if(y>-1)return y;const k=Ec(d[m-2]);return m>1&&Ec(p)===k&&_[_.length-1].path!==k?_.findIndex(Hi.bind(null,d[m-2])):y}),l=Le(()=>r.value>-1&&Zy(i.params,o.value.params)),u=Le(()=>r.value>-1&&r.value===i.matched.length-1&&Vd(i.params,o.value.params));function h(d={}){if(jy(d)){const m=n[Pe(e.replace)?"replace":"push"](Pe(e.to)).catch(ks);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>m),m}return Promise.resolve()}return{route:o,href:Le(()=>o.value.href),isActive:l,isExactActive:u,navigate:h}}function Dy(e){return e.length===1?e[0]:e}const Hy=We({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Mc,setup(e,{slots:n}){const i=pt(Mc(e)),{options:o}=Xt(cr),r=Le(()=>({[Lc(e.activeClass,o.linkActiveClass,"router-link-active")]:i.isActive,[Lc(e.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:i.isExactActive}));return()=>{const l=n.default&&Dy(n.default(i));return e.custom?l:el("a",{"aria-current":i.isExactActive?e.ariaCurrentValue:null,href:i.href,onClick:i.navigate,class:r.value},l)}}}),Vy=Hy;function jy(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const n=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return e.preventDefault&&e.preventDefault(),!0}}function Zy(e,n){for(const i in n){const o=n[i],r=e[i];if(typeof o=="string"){if(o!==r)return!1}else if(!ln(r)||r.length!==o.length||o.some((l,u)=>l!==r[u]))return!1}return!0}function Ec(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const Lc=(e,n,i)=>e??n??i,Wy=We({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:n,slots:i}){const o=Xt(La),r=Le(()=>e.route||o.value),l=Xt(kc,0),u=Le(()=>{let m=Pe(l);const{matched:p}=r.value;let _;for(;(_=p[m])&&!_.components;)m++;return m}),h=Le(()=>r.value.matched[u.value]);bo(kc,Le(()=>u.value+1)),bo(by,h),bo(La,r);const d=ue();return yt(()=>[d.value,h.value,e.name],([m,p,_],[y,k,b])=>{p&&(p.instances[_]=m,k&&k!==p&&m&&m===y&&(p.leaveGuards.size||(p.leaveGuards=k.leaveGuards),p.updateGuards.size||(p.updateGuards=k.updateGuards))),m&&p&&(!k||!Hi(p,k)||!y)&&(p.enterCallbacks[_]||[]).forEach(w=>w(m))},{flush:"post"}),()=>{const m=r.value,p=e.name,_=h.value,y=_&&_.components[p];if(!y)return Rc(i.default,{Component:y,route:m});const k=_.props[p],b=k?k===!0?m.params:typeof k=="function"?k(m):k:null,A=el(y,qe({},b,n,{onVnodeUnmounted:I=>{I.component.isUnmounted&&(_.instances[p]=null)},ref:d}));return Rc(i.default,{Component:A,route:m})||A}}});function Rc(e,n){if(!e)return null;const i=e(n);return i.length===1?i[0]:i}const qy=Wy;function Gy(e){const n=By(e.routes,e),i=e.parseQuery||yy,o=e.stringifyQuery||bc,r=e.history,l=hs(),u=hs(),h=hs(),d=nm(Dn);let m=Dn;Li&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const p=na.bind(null,W=>""+W),_=na.bind(null,ny),y=na.bind(null,Ls);function k(W,Y){let ie,ve;return jd(W)?(ie=n.getRecordMatcher(W),ve=Y):ve=W,n.addRoute(ve,ie)}function b(W){const Y=n.getRecordMatcher(W);Y&&n.removeRoute(Y)}function w(){return n.getRoutes().map(W=>W.record)}function A(W){return!!n.getRecordMatcher(W)}function I(W,Y){if(Y=qe({},Y||d.value),typeof W=="string"){const R=ia(i,W,Y.path),j=n.resolve({path:R.path},Y),Q=r.createHref(R.fullPath);return qe(R,j,{params:y(j.params),hash:Ls(R.hash),redirectedFrom:void 0,href:Q})}let ie;if(W.path!=null)ie=qe({},W,{path:ia(i,W.path,Y.path).path});else{const R=qe({},W.params);for(const j in R)R[j]==null&&delete R[j];ie=qe({},W,{params:_(R)}),Y.params=_(Y.params)}const ve=n.resolve(ie,Y),Oe=W.hash||"";ve.params=p(y(ve.params));const P=oy(o,qe({},W,{hash:Xv(Oe),path:ve.path})),E=r.createHref(P);return qe({fullPath:P,hash:Oe,query:o===bc?wy(W.query):W.query||{}},ve,{redirectedFrom:void 0,href:E})}function z(W){return typeof W=="string"?ia(i,W,d.value.path):qe({},W)}function Z(W,Y){if(m!==W)return Vi(rt.NAVIGATION_CANCELLED,{from:Y,to:W})}function U(W){return re(W)}function V(W){return U(qe(z(W),{replace:!0}))}function X(W,Y){const ie=W.matched[W.matched.length-1];if(ie&&ie.redirect){const{redirect:ve}=ie;let Oe=typeof ve=="function"?ve(W,Y):ve;return typeof Oe=="string"&&(Oe=Oe.includes("?")||Oe.includes("#")?Oe=z(Oe):{path:Oe},Oe.params={}),qe({query:W.query,hash:W.hash,params:Oe.path!=null?{}:W.params},Oe)}}function re(W,Y){const ie=m=I(W),ve=d.value,Oe=W.state,P=W.force,E=W.replace===!0,R=X(ie,ve);if(R)return re(qe(z(R),{state:typeof R=="object"?qe({},Oe,R.state):Oe,force:P,replace:E}),Y||ie);const j=ie;j.redirectedFrom=Y;let Q;return!P&&ry(o,ve,ie)&&(Q=Vi(rt.NAVIGATION_DUPLICATED,{to:j,from:ve}),ne(ve,ve,!0,!1)),(Q?Promise.resolve(Q):ge(j,ve)).catch(K=>xn(K)?xn(K,rt.NAVIGATION_GUARD_REDIRECT)?K:C(K):T(K,j,ve)).then(K=>{if(K){if(xn(K,rt.NAVIGATION_GUARD_REDIRECT))return re(qe({replace:E},z(K.to),{state:typeof K.to=="object"?qe({},Oe,K.to.state):Oe,force:P}),Y||j)}else K=J(j,ve,!0,E,Oe);return pe(j,ve,K),K})}function fe(W,Y){const ie=Z(W,Y);return ie?Promise.reject(ie):Promise.resolve()}function G(W){const Y=_e.values().next().value;return Y&&typeof Y.runWithContext=="function"?Y.runWithContext(W):W()}function ge(W,Y){let ie;const[ve,Oe,P]=ky(W,Y);ie=oa(ve.reverse(),"beforeRouteLeave",W,Y);for(const R of ve)R.leaveGuards.forEach(j=>{ie.push(Wn(j,W,Y))});const E=fe.bind(null,W,Y);return ie.push(E),ke(ie).then(()=>{ie=[];for(const R of l.list())ie.push(Wn(R,W,Y));return ie.push(E),ke(ie)}).then(()=>{ie=oa(Oe,"beforeRouteUpdate",W,Y);for(const R of Oe)R.updateGuards.forEach(j=>{ie.push(Wn(j,W,Y))});return ie.push(E),ke(ie)}).then(()=>{ie=[];for(const R of P)if(R.beforeEnter)if(ln(R.beforeEnter))for(const j of R.beforeEnter)ie.push(Wn(j,W,Y));else ie.push(Wn(R.beforeEnter,W,Y));return ie.push(E),ke(ie)}).then(()=>(W.matched.forEach(R=>R.enterCallbacks={}),ie=oa(P,"beforeRouteEnter",W,Y,G),ie.push(E),ke(ie))).then(()=>{ie=[];for(const R of u.list())ie.push(Wn(R,W,Y));return ie.push(E),ke(ie)}).catch(R=>xn(R,rt.NAVIGATION_CANCELLED)?R:Promise.reject(R))}function pe(W,Y,ie){h.list().forEach(ve=>G(()=>ve(W,Y,ie)))}function J(W,Y,ie,ve,Oe){const P=Z(W,Y);if(P)return P;const E=Y===Dn,R=Li?history.state:{};ie&&(ve||E?r.replace(W.fullPath,qe({scroll:E&&R&&R.scroll},Oe)):r.push(W.fullPath,Oe)),d.value=W,ne(W,Y,ie,E),C()}let Ae;function $(){Ae||(Ae=r.listen((W,Y,ie)=>{if(!Se.listening)return;const ve=I(W),Oe=X(ve,Se.currentRoute.value);if(Oe){re(qe(Oe,{replace:!0,force:!0}),ve).catch(ks);return}m=ve;const P=d.value;Li&&py(wc(P.fullPath,ie.delta),ur()),ge(ve,P).catch(E=>xn(E,rt.NAVIGATION_ABORTED|rt.NAVIGATION_CANCELLED)?E:xn(E,rt.NAVIGATION_GUARD_REDIRECT)?(re(qe(z(E.to),{force:!0}),ve).then(R=>{xn(R,rt.NAVIGATION_ABORTED|rt.NAVIGATION_DUPLICATED)&&!ie.delta&&ie.type===Ma.pop&&r.go(-1,!1)}).catch(ks),Promise.reject()):(ie.delta&&r.go(-ie.delta,!1),T(E,ve,P))).then(E=>{E=E||J(ve,P,!1),E&&(ie.delta&&!xn(E,rt.NAVIGATION_CANCELLED)?r.go(-ie.delta,!1):ie.type===Ma.pop&&xn(E,rt.NAVIGATION_ABORTED|rt.NAVIGATION_DUPLICATED)&&r.go(-1,!1)),pe(ve,P,E)}).catch(ks)}))}let F=hs(),N=hs(),q;function T(W,Y,ie){C(W);const ve=N.list();return ve.length?ve.forEach(Oe=>Oe(W,Y,ie)):console.error(W),Promise.reject(W)}function O(){return q&&d.value!==Dn?Promise.resolve():new Promise((W,Y)=>{F.add([W,Y])})}function C(W){return q||(q=!W,$(),F.list().forEach(([Y,ie])=>W?ie(W):Y()),F.reset()),W}function ne(W,Y,ie,ve){const{scrollBehavior:Oe}=e;if(!Li||!Oe)return Promise.resolve();const P=!ie&&my(wc(W.fullPath,0))||(ve||!ie)&&history.state&&history.state.scroll||null;return Bs().then(()=>Oe(W,Y,P)).then(E=>E&&fy(E)).catch(E=>T(E,W,Y))}const be=W=>r.go(W);let ye;const _e=new Set,Se={currentRoute:d,listening:!0,addRoute:k,removeRoute:b,clearRoutes:n.clearRoutes,hasRoute:A,getRoutes:w,resolve:I,options:e,push:U,replace:V,go:be,back:()=>be(-1),forward:()=>be(1),beforeEach:l.add,beforeResolve:u.add,afterEach:h.add,onError:N.add,isReady:O,install(W){W.component("RouterLink",Vy),W.component("RouterView",qy),W.config.globalProperties.$router=Se,Object.defineProperty(W.config.globalProperties,"$route",{enumerable:!0,get:()=>Pe(d)}),Li&&!ye&&d.value===Dn&&(ye=!0,U(r.location).catch(ve=>{}));const Y={};for(const ve in Dn)Object.defineProperty(Y,ve,{get:()=>d.value[ve],enumerable:!0});W.provide(cr,Se),W.provide(rl,ah(Y)),W.provide(La,d);const ie=W.unmount;_e.add(W),W.unmount=function(){_e.delete(W),_e.size<1&&(m=Dn,Ae&&Ae(),Ae=null,d.value=Dn,ye=!1,q=!1),ie()}}};function ke(W){return W.reduce((Y,ie)=>Y.then(()=>G(ie)),Promise.resolve())}return Se}function al(){return Xt(cr)}function Yy(e){return Xt(rl)}const Ky="/assets/logo-k3jQmhZu.png",Jy=["aria-label"],Qy=["onKeydown"],Xy={key:0,class:"modal-head"},ew={class:"modal-title"},tw={class:"modal-body"},nw={class:"modal-foot"},iw=We({__name:"Modal",props:{modelValue:{type:Boolean},title:{}},emits:["update:modelValue"],setup(e,{emit:n}){const i=e,o=n,r=ue(null);function l(){o("update:modelValue",!1)}return yt(()=>i.modelValue,async u=>{u&&await Bs().then(()=>{var h;return(h=r.value)==null?void 0:h.focus()})}),ut(()=>{var u;i.modelValue&&((u=r.value)==null||u.focus())}),(u,h)=>(S(),vt(_m,{to:"body"},[e.modelValue?(S(),x("div",{key:0,class:"modal-backdrop",onClick:zt(l,["self"]),role:"dialog","aria-label":e.title||"Dialog","aria-modal":"true"},[g("div",{class:"modal-panel",ref_key:"panel",ref:r,onKeydown:Ho(zt(l,["prevent","stop"]),["esc"]),tabindex:"-1"},[e.title?(S(),x("header",Xy,[g("h3",ew,oe(e.title),1),g("button",{class:"icon-btn",onClick:l,"aria-label":"Close dialog"},"")])):ae("",!0),g("div",tw,[ku(u.$slots,"default",{},void 0)]),g("footer",nw,[ku(u.$slots,"actions",{},()=>[g("button",{class:"btn",onClick:l},"Close")])])],40,Qy)],8,Jy)):ae("",!0)]))}}),Je=(e,n)=>{const i=e.__vccOpts||e;for(const[o,r]of n)i[o]=r;return i},js=Je(iw,[["__scopeId","data-v-20969eb0"]]),sw=["width","height","stroke-width"],ow={key:2,d:"M6 4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16l-6-3-6 3V4z"},rw={key:6,d:"M5 5h14v14l-7-3-7 3V5z"},aw={key:7,d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},lw={key:10,d:"M12 3a9 9 0 1 0 0 18h1a3 3 0 0 0 0-6h-1a1 1 0 0 1-1-1 2 2 0 0 1 2-2h1a3 3 0 0 0 0-6h-2z"},uw={key:12,d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"},cw=We({__name:"Icon",props:{name:{},size:{},stroke:{}},setup(e){const n=e,i=n.size??18,o=n.stroke??2;return(r,l)=>(S(),x("svg",{width:Pe(i),height:Pe(i),viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":Pe(o),"stroke-linecap":"round","stroke-linejoin":"round","aria-hidden":"true",class:"icon"},[e.name==="refresh"?(S(),x(Ce,{key:0},[l[0]||(l[0]=g("path",{d:"M4 4v6h6"},null,-1)),l[1]||(l[1]=g("path",{d:"M20 20v-6h-6"},null,-1)),l[2]||(l[2]=g("path",{d:"M20 10a8 8 0 0 0-14.906-3"},null,-1)),l[3]||(l[3]=g("path",{d:"M4 14a8 8 0 0 0 14.906 3"},null,-1))],64)):e.name==="globe"?(S(),x(Ce,{key:1},[l[4]||(l[4]=g("path",{d:"M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18z"},null,-1)),l[5]||(l[5]=g("path",{d:"M2.5 12h19"},null,-1)),l[6]||(l[6]=g("path",{d:"M12 2.5c3.5 3.5 3.5 15.5 0 19"},null,-1)),l[7]||(l[7]=g("path",{d:"M12 2.5c-3.5 3.5-3.5 15.5 0 19"},null,-1))],64)):e.name==="bookmark"?(S(),x("path",ow)):e.name==="search"?(S(),x(Ce,{key:3},[l[8]||(l[8]=g("circle",{cx:"11",cy:"11",r:"7"},null,-1)),l[9]||(l[9]=g("path",{d:"M21 21l-4.35-4.35"},null,-1))],64)):e.name==="map-pin"?(S(),x(Ce,{key:4},[l[10]||(l[10]=g("path",{d:"M12 22s7-4.5 7-10a7 7 0 1 0-14 0c0 5.5 7 10 7 10z"},null,-1)),l[11]||(l[11]=g("circle",{cx:"12",cy:"12",r:"2.5"},null,-1))],64)):e.name==="preferences"?(S(),x(Ce,{key:5},[l[12]||(l[12]=Fi('<path d="M4 6h16" data-v-cd52a269></path><path d="M7 6v6" data-v-cd52a269></path><path d="M7 12h10" data-v-cd52a269></path><path d="M17 12v6" data-v-cd52a269></path><path d="M4 18h16" data-v-cd52a269></path>',5))],64)):e.name==="saved"?(S(),x("path",rw)):e.name==="reviews"?(S(),x("path",aw)):e.name==="edit"?(S(),x(Ce,{key:8},[l[13]||(l[13]=g("path",{d:"M4 20h4l10-10-4-4L4 16v4z"},null,-1)),l[14]||(l[14]=g("path",{d:"M14 6l4 4"},null,-1))],64)):e.name==="camera"?(S(),x(Ce,{key:9},[l[15]||(l[15]=g("rect",{x:"3",y:"6",width:"18",height:"14",rx:"2"},null,-1)),l[16]||(l[16]=g("path",{d:"M9 6l2-2h2l2 2"},null,-1)),l[17]||(l[17]=g("circle",{cx:"12",cy:"13",r:"4"},null,-1))],64)):e.name==="palette"?(S(),x("path",lw)):e.name==="museum"?(S(),x(Ce,{key:11},[l[18]||(l[18]=Fi('<path d="M3 10h18" data-v-cd52a269></path><path d="M6 10v8" data-v-cd52a269></path><path d="M10 10v8" data-v-cd52a269></path><path d="M14 10v8" data-v-cd52a269></path><path d="M18 10v8" data-v-cd52a269></path><path d="M4 20h16" data-v-cd52a269></path><path d="M12 4 3 8h18L12 4z" data-v-cd52a269></path>',7))],64)):e.name==="star"?(S(),x("path",uw)):e.name==="sculpture"?(S(),x(Ce,{key:13},[l[19]||(l[19]=g("circle",{cx:"12",cy:"7",r:"3"},null,-1)),l[20]||(l[20]=g("path",{d:"M9 11h6l1 4H8l1-4z"},null,-1)),l[21]||(l[21]=g("rect",{x:"7",y:"16",width:"10",height:"4",rx:"1"},null,-1)),l[22]||(l[22]=g("path",{d:"M6 21h12"},null,-1))],64)):e.name==="arrow-up"?(S(),x(Ce,{key:14},[l[23]||(l[23]=g("path",{d:"M12 19V5"},null,-1)),l[24]||(l[24]=g("path",{d:"M5 12l7-7 7 7"},null,-1))],64)):ae("",!0)],8,sw))}}),nt=Je(cw,[["__scopeId","data-v-cd52a269"]]),hw={class:"how"},dw={class:"steps"},fw={class:"icon"},pw={class:"icon"},mw={class:"icon"},gw={class:"icon"},_w=We({__name:"HowItWorks",setup(e){return(n,i)=>(S(),x("section",hw,[i[4]||(i[4]=g("h3",null,"How it works",-1)),g("ul",dw,[g("li",null,[g("div",fw,[me(nt,{name:"search",size:18})]),i[0]||(i[0]=g("div",null,[g("strong",null,"Search"),g("p",null,"Find museums and exhibits that match your vibe.")],-1))]),g("li",null,[g("div",pw,[me(nt,{name:"bookmark",size:18})]),i[1]||(i[1]=g("div",null,[g("strong",null,"Save"),g("p",null,"Bookmark places to build your culture list.")],-1))]),g("li",null,[g("div",mw,[me(nt,{name:"camera",size:18})]),i[2]||(i[2]=g("div",null,[g("strong",null,"Showcase"),g("p",null,"Log visits with photos and ratings to share with friends.")],-1))]),g("li",null,[g("div",gw,[me(nt,{name:"refresh",size:18})]),i[3]||(i[3]=g("div",null,[g("strong",null,"Spotlight"),g("p",null,"Get a curated pick tailored to your tastesrefresh for inspiration.")],-1))])])]))}}),Yd=Je(_w,[["__scopeId","data-v-72ba58c5"]]),vw=We({__name:"HelpButton",setup(e){const n=ue(!1);return(i,o)=>(S(),x("div",null,[g("button",{class:"help-fab",onClick:o[0]||(o[0]=r=>n.value=!0),"aria-label":"How it works"}," ? "),me(js,{modelValue:n.value,"onUpdate:modelValue":o[1]||(o[1]=r=>n.value=r),title:"How it works"},{default:st(()=>[me(Yd)]),_:1},8,["modelValue"])]))}}),yw=Je(vw,[["__scopeId","data-v-b6997021"]]);var ww=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ra={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,n){(function(i,o){o(n)})(ww,function(i){var o="1.9.4";function r(t){var s,a,c,f;for(a=1,c=arguments.length;a<c;a++){f=arguments[a];for(s in f)t[s]=f[s]}return t}var l=Object.create||function(){function t(){}return function(s){return t.prototype=s,new t}}();function u(t,s){var a=Array.prototype.slice;if(t.bind)return t.bind.apply(t,a.call(arguments,1));var c=a.call(arguments,2);return function(){return t.apply(s,c.length?c.concat(a.call(arguments)):arguments)}}var h=0;function d(t){return"_leaflet_id"in t||(t._leaflet_id=++h),t._leaflet_id}function m(t,s,a){var c,f,v,M;return M=function(){c=!1,f&&(v.apply(a,f),f=!1)},v=function(){c?f=arguments:(t.apply(a,arguments),setTimeout(M,s),c=!0)},v}function p(t,s,a){var c=s[1],f=s[0],v=c-f;return t===c&&a?t:((t-f)%v+v)%v+f}function _(){return!1}function y(t,s){if(s===!1)return t;var a=Math.pow(10,s===void 0?6:s);return Math.round(t*a)/a}function k(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function b(t){return k(t).split(/\s+/)}function w(t,s){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?l(t.options):{});for(var a in s)t.options[a]=s[a];return t.options}function A(t,s,a){var c=[];for(var f in t)c.push(encodeURIComponent(a?f.toUpperCase():f)+"="+encodeURIComponent(t[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var I=/\{ *([\w_ -]+) *\}/g;function z(t,s){return t.replace(I,function(a,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+a);return typeof f=="function"&&(f=f(s)),f})}var Z=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function U(t,s){for(var a=0;a<t.length;a++)if(t[a]===s)return a;return-1}var V="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function X(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var re=0;function fe(t){var s=+new Date,a=Math.max(0,16-(s-re));return re=s+a,window.setTimeout(t,a)}var G=window.requestAnimationFrame||X("RequestAnimationFrame")||fe,ge=window.cancelAnimationFrame||X("CancelAnimationFrame")||X("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function pe(t,s,a){if(a&&G===fe)t.call(s);else return G.call(window,u(t,s))}function J(t){t&&ge.call(window,t)}var Ae={__proto__:null,extend:r,create:l,bind:u,get lastId(){return h},stamp:d,throttle:m,wrapNum:p,falseFn:_,formatNum:y,trim:k,splitWords:b,setOptions:w,getParamString:A,template:z,isArray:Z,indexOf:U,emptyImageUrl:V,requestFn:G,cancelFn:ge,requestAnimFrame:pe,cancelAnimFrame:J};function $(){}$.extend=function(t){var s=function(){w(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},a=s.__super__=this.prototype,c=l(a);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return t.statics&&r(s,t.statics),t.includes&&(F(t.includes),r.apply(null,[c].concat(t.includes))),r(c,t),delete c.statics,delete c.includes,c.options&&(c.options=a.options?l(a.options):{},r(c.options,t.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){a.callInitHooks&&a.callInitHooks.call(this),this._initHooksCalled=!0;for(var v=0,M=c._initHooks.length;v<M;v++)c._initHooks[v].call(this)}},s},$.include=function(t){var s=this.prototype.options;return r(this.prototype,t),t.options&&(this.prototype.options=s,this.mergeOptions(t.options)),this},$.mergeOptions=function(t){return r(this.prototype.options,t),this},$.addInitHook=function(t){var s=Array.prototype.slice.call(arguments,1),a=typeof t=="function"?t:function(){this[t].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a),this};function F(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=Z(t)?t:[t];for(var s=0;s<t.length;s++)t[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var N={on:function(t,s,a){if(typeof t=="object")for(var c in t)this._on(c,t[c],s);else{t=b(t);for(var f=0,v=t.length;f<v;f++)this._on(t[f],s,a)}return this},off:function(t,s,a){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var c in t)this._off(c,t[c],s);else{t=b(t);for(var f=arguments.length===1,v=0,M=t.length;v<M;v++)f?this._off(t[v]):this._off(t[v],s,a)}return this},_on:function(t,s,a,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(t,s,a)===!1){a===this&&(a=void 0);var f={fn:s,ctx:a};c&&(f.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(f)}},_off:function(t,s,a){var c,f,v;if(this._events&&(c=this._events[t],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,v=c.length;f<v;f++)c[f].fn=_;delete this._events[t];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var M=this._listens(t,s,a);if(M!==!1){var B=c[M];this._firingCount&&(B.fn=_,this._events[t]=c=c.slice()),c.splice(M,1)}}},fire:function(t,s,a){if(!this.listens(t,a))return this;var c=r({},s,{type:t,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[t];if(f){this._firingCount=this._firingCount+1||1;for(var v=0,M=f.length;v<M;v++){var B=f[v],D=B.fn;B.once&&this.off(t,D,B.ctx),D.call(B.ctx||this,c)}this._firingCount--}}return a&&this._propagateEvent(c),this},listens:function(t,s,a,c){typeof t!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,a=void 0);var v=this._events&&this._events[t];if(v&&v.length&&this._listens(t,f,a)!==!1)return!0;if(c){for(var M in this._eventParents)if(this._eventParents[M].listens(t,s,a,c))return!0}return!1},_listens:function(t,s,a){if(!this._events)return!1;var c=this._events[t]||[];if(!s)return!!c.length;a===this&&(a=void 0);for(var f=0,v=c.length;f<v;f++)if(c[f].fn===s&&c[f].ctx===a)return f;return!1},once:function(t,s,a){if(typeof t=="object")for(var c in t)this._on(c,t[c],s,!0);else{t=b(t);for(var f=0,v=t.length;f<v;f++)this._on(t[f],s,a,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[d(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[d(t)],this},_propagateEvent:function(t){for(var s in this._eventParents)this._eventParents[s].fire(t.type,r({layer:t.target,propagatedFrom:t.target},t),!0)}};N.addEventListener=N.on,N.removeEventListener=N.clearAllEventListeners=N.off,N.addOneTimeEventListener=N.once,N.fireEvent=N.fire,N.hasEventListeners=N.listens;var q=$.extend(N);function T(t,s,a){this.x=a?Math.round(t):t,this.y=a?Math.round(s):s}var O=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};T.prototype={clone:function(){return new T(this.x,this.y)},add:function(t){return this.clone()._add(C(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(C(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new T(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new T(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=O(this.x),this.y=O(this.y),this},distanceTo:function(t){t=C(t);var s=t.x-this.x,a=t.y-this.y;return Math.sqrt(s*s+a*a)},equals:function(t){return t=C(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=C(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function C(t,s,a){return t instanceof T?t:Z(t)?new T(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new T(t.x,t.y):new T(t,s,a)}function ne(t,s){if(t)for(var a=s?[t,s]:t,c=0,f=a.length;c<f;c++)this.extend(a[c])}ne.prototype={extend:function(t){var s,a;if(!t)return this;if(t instanceof T||typeof t[0]=="number"||"x"in t)s=a=C(t);else if(t=be(t),s=t.min,a=t.max,!s||!a)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=a.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)),this},getCenter:function(t){return C((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return C(this.min.x,this.max.y)},getTopRight:function(){return C(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var s,a;return typeof t[0]=="number"||t instanceof T?t=C(t):t=be(t),t instanceof ne?(s=t.min,a=t.max):s=a=t,s.x>=this.min.x&&a.x<=this.max.x&&s.y>=this.min.y&&a.y<=this.max.y},intersects:function(t){t=be(t);var s=this.min,a=this.max,c=t.min,f=t.max,v=f.x>=s.x&&c.x<=a.x,M=f.y>=s.y&&c.y<=a.y;return v&&M},overlaps:function(t){t=be(t);var s=this.min,a=this.max,c=t.min,f=t.max,v=f.x>s.x&&c.x<a.x,M=f.y>s.y&&c.y<a.y;return v&&M},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var s=this.min,a=this.max,c=Math.abs(s.x-a.x)*t,f=Math.abs(s.y-a.y)*t;return be(C(s.x-c,s.y-f),C(a.x+c,a.y+f))},equals:function(t){return t?(t=be(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function be(t,s){return!t||t instanceof ne?t:new ne(t,s)}function ye(t,s){if(t)for(var a=s?[t,s]:t,c=0,f=a.length;c<f;c++)this.extend(a[c])}ye.prototype={extend:function(t){var s=this._southWest,a=this._northEast,c,f;if(t instanceof Se)c=t,f=t;else if(t instanceof ye){if(c=t._southWest,f=t._northEast,!c||!f)return this}else return t?this.extend(ke(t)||_e(t)):this;return!s&&!a?(this._southWest=new Se(c.lat,c.lng),this._northEast=new Se(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),a.lat=Math.max(f.lat,a.lat),a.lng=Math.max(f.lng,a.lng)),this},pad:function(t){var s=this._southWest,a=this._northEast,c=Math.abs(s.lat-a.lat)*t,f=Math.abs(s.lng-a.lng)*t;return new ye(new Se(s.lat-c,s.lng-f),new Se(a.lat+c,a.lng+f))},getCenter:function(){return new Se((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Se(this.getNorth(),this.getWest())},getSouthEast:function(){return new Se(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Se||"lat"in t?t=ke(t):t=_e(t);var s=this._southWest,a=this._northEast,c,f;return t instanceof ye?(c=t.getSouthWest(),f=t.getNorthEast()):c=f=t,c.lat>=s.lat&&f.lat<=a.lat&&c.lng>=s.lng&&f.lng<=a.lng},intersects:function(t){t=_e(t);var s=this._southWest,a=this._northEast,c=t.getSouthWest(),f=t.getNorthEast(),v=f.lat>=s.lat&&c.lat<=a.lat,M=f.lng>=s.lng&&c.lng<=a.lng;return v&&M},overlaps:function(t){t=_e(t);var s=this._southWest,a=this._northEast,c=t.getSouthWest(),f=t.getNorthEast(),v=f.lat>s.lat&&c.lat<a.lat,M=f.lng>s.lng&&c.lng<a.lng;return v&&M},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,s){return t?(t=_e(t),this._southWest.equals(t.getSouthWest(),s)&&this._northEast.equals(t.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function _e(t,s){return t instanceof ye?t:new ye(t,s)}function Se(t,s,a){if(isNaN(t)||isNaN(s))throw new Error("Invalid LatLng object: ("+t+", "+s+")");this.lat=+t,this.lng=+s,a!==void 0&&(this.alt=+a)}Se.prototype={equals:function(t,s){if(!t)return!1;t=ke(t);var a=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return a<=(s===void 0?1e-9:s)},toString:function(t){return"LatLng("+y(this.lat,t)+", "+y(this.lng,t)+")"},distanceTo:function(t){return Y.distance(this,ke(t))},wrap:function(){return Y.wrapLatLng(this)},toBounds:function(t){var s=180*t/40075017,a=s/Math.cos(Math.PI/180*this.lat);return _e([this.lat-s,this.lng-a],[this.lat+s,this.lng+a])},clone:function(){return new Se(this.lat,this.lng,this.alt)}};function ke(t,s,a){return t instanceof Se?t:Z(t)&&typeof t[0]!="object"?t.length===3?new Se(t[0],t[1],t[2]):t.length===2?new Se(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Se(t.lat,"lng"in t?t.lng:t.lon,t.alt):s===void 0?null:new Se(t,s,a)}var W={latLngToPoint:function(t,s){var a=this.projection.project(t),c=this.scale(s);return this.transformation._transform(a,c)},pointToLatLng:function(t,s){var a=this.scale(s),c=this.transformation.untransform(t,a);return this.projection.unproject(c)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var s=this.projection.bounds,a=this.scale(t),c=this.transformation.transform(s.min,a),f=this.transformation.transform(s.max,a);return new ne(c,f)},infinite:!1,wrapLatLng:function(t){var s=this.wrapLng?p(t.lng,this.wrapLng,!0):t.lng,a=this.wrapLat?p(t.lat,this.wrapLat,!0):t.lat,c=t.alt;return new Se(a,s,c)},wrapLatLngBounds:function(t){var s=t.getCenter(),a=this.wrapLatLng(s),c=s.lat-a.lat,f=s.lng-a.lng;if(c===0&&f===0)return t;var v=t.getSouthWest(),M=t.getNorthEast(),B=new Se(v.lat-c,v.lng-f),D=new Se(M.lat-c,M.lng-f);return new ye(B,D)}},Y=r({},W,{wrapLng:[-180,180],R:6371e3,distance:function(t,s){var a=Math.PI/180,c=t.lat*a,f=s.lat*a,v=Math.sin((s.lat-t.lat)*a/2),M=Math.sin((s.lng-t.lng)*a/2),B=v*v+Math.cos(c)*Math.cos(f)*M*M,D=2*Math.atan2(Math.sqrt(B),Math.sqrt(1-B));return this.R*D}}),ie=6378137,ve={R:ie,MAX_LATITUDE:85.0511287798,project:function(t){var s=Math.PI/180,a=this.MAX_LATITUDE,c=Math.max(Math.min(a,t.lat),-a),f=Math.sin(c*s);return new T(this.R*t.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(t){var s=180/Math.PI;return new Se((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*s,t.x*s/this.R)},bounds:function(){var t=ie*Math.PI;return new ne([-t,-t],[t,t])}()};function Oe(t,s,a,c){if(Z(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=s,this._c=a,this._d=c}Oe.prototype={transform:function(t,s){return this._transform(t.clone(),s)},_transform:function(t,s){return s=s||1,t.x=s*(this._a*t.x+this._b),t.y=s*(this._c*t.y+this._d),t},untransform:function(t,s){return s=s||1,new T((t.x/s-this._b)/this._a,(t.y/s-this._d)/this._c)}};function P(t,s,a,c){return new Oe(t,s,a,c)}var E=r({},Y,{code:"EPSG:3857",projection:ve,transformation:function(){var t=.5/(Math.PI*ve.R);return P(t,.5,-t,.5)}()}),R=r({},E,{code:"EPSG:900913"});function j(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function Q(t,s){var a="",c,f,v,M,B,D;for(c=0,v=t.length;c<v;c++){for(B=t[c],f=0,M=B.length;f<M;f++)D=B[f],a+=(f?"L":"M")+D.x+" "+D.y;a+=s?Te.svg?"z":"x":""}return a||"M0 0"}var K=document.documentElement.style,se="ActiveXObject"in window,he=se&&!document.addEventListener,le="msLaunchUri"in navigator&&!("documentMode"in document),te=cn("webkit"),xe=cn("android"),de=cn("android 2")||cn("android 3"),ce=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Ee=xe&&cn("Google")&&ce<537&&!("AudioNode"in window),Ue=!!window.opera,Ye=!le&&cn("chrome"),je=cn("gecko")&&!te&&!Ue&&!se,Ct=!Ye&&cn("safari"),wt=cn("phantom"),Vt="OTransition"in K,Wt=navigator.platform.indexOf("Win")===0,Bn=se&&"transition"in K,gi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!de,Pt="MozPerspective"in K,qt=!window.L_DISABLE_3D&&(Bn||gi||Pt)&&!Vt&&!wt,Un=typeof orientation<"u"||cn("mobile"),qs=Un&&te,lf=Un&&gi,fl=!window.PointerEvent&&window.MSPointerEvent,pl=!!(window.PointerEvent||fl),ml="ontouchstart"in window||!!window.TouchEvent,uf=!window.L_NO_TOUCH&&(ml||pl),cf=Un&&Ue,hf=Un&&je,df=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,ff=function(){var t=!1;try{var s=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",_,s),window.removeEventListener("testPassiveEventSupport",_,s)}catch{}return t}(),pf=function(){return!!document.createElement("canvas").getContext}(),pr=!!(document.createElementNS&&j("svg").createSVGRect),mf=!!pr&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),gf=!pr&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var s=t.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),_f=navigator.platform.indexOf("Mac")===0,vf=navigator.platform.indexOf("Linux")===0;function cn(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var Te={ie:se,ielt9:he,edge:le,webkit:te,android:xe,android23:de,androidStock:Ee,opera:Ue,chrome:Ye,gecko:je,safari:Ct,phantom:wt,opera12:Vt,win:Wt,ie3d:Bn,webkit3d:gi,gecko3d:Pt,any3d:qt,mobile:Un,mobileWebkit:qs,mobileWebkit3d:lf,msPointer:fl,pointer:pl,touch:uf,touchNative:ml,mobileOpera:cf,mobileGecko:hf,retina:df,passiveEvents:ff,canvas:pf,svg:pr,vml:gf,inlineSvg:mf,mac:_f,linux:vf},gl=Te.msPointer?"MSPointerDown":"pointerdown",_l=Te.msPointer?"MSPointerMove":"pointermove",vl=Te.msPointer?"MSPointerUp":"pointerup",yl=Te.msPointer?"MSPointerCancel":"pointercancel",mr={touchstart:gl,touchmove:_l,touchend:vl,touchcancel:yl},wl={touchstart:Cf,touchmove:Gs,touchend:Gs,touchcancel:Gs},_i={},bl=!1;function yf(t,s,a){return s==="touchstart"&&Sf(),wl[s]?(a=wl[s].bind(this,a),t.addEventListener(mr[s],a,!1),a):(console.warn("wrong event specified:",s),_)}function wf(t,s,a){if(!mr[s]){console.warn("wrong event specified:",s);return}t.removeEventListener(mr[s],a,!1)}function bf(t){_i[t.pointerId]=t}function kf(t){_i[t.pointerId]&&(_i[t.pointerId]=t)}function kl(t){delete _i[t.pointerId]}function Sf(){bl||(document.addEventListener(gl,bf,!0),document.addEventListener(_l,kf,!0),document.addEventListener(vl,kl,!0),document.addEventListener(yl,kl,!0),bl=!0)}function Gs(t,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var a in _i)s.touches.push(_i[a]);s.changedTouches=[s],t(s)}}function Cf(t,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&bt(s),Gs(t,s)}function Pf(t){var s={},a,c;for(c in t)a=t[c],s[c]=a&&a.bind?a.bind(t):a;return t=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var xf=200;function Af(t,s){t.addEventListener("dblclick",s);var a=0,c;function f(v){if(v.detail!==1){c=v.detail;return}if(!(v.pointerType==="mouse"||v.sourceCapabilities&&!v.sourceCapabilities.firesTouchEvents)){var M=Al(v);if(!(M.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!M.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var B=Date.now();B-a<=xf?(c++,c===2&&s(Pf(v))):c=1,a=B}}}return t.addEventListener("click",f),{dblclick:s,simDblclick:f}}function Tf(t,s){t.removeEventListener("dblclick",s.dblclick),t.removeEventListener("click",s.simDblclick)}var gr=Js(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Yi=Js(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Sl=Yi==="webkitTransition"||Yi==="OTransition"?Yi+"End":"transitionend";function Cl(t){return typeof t=="string"?document.getElementById(t):t}function Ki(t,s){var a=t.style[s]||t.currentStyle&&t.currentStyle[s];if((!a||a==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(t,null);a=c?c[s]:null}return a==="auto"?null:a}function Ze(t,s,a){var c=document.createElement(t);return c.className=s||"",a&&a.appendChild(c),c}function it(t){var s=t.parentNode;s&&s.removeChild(t)}function Ys(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function vi(t){var s=t.parentNode;s&&s.lastChild!==t&&s.appendChild(t)}function yi(t){var s=t.parentNode;s&&s.firstChild!==t&&s.insertBefore(t,s.firstChild)}function _r(t,s){if(t.classList!==void 0)return t.classList.contains(s);var a=Ks(t);return a.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(a)}function Fe(t,s){if(t.classList!==void 0)for(var a=b(s),c=0,f=a.length;c<f;c++)t.classList.add(a[c]);else if(!_r(t,s)){var v=Ks(t);vr(t,(v?v+" ":"")+s)}}function lt(t,s){t.classList!==void 0?t.classList.remove(s):vr(t,k((" "+Ks(t)+" ").replace(" "+s+" "," ")))}function vr(t,s){t.className.baseVal===void 0?t.className=s:t.className.baseVal=s}function Ks(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Gt(t,s){"opacity"in t.style?t.style.opacity=s:"filter"in t.style&&Mf(t,s)}function Mf(t,s){var a=!1,c="DXImageTransform.Microsoft.Alpha";try{a=t.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),a?(a.Enabled=s!==100,a.Opacity=s):t.style.filter+=" progid:"+c+"(opacity="+s+")"}function Js(t){for(var s=document.documentElement.style,a=0;a<t.length;a++)if(t[a]in s)return t[a];return!1}function Qn(t,s,a){var c=s||new T(0,0);t.style[gr]=(Te.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(a?" scale("+a+")":"")}function ht(t,s){t._leaflet_pos=s,Te.any3d?Qn(t,s):(t.style.left=s.x+"px",t.style.top=s.y+"px")}function Xn(t){return t._leaflet_pos||new T(0,0)}var Ji,Qi,yr;if("onselectstart"in document)Ji=function(){Ie(window,"selectstart",bt)},Qi=function(){Xe(window,"selectstart",bt)};else{var Xi=Js(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ji=function(){if(Xi){var t=document.documentElement.style;yr=t[Xi],t[Xi]="none"}},Qi=function(){Xi&&(document.documentElement.style[Xi]=yr,yr=void 0)}}function wr(){Ie(window,"dragstart",bt)}function br(){Xe(window,"dragstart",bt)}var Qs,kr;function Sr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Xs(),Qs=t,kr=t.style.outlineStyle,t.style.outlineStyle="none",Ie(window,"keydown",Xs))}function Xs(){Qs&&(Qs.style.outlineStyle=kr,Qs=void 0,kr=void 0,Xe(window,"keydown",Xs))}function Pl(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Cr(t){var s=t.getBoundingClientRect();return{x:s.width/t.offsetWidth||1,y:s.height/t.offsetHeight||1,boundingClientRect:s}}var Ef={__proto__:null,TRANSFORM:gr,TRANSITION:Yi,TRANSITION_END:Sl,get:Cl,getStyle:Ki,create:Ze,remove:it,empty:Ys,toFront:vi,toBack:yi,hasClass:_r,addClass:Fe,removeClass:lt,setClass:vr,getClass:Ks,setOpacity:Gt,testProp:Js,setTransform:Qn,setPosition:ht,getPosition:Xn,get disableTextSelection(){return Ji},get enableTextSelection(){return Qi},disableImageDrag:wr,enableImageDrag:br,preventOutline:Sr,restoreOutline:Xs,getSizedParentNode:Pl,getScale:Cr};function Ie(t,s,a,c){if(s&&typeof s=="object")for(var f in s)xr(t,f,s[f],a);else{s=b(s);for(var v=0,M=s.length;v<M;v++)xr(t,s[v],a,c)}return this}var hn="_leaflet_events";function Xe(t,s,a,c){if(arguments.length===1)xl(t),delete t[hn];else if(s&&typeof s=="object")for(var f in s)Ar(t,f,s[f],a);else if(s=b(s),arguments.length===2)xl(t,function(B){return U(s,B)!==-1});else for(var v=0,M=s.length;v<M;v++)Ar(t,s[v],a,c);return this}function xl(t,s){for(var a in t[hn]){var c=a.split(/\d/)[0];(!s||s(c))&&Ar(t,c,null,null,a)}}var Pr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function xr(t,s,a,c){var f=s+d(a)+(c?"_"+d(c):"");if(t[hn]&&t[hn][f])return this;var v=function(B){return a.call(c||t,B||window.event)},M=v;!Te.touchNative&&Te.pointer&&s.indexOf("touch")===0?v=yf(t,s,v):Te.touch&&s==="dblclick"?v=Af(t,v):"addEventListener"in t?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?t.addEventListener(Pr[s]||s,v,Te.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(v=function(B){B=B||window.event,Mr(t,B)&&M(B)},t.addEventListener(Pr[s],v,!1)):t.addEventListener(s,M,!1):t.attachEvent("on"+s,v),t[hn]=t[hn]||{},t[hn][f]=v}function Ar(t,s,a,c,f){f=f||s+d(a)+(c?"_"+d(c):"");var v=t[hn]&&t[hn][f];if(!v)return this;!Te.touchNative&&Te.pointer&&s.indexOf("touch")===0?wf(t,s,v):Te.touch&&s==="dblclick"?Tf(t,v):"removeEventListener"in t?t.removeEventListener(Pr[s]||s,v,!1):t.detachEvent("on"+s,v),t[hn][f]=null}function ei(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function Tr(t){return xr(t,"wheel",ei),this}function es(t){return Ie(t,"mousedown touchstart dblclick contextmenu",ei),t._leaflet_disable_click=!0,this}function bt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function ti(t){return bt(t),ei(t),this}function Al(t){if(t.composedPath)return t.composedPath();for(var s=[],a=t.target;a;)s.push(a),a=a.parentNode;return s}function Tl(t,s){if(!s)return new T(t.clientX,t.clientY);var a=Cr(s),c=a.boundingClientRect;return new T((t.clientX-c.left)/a.x-s.clientLeft,(t.clientY-c.top)/a.y-s.clientTop)}var Lf=Te.linux&&Te.chrome?window.devicePixelRatio:Te.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ml(t){return Te.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Lf:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function Mr(t,s){var a=s.relatedTarget;if(!a)return!0;try{for(;a&&a!==t;)a=a.parentNode}catch{return!1}return a!==t}var Rf={__proto__:null,on:Ie,off:Xe,stopPropagation:ei,disableScrollPropagation:Tr,disableClickPropagation:es,preventDefault:bt,stop:ti,getPropagationPath:Al,getMousePosition:Tl,getWheelDelta:Ml,isExternalTarget:Mr,addListener:Ie,removeListener:Xe},El=q.extend({run:function(t,s,a,c){this.stop(),this._el=t,this._inProgress=!0,this._duration=a||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Xn(t),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=pe(this._animate,this),this._step()},_step:function(t){var s=+new Date-this._startTime,a=this._duration*1e3;s<a?this._runFrame(this._easeOut(s/a),t):(this._runFrame(1),this._complete())},_runFrame:function(t,s){var a=this._startPos.add(this._offset.multiplyBy(t));s&&a._round(),ht(this._el,a),this.fire("step")},_complete:function(){J(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),De=q.extend({options:{crs:E,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,s){s=w(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(ke(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Yi&&Te.any3d&&!Te.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ie(this._proxy,Sl,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,s,a){if(s=s===void 0?this._zoom:this._limitZoom(s),t=this._limitCenter(ke(t),s,this.options.maxBounds),a=a||{},this._stop(),this._loaded&&!a.reset&&a!==!0){a.animate!==void 0&&(a.zoom=r({animate:a.animate},a.zoom),a.pan=r({animate:a.animate,duration:a.duration},a.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,s,a.zoom):this._tryAnimatedPan(t,a.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(t,s,a.pan&&a.pan.noMoveStart),this},setZoom:function(t,s){return this._loaded?this.setView(this.getCenter(),t,{zoom:s}):(this._zoom=t,this)},zoomIn:function(t,s){return t=t||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,s)},zoomOut:function(t,s){return t=t||(Te.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,s)},setZoomAround:function(t,s,a){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),v=t instanceof T?t:this.latLngToContainerPoint(t),M=v.subtract(f).multiplyBy(1-1/c),B=this.containerPointToLatLng(f.add(M));return this.setView(B,s,{zoom:a})},_getBoundsCenterZoom:function(t,s){s=s||{},t=t.getBounds?t.getBounds():_e(t);var a=C(s.paddingTopLeft||s.padding||[0,0]),c=C(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(t,!1,a.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:t.getCenter(),zoom:f};var v=c.subtract(a).divideBy(2),M=this.project(t.getSouthWest(),f),B=this.project(t.getNorthEast(),f),D=this.unproject(M.add(B).divideBy(2).add(v),f);return{center:D,zoom:f}},fitBounds:function(t,s){if(t=_e(t),!t.isValid())throw new Error("Bounds are not valid.");var a=this._getBoundsCenterZoom(t,s);return this.setView(a.center,a.zoom,s)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,s){return this.setView(t,this._zoom,{pan:s})},panBy:function(t,s){if(t=C(t).round(),s=s||{},!t.x&&!t.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new El,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Fe(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,a,s.duration||.25,s.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,s,a){if(a=a||{},a.animate===!1||!Te.any3d)return this.setView(t,s,a);this._stop();var c=this.project(this.getCenter()),f=this.project(t),v=this.getSize(),M=this._zoom;t=ke(t),s=s===void 0?M:s;var B=Math.max(v.x,v.y),D=B*this.getZoomScale(M,s),ee=f.distanceTo(c)||1,we=1.42,Re=we*we;function ze(dt){var ho=dt?-1:1,wp=dt?D:B,bp=D*D-B*B+ho*Re*Re*ee*ee,kp=2*wp*Re*ee,$r=bp/kp,cu=Math.sqrt($r*$r+1)-$r,Sp=cu<1e-9?-18:Math.log(cu);return Sp}function Nt(dt){return(Math.exp(dt)-Math.exp(-dt))/2}function gt(dt){return(Math.exp(dt)+Math.exp(-dt))/2}function Kt(dt){return Nt(dt)/gt(dt)}var $t=ze(0);function Pi(dt){return B*(gt($t)/gt($t+we*dt))}function gp(dt){return B*(gt($t)*Kt($t+we*dt)-Nt($t))/Re}function _p(dt){return 1-Math.pow(1-dt,1.5)}var vp=Date.now(),lu=(ze(1)-$t)/we,yp=a.duration?1e3*a.duration:1e3*lu*.8;function uu(){var dt=(Date.now()-vp)/yp,ho=_p(dt)*lu;dt<=1?(this._flyToFrame=pe(uu,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(gp(ho)/ee)),M),this.getScaleZoom(B/Pi(ho),M),{flyTo:!0})):this._move(t,s)._moveEnd(!0)}return this._moveStart(!0,a.noMoveStart),uu.call(this),this},flyToBounds:function(t,s){var a=this._getBoundsCenterZoom(t,s);return this.flyTo(a.center,a.zoom,s)},setMaxBounds:function(t){return t=_e(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var s=this.options.minZoom;return this.options.minZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var s=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&s!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,s){this._enforcingBounds=!0;var a=this.getCenter(),c=this._limitCenter(a,this._zoom,_e(t));return a.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(t,s){s=s||{};var a=C(s.paddingTopLeft||s.padding||[0,0]),c=C(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),v=this.project(t),M=this.getPixelBounds(),B=be([M.min.add(a),M.max.subtract(c)]),D=B.getSize();if(!B.contains(v)){this._enforcingBounds=!0;var ee=v.subtract(B.getCenter()),we=B.extend(v).getSize().subtract(D);f.x+=ee.x<0?-we.x:we.x,f.y+=ee.y<0?-we.y:we.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=r({animate:!1,pan:!0},t===!0?{animate:!0}:t);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var a=this.getSize(),c=s.divideBy(2).round(),f=a.divideBy(2).round(),v=c.subtract(f);return!v.x&&!v.y?this:(t.animate&&t.pan?this.panBy(v):(t.pan&&this._rawPanBy(v),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:a}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=r({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),a=u(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,a,t):navigator.geolocation.getCurrentPosition(s,a,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var s=t.code,a=t.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+a+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var s=t.coords.latitude,a=t.coords.longitude,c=new Se(s,a),f=c.toBounds(t.coords.accuracy*2),v=this._locateOptions;if(v.setView){var M=this.getBoundsZoom(f);this.setView(c,v.maxZoom?Math.min(M,v.maxZoom):M)}var B={latlng:c,bounds:f,timestamp:t.timestamp};for(var D in t.coords)typeof t.coords[D]=="number"&&(B[D]=t.coords[D]);this.fire("locationfound",B)}},addHandler:function(t,s){if(!s)return this;var a=this[t]=new s(this);return this._handlers.push(a),this.options[t]&&a.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),it(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(J(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)it(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,s){var a="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),c=Ze("div",a,s||this._mapPane);return t&&(this._panes[t]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),s=this.unproject(t.getBottomLeft()),a=this.unproject(t.getTopRight());return new ye(s,a)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,s,a){t=_e(t),a=C(a||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),v=this.getMaxZoom(),M=t.getNorthWest(),B=t.getSouthEast(),D=this.getSize().subtract(a),ee=be(this.project(B,c),this.project(M,c)).getSize(),we=Te.any3d?this.options.zoomSnap:1,Re=D.x/ee.x,ze=D.y/ee.y,Nt=s?Math.max(Re,ze):Math.min(Re,ze);return c=this.getScaleZoom(Nt,c),we&&(c=Math.round(c/(we/100))*(we/100),c=s?Math.ceil(c/we)*we:Math.floor(c/we)*we),Math.max(f,Math.min(v,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new T(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,s){var a=this._getTopLeftPoint(t,s);return new ne(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,s){var a=this.options.crs;return s=s===void 0?this._zoom:s,a.scale(t)/a.scale(s)},getScaleZoom:function(t,s){var a=this.options.crs;s=s===void 0?this._zoom:s;var c=a.zoom(t*a.scale(s));return isNaN(c)?1/0:c},project:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(ke(t),s)},unproject:function(t,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng(C(t),s)},layerPointToLatLng:function(t){var s=C(t).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(t){var s=this.project(ke(t))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(ke(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(_e(t))},distance:function(t,s){return this.options.crs.distance(ke(t),ke(s))},containerPointToLayerPoint:function(t){return C(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return C(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var s=this.containerPointToLayerPoint(C(t));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ke(t)))},mouseEventToContainerPoint:function(t){return Tl(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var s=this._container=Cl(t);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ie(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&Te.any3d,Fe(t,"leaflet-container"+(Te.touch?" leaflet-touch":"")+(Te.retina?" leaflet-retina":"")+(Te.ielt9?" leaflet-oldie":"")+(Te.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=Ki(t,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ht(this._mapPane,new T(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Fe(t.markerPane,"leaflet-zoom-hide"),Fe(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,s,a){ht(this._mapPane,new T(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,a)._move(t,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(t,s){return t&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(t,s,a,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),c?a&&a.pinch&&this.fire("zoom",a):((f||a&&a.pinch)&&this.fire("zoom",a),this.fire("move",a)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return J(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ht(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[d(this._container)]=this;var s=t?Xe:Ie;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Te.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){J(this._resizeRequest),this._resizeRequest=pe(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,s){for(var a=[],c,f=s==="mouseout"||s==="mouseover",v=t.target||t.srcElement,M=!1;v;){if(c=this._targets[d(v)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){M=!0;break}if(c&&c.listens(s,!0)&&(f&&!Mr(v,t)||(a.push(c),f))||v===this._container)break;v=v.parentNode}return!a.length&&!M&&!f&&this.listens(s,!0)&&(a=[this]),a},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var s=t.target||t.srcElement;if(!(!this._loaded||s._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(s))){var a=t.type;a==="mousedown"&&Sr(s),this._fireDOMEvent(t,a)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,s,a){if(t.type==="click"){var c=r({},t);c.type="preclick",this._fireDOMEvent(c,c.type,a)}var f=this._findEventTargets(t,s);if(a){for(var v=[],M=0;M<a.length;M++)a[M].listens(s,!0)&&v.push(a[M]);f=v.concat(f)}if(f.length){s==="contextmenu"&&bt(t);var B=f[0],D={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var ee=B.getLatLng&&(!B._radius||B._radius<=10);D.containerPoint=ee?this.latLngToContainerPoint(B.getLatLng()):this.mouseEventToContainerPoint(t),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=ee?B.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(M=0;M<f.length;M++)if(f[M].fire(s,D,!0),D.originalEvent._stopped||f[M].options.bubblingMouseEvents===!1&&U(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,s=this._handlers.length;t<s;t++)this._handlers[t].disable()},whenReady:function(t,s){return this._loaded?t.call(s||this,{target:this}):this.on("load",t,s),this},_getMapPanePos:function(){return Xn(this._mapPane)||new T(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,s){var a=t&&s!==void 0?this._getNewPixelOrigin(t,s):this.getPixelOrigin();return a.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,s){var a=this.getSize()._divideBy(2);return this.project(t,s)._subtract(a)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,s,a){var c=this._getNewPixelOrigin(a,s);return this.project(t,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(t,s,a){var c=this._getNewPixelOrigin(a,s);return be([this.project(t.getSouthWest(),s)._subtract(c),this.project(t.getNorthWest(),s)._subtract(c),this.project(t.getSouthEast(),s)._subtract(c),this.project(t.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,s,a){if(!a)return t;var c=this.project(t,s),f=this.getSize().divideBy(2),v=new ne(c.subtract(f),c.add(f)),M=this._getBoundsOffset(v,a,s);return Math.abs(M.x)<=1&&Math.abs(M.y)<=1?t:this.unproject(c.add(M),s)},_limitOffset:function(t,s){if(!s)return t;var a=this.getPixelBounds(),c=new ne(a.min.add(t),a.max.add(t));return t.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(t,s,a){var c=be(this.project(s.getNorthEast(),a),this.project(s.getSouthWest(),a)),f=c.min.subtract(t.min),v=c.max.subtract(t.max),M=this._rebound(f.x,-v.x),B=this._rebound(f.y,-v.y);return new T(M,B)},_rebound:function(t,s){return t+s>0?Math.round(t-s)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(s))},_limitZoom:function(t){var s=this.getMinZoom(),a=this.getMaxZoom(),c=Te.any3d?this.options.zoomSnap:1;return c&&(t=Math.round(t/c)*c),Math.max(s,Math.min(a,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){lt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,s){var a=this._getCenterOffset(t)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(a)?!1:(this.panBy(a,s),!0)},_createAnimProxy:function(){var t=this._proxy=Ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(s){var a=gr,c=this._proxy.style[a];Qn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[a]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){it(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),s=this.getZoom();Qn(this._proxy,this.project(t,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,s,a){if(this._animatingZoom)return!0;if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(t)._divideBy(1-1/c);return a.animate!==!0&&!this.getSize().contains(f)?!1:(pe(function(){this._moveStart(!0,a.noMoveStart||!1)._animateZoom(t,s,!0)},this),!0)},_animateZoom:function(t,s,a,c){this._mapPane&&(a&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=s,Fe(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&lt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Nf(t,s){return new De(t,s)}var nn=$.extend({options:{position:"topright"},initialize:function(t){w(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var s=this._map;return s&&s.removeControl(this),this.options.position=t,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var s=this._container=this.onAdd(t),a=this.getPosition(),c=t._controlCorners[a];return Fe(s,"leaflet-control"),a.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(it(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),ts=function(t){return new nn(t)};De.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},s="leaflet-",a=this._controlContainer=Ze("div",s+"control-container",this._container);function c(f,v){var M=s+f+" "+s+v;t[f+v]=Ze("div",M,a)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)it(this._controlCorners[t]);it(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Ll=nn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,s,a,c){return a<c?-1:c<a?1:0}},initialize:function(t,s,a){w(this,a),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in t)this._addLayer(t[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return nn.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,s){return this._addLayer(t,s),this._map?this._update():this},addOverlay:function(t,s){return this._addLayer(t,s,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(t));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Fe(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(Fe(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):lt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return lt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",s=this._container=Ze("div",t),a=this.options.collapsed;s.setAttribute("aria-haspopup",!0),es(s),Tr(s);var c=this._section=Ze("section",t+"-list");a&&(this._map.on("click",this.collapse,this),Ie(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=Ze("a",t+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),Ie(f,{keydown:function(v){v.keyCode===13&&this._expandSafely()},click:function(v){bt(v),this._expandSafely()}},this),a||this.expand(),this._baseLayersList=Ze("div",t+"-base",c),this._separator=Ze("div",t+"-separator",c),this._overlaysList=Ze("div",t+"-overlays",c),s.appendChild(c)},_getLayer:function(t){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===t)return this._layers[s]},_addLayer:function(t,s,a){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:s,overlay:a}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Ys(this._baseLayersList),Ys(this._overlaysList),this._layerControlInputs=[];var t,s,a,c,f=0;for(a=0;a<this._layers.length;a++)c=this._layers[a],this._addItem(c),s=s||c.overlay,t=t||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(t=t&&f>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=s&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var s=this._getLayer(d(t.target)),a=s.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;a&&this._map.fire(a,s)},_createRadioElement:function(t,s){var a='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=a,c.firstChild},_addItem:function(t){var s=document.createElement("label"),a=this._map.hasLayer(t.layer),c;t.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=a):c=this._createRadioElement("leaflet-base-layers_"+d(this),a),this._layerControlInputs.push(c),c.layerId=d(t.layer),Ie(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+t.name;var v=document.createElement("span");s.appendChild(v),v.appendChild(c),v.appendChild(f);var M=t.overlay?this._overlaysList:this._baseLayersList;return M.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,s,a,c=[],f=[];this._handlingClick=!0;for(var v=t.length-1;v>=0;v--)s=t[v],a=this._getLayer(s.layerId).layer,s.checked?c.push(a):s.checked||f.push(a);for(v=0;v<f.length;v++)this._map.hasLayer(f[v])&&this._map.removeLayer(f[v]);for(v=0;v<c.length;v++)this._map.hasLayer(c[v])||this._map.addLayer(c[v]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,s,a,c=this._map.getZoom(),f=t.length-1;f>=0;f--)s=t[f],a=this._getLayer(s.layerId).layer,s.disabled=a.options.minZoom!==void 0&&c<a.options.minZoom||a.options.maxZoom!==void 0&&c>a.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,Ie(t,"click",bt),this.expand();var s=this;setTimeout(function(){Xe(t,"click",bt),s._preventClick=!1})}}),Of=function(t,s,a){return new Ll(t,s,a)},Er=nn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var s="leaflet-control-zoom",a=Ze("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",a,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",a,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,s,a,c,f){var v=Ze("a",a,c);return v.innerHTML=t,v.href="#",v.title=s,v.setAttribute("role","button"),v.setAttribute("aria-label",s),es(v),Ie(v,"click",ti),Ie(v,"click",f,this),Ie(v,"click",this._refocusOnMap,this),v},_updateDisabled:function(){var t=this._map,s="leaflet-disabled";lt(this._zoomInButton,s),lt(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(Fe(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(Fe(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});De.mergeOptions({zoomControl:!0}),De.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Er,this.addControl(this.zoomControl))});var If=function(t){return new Er(t)},Rl=nn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var s="leaflet-control-scale",a=Ze("div",s),c=this.options;return this._addScales(c,s+"-line",a),t.on(c.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),a},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,s,a){t.metric&&(this._mScale=Ze("div",s,a)),t.imperial&&(this._iScale=Ze("div",s,a))},_update:function(){var t=this._map,s=t.getSize().y/2,a=t.distance(t.containerPointToLatLng([0,s]),t.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(a)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var s=this._getRoundNum(t),a=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,a,s/t)},_updateImperial:function(t){var s=t*3.2808399,a,c,f;s>5280?(a=s/5280,c=this._getRoundNum(a),this._updateScale(this._iScale,c+" mi",c/a)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(t,s,a){t.style.width=Math.round(this.options.maxWidth*a)+"px",t.innerHTML=s},_getRoundNum:function(t){var s=Math.pow(10,(Math.floor(t)+"").length-1),a=t/s;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,s*a}}),Bf=function(t){return new Rl(t)},Uf='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Lr=nn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Te.inlineSvg?Uf+" ":"")+"Leaflet</a>"},initialize:function(t){w(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=Ze("div","leaflet-control-attribution"),es(this._container);for(var s in t._layers)t._layers[s].getAttribution&&this.addAttribution(t._layers[s].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var s in this._attributions)this._attributions[s]&&t.push(s);var a=[];this.options.prefix&&a.push(this.options.prefix),t.length&&a.push(t.join(", ")),this._container.innerHTML=a.join(' <span aria-hidden="true">|</span> ')}}});De.mergeOptions({attributionControl:!0}),De.addInitHook(function(){this.options.attributionControl&&new Lr().addTo(this)});var Ff=function(t){return new Lr(t)};nn.Layers=Ll,nn.Zoom=Er,nn.Scale=Rl,nn.Attribution=Lr,ts.layers=Of,ts.zoom=If,ts.scale=Bf,ts.attribution=Ff;var dn=$.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});dn.addTo=function(t,s){return t.addHandler(s,this),this};var zf={Events:N},Nl=Te.touch?"touchstart mousedown":"mousedown",Fn=q.extend({options:{clickTolerance:3},initialize:function(t,s,a,c){w(this,c),this._element=t,this._dragStartTarget=s||t,this._preventOutline=a},enable:function(){this._enabled||(Ie(this._dragStartTarget,Nl,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fn._dragging===this&&this.finishDrag(!0),Xe(this._dragStartTarget,Nl,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!_r(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){Fn._dragging===this&&this.finishDrag();return}if(!(Fn._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(Fn._dragging=this,this._preventOutline&&Sr(this._element),wr(),Ji(),!this._moving)){this.fire("down");var s=t.touches?t.touches[0]:t,a=Pl(this._element);this._startPoint=new T(s.clientX,s.clientY),this._startPos=Xn(this._element),this._parentScale=Cr(a);var c=t.type==="mousedown";Ie(document,c?"mousemove":"touchmove",this._onMove,this),Ie(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var s=t.touches&&t.touches.length===1?t.touches[0]:t,a=new T(s.clientX,s.clientY)._subtract(this._startPoint);!a.x&&!a.y||Math.abs(a.x)+Math.abs(a.y)<this.options.clickTolerance||(a.x/=this._parentScale.x,a.y/=this._parentScale.y,bt(t),this._moved||(this.fire("dragstart"),this._moved=!0,Fe(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Fe(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(a),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ht(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){lt(document.body,"leaflet-dragging"),this._lastTarget&&(lt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xe(document,"mousemove touchmove",this._onMove,this),Xe(document,"mouseup touchend touchcancel",this._onUp,this),br(),Qi();var s=this._moved&&this._moving;this._moving=!1,Fn._dragging=!1,s&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Ol(t,s,a){var c,f=[1,4,2,8],v,M,B,D,ee,we,Re,ze;for(v=0,we=t.length;v<we;v++)t[v]._code=ni(t[v],s);for(B=0;B<4;B++){for(Re=f[B],c=[],v=0,we=t.length,M=we-1;v<we;M=v++)D=t[v],ee=t[M],D._code&Re?ee._code&Re||(ze=eo(ee,D,Re,s,a),ze._code=ni(ze,s),c.push(ze)):(ee._code&Re&&(ze=eo(ee,D,Re,s,a),ze._code=ni(ze,s),c.push(ze)),c.push(D));t=c}return t}function Il(t,s){var a,c,f,v,M,B,D,ee,we;if(!t||t.length===0)throw new Error("latlngs not passed");Yt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var Re=ke([0,0]),ze=_e(t),Nt=ze.getNorthWest().distanceTo(ze.getSouthWest())*ze.getNorthEast().distanceTo(ze.getNorthWest());Nt<1700&&(Re=Rr(t));var gt=t.length,Kt=[];for(a=0;a<gt;a++){var $t=ke(t[a]);Kt.push(s.project(ke([$t.lat-Re.lat,$t.lng-Re.lng])))}for(B=D=ee=0,a=0,c=gt-1;a<gt;c=a++)f=Kt[a],v=Kt[c],M=f.y*v.x-v.y*f.x,D+=(f.x+v.x)*M,ee+=(f.y+v.y)*M,B+=M*3;B===0?we=Kt[0]:we=[D/B,ee/B];var Pi=s.unproject(C(we));return ke([Pi.lat+Re.lat,Pi.lng+Re.lng])}function Rr(t){for(var s=0,a=0,c=0,f=0;f<t.length;f++){var v=ke(t[f]);s+=v.lat,a+=v.lng,c++}return ke([s/c,a/c])}var $f={__proto__:null,clipPolygon:Ol,polygonCenter:Il,centroid:Rr};function Bl(t,s){if(!s||!t.length)return t.slice();var a=s*s;return t=Vf(t,a),t=Hf(t,a),t}function Ul(t,s,a){return Math.sqrt(ns(t,s,a,!0))}function Df(t,s,a){return ns(t,s,a)}function Hf(t,s){var a=t.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(a);f[0]=f[a-1]=1,Nr(t,f,s,0,a-1);var v,M=[];for(v=0;v<a;v++)f[v]&&M.push(t[v]);return M}function Nr(t,s,a,c,f){var v=0,M,B,D;for(B=c+1;B<=f-1;B++)D=ns(t[B],t[c],t[f],!0),D>v&&(M=B,v=D);v>a&&(s[M]=1,Nr(t,s,a,c,M),Nr(t,s,a,M,f))}function Vf(t,s){for(var a=[t[0]],c=1,f=0,v=t.length;c<v;c++)jf(t[c],t[f])>s&&(a.push(t[c]),f=c);return f<v-1&&a.push(t[v-1]),a}var Fl;function zl(t,s,a,c,f){var v=c?Fl:ni(t,a),M=ni(s,a),B,D,ee;for(Fl=M;;){if(!(v|M))return[t,s];if(v&M)return!1;B=v||M,D=eo(t,s,B,a,f),ee=ni(D,a),B===v?(t=D,v=ee):(s=D,M=ee)}}function eo(t,s,a,c,f){var v=s.x-t.x,M=s.y-t.y,B=c.min,D=c.max,ee,we;return a&8?(ee=t.x+v*(D.y-t.y)/M,we=D.y):a&4?(ee=t.x+v*(B.y-t.y)/M,we=B.y):a&2?(ee=D.x,we=t.y+M*(D.x-t.x)/v):a&1&&(ee=B.x,we=t.y+M*(B.x-t.x)/v),new T(ee,we,f)}function ni(t,s){var a=0;return t.x<s.min.x?a|=1:t.x>s.max.x&&(a|=2),t.y<s.min.y?a|=4:t.y>s.max.y&&(a|=8),a}function jf(t,s){var a=s.x-t.x,c=s.y-t.y;return a*a+c*c}function ns(t,s,a,c){var f=s.x,v=s.y,M=a.x-f,B=a.y-v,D=M*M+B*B,ee;return D>0&&(ee=((t.x-f)*M+(t.y-v)*B)/D,ee>1?(f=a.x,v=a.y):ee>0&&(f+=M*ee,v+=B*ee)),M=t.x-f,B=t.y-v,c?M*M+B*B:new T(f,v)}function Yt(t){return!Z(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function $l(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yt(t)}function Dl(t,s){var a,c,f,v,M,B,D,ee;if(!t||t.length===0)throw new Error("latlngs not passed");Yt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var we=ke([0,0]),Re=_e(t),ze=Re.getNorthWest().distanceTo(Re.getSouthWest())*Re.getNorthEast().distanceTo(Re.getNorthWest());ze<1700&&(we=Rr(t));var Nt=t.length,gt=[];for(a=0;a<Nt;a++){var Kt=ke(t[a]);gt.push(s.project(ke([Kt.lat-we.lat,Kt.lng-we.lng])))}for(a=0,c=0;a<Nt-1;a++)c+=gt[a].distanceTo(gt[a+1])/2;if(c===0)ee=gt[0];else for(a=0,v=0;a<Nt-1;a++)if(M=gt[a],B=gt[a+1],f=M.distanceTo(B),v+=f,v>c){D=(v-c)/f,ee=[B.x-D*(B.x-M.x),B.y-D*(B.y-M.y)];break}var $t=s.unproject(C(ee));return ke([$t.lat+we.lat,$t.lng+we.lng])}var Zf={__proto__:null,simplify:Bl,pointToSegmentDistance:Ul,closestPointOnSegment:Df,clipSegment:zl,_getEdgeIntersection:eo,_getBitCode:ni,_sqClosestPointOnSegment:ns,isFlat:Yt,_flat:$l,polylineCenter:Dl},Or={project:function(t){return new T(t.lng,t.lat)},unproject:function(t){return new Se(t.y,t.x)},bounds:new ne([-180,-90],[180,90])},Ir={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ne([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var s=Math.PI/180,a=this.R,c=t.lat*s,f=this.R_MINOR/a,v=Math.sqrt(1-f*f),M=v*Math.sin(c),B=Math.tan(Math.PI/4-c/2)/Math.pow((1-M)/(1+M),v/2);return c=-a*Math.log(Math.max(B,1e-10)),new T(t.lng*s*a,c)},unproject:function(t){for(var s=180/Math.PI,a=this.R,c=this.R_MINOR/a,f=Math.sqrt(1-c*c),v=Math.exp(-t.y/a),M=Math.PI/2-2*Math.atan(v),B=0,D=.1,ee;B<15&&Math.abs(D)>1e-7;B++)ee=f*Math.sin(M),ee=Math.pow((1-ee)/(1+ee),f/2),D=Math.PI/2-2*Math.atan(v*ee)-M,M+=D;return new Se(M*s,t.x*s/a)}},Wf={__proto__:null,LonLat:Or,Mercator:Ir,SphericalMercator:ve},qf=r({},Y,{code:"EPSG:3395",projection:Ir,transformation:function(){var t=.5/(Math.PI*Ir.R);return P(t,.5,-t,.5)}()}),Hl=r({},Y,{code:"EPSG:4326",projection:Or,transformation:P(1/180,1,-1/180,.5)}),Gf=r({},W,{projection:Or,transformation:P(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,s){var a=s.lng-t.lng,c=s.lat-t.lat;return Math.sqrt(a*a+c*c)},infinite:!0});W.Earth=Y,W.EPSG3395=qf,W.EPSG3857=E,W.EPSG900913=R,W.EPSG4326=Hl,W.Simple=Gf;var sn=q.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[d(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[d(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var s=t.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var a=this.getEvents();s.on(a,this),this.once("remove",function(){s.off(a,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});De.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(t);return this._layers[s]?this:(this._layers[s]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var s=d(t);return this._layers[s]?(this._loaded&&t.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return d(t)in this._layers},eachLayer:function(t,s){for(var a in this._layers)t.call(s,this._layers[a]);return this},_addLayers:function(t){t=t?Z(t)?t:[t]:[];for(var s=0,a=t.length;s<a;s++)this.addLayer(t[s])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[d(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var s=d(t);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,s=-1/0,a=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;t=f.minZoom===void 0?t:Math.min(t,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=t===1/0?void 0:t,a!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var wi=sn.extend({initialize:function(t,s){w(this,s),this._layers={};var a,c;if(t)for(a=0,c=t.length;a<c;a++)this.addLayer(t[a])},addLayer:function(t){var s=this.getLayerId(t);return this._layers[s]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var s=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(t){var s=typeof t=="number"?t:this.getLayerId(t);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var s=Array.prototype.slice.call(arguments,1),a,c;for(a in this._layers)c=this._layers[a],c[t]&&c[t].apply(c,s);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,s){for(var a in this._layers)t.call(s,this._layers[a]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return d(t)}}),Yf=function(t,s){return new wi(t,s)},bn=wi.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),wi.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),wi.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new ye;for(var s in this._layers){var a=this._layers[s];t.extend(a.getBounds?a.getBounds():a.getLatLng())}return t}}),Kf=function(t,s){return new bn(t,s)},bi=$.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){w(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,s){var a=this._getIconUrl(t);if(!a){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(a,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(t,s){var a=this.options,c=a[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=C(c),v=C(s==="shadow"&&a.shadowAnchor||a.iconAnchor||f&&f.divideBy(2,!0));t.className="leaflet-marker-"+s+" "+(a.className||""),v&&(t.style.marginLeft=-v.x+"px",t.style.marginTop=-v.y+"px"),f&&(t.style.width=f.x+"px",t.style.height=f.y+"px")},_createImg:function(t,s){return s=s||document.createElement("img"),s.src=t,s},_getIconUrl:function(t){return Te.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function Jf(t){return new bi(t)}var is=bi.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof is.imagePath!="string"&&(is.imagePath=this._detectIconPath()),(this.options.imagePath||is.imagePath)+bi.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var s=function(a,c,f){var v=c.exec(a);return v&&v[f]};return t=s(t,/^url\((['"])?(.+)\1\)$/,2),t&&s(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=Ze("div","leaflet-default-icon-path",document.body),s=Ki(t,"background-image")||Ki(t,"backgroundImage");if(document.body.removeChild(t),s=this._stripUrl(s),s)return s;var a=document.querySelector('link[href$="leaflet.css"]');return a?a.href.substring(0,a.href.length-11-1):""}}),Vl=dn.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Fn(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Fe(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&lt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var s=this._marker,a=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,v=Xn(s._icon),M=a.getPixelBounds(),B=a.getPixelOrigin(),D=be(M.min._subtract(B).add(f),M.max._subtract(B).subtract(f));if(!D.contains(v)){var ee=C((Math.max(D.max.x,v.x)-D.max.x)/(M.max.x-D.max.x)-(Math.min(D.min.x,v.x)-D.min.x)/(M.min.x-D.min.x),(Math.max(D.max.y,v.y)-D.max.y)/(M.max.y-D.max.y)-(Math.min(D.min.y,v.y)-D.min.y)/(M.min.y-D.min.y)).multiplyBy(c);a.panBy(ee,{animate:!1}),this._draggable._newPos._add(ee),this._draggable._startPos._add(ee),ht(s._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=pe(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(J(this._panRequest),this._panRequest=pe(this._adjustPan.bind(this,t)))},_onDrag:function(t){var s=this._marker,a=s._shadow,c=Xn(s._icon),f=s._map.layerPointToLatLng(c);a&&ht(a,c),s._latlng=f,t.latlng=f,t.oldLatLng=this._oldLatLng,s.fire("move",t).fire("drag",t)},_onDragEnd:function(t){J(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),to=sn.extend({options:{icon:new is,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,s){w(this,s),this._latlng=ke(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var s=this._latlng;return this._latlng=ke(t),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),a=t.icon.createIcon(this._icon),c=!1;a!==this._icon&&(this._icon&&this._removeIcon(),c=!0,t.title&&(a.title=t.title),a.tagName==="IMG"&&(a.alt=t.alt||"")),Fe(a,s),t.keyboard&&(a.tabIndex="0",a.setAttribute("role","button")),this._icon=a,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ie(a,"focus",this._panOnFocus,this);var f=t.icon.createShadow(this._shadow),v=!1;f!==this._shadow&&(this._removeShadow(),v=!0),f&&(Fe(f,s),f.alt=""),this._shadow=f,t.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&v&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Xe(this._icon,"focus",this._panOnFocus,this),it(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&it(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ht(this._icon,t),this._shadow&&ht(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Fe(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Vl)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Vl(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Gt(this._icon,t),this._shadow&&Gt(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var s=this.options.icon.options,a=s.iconSize?C(s.iconSize):C(0,0),c=s.iconAnchor?C(s.iconAnchor):C(0,0);t.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:a.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Qf(t,s){return new to(t,s)}var zn=sn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return w(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),no=zn.extend({options:{fill:!0,radius:10},initialize:function(t,s){w(this,s),this._latlng=ke(t),this._radius=this.options.radius},setLatLng:function(t){var s=this._latlng;return this._latlng=ke(t),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var s=t&&t.radius||this._radius;return zn.prototype.setStyle.call(this,t),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,s=this._radiusY||t,a=this._clickTolerance(),c=[t+a,s+a];this._pxBounds=new ne(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Xf(t,s){return new no(t,s)}var Br=no.extend({initialize:function(t,s,a){if(typeof s=="number"&&(s=r({},a,{radius:s})),w(this,s),this._latlng=ke(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new ye(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:zn.prototype.setStyle,_project:function(){var t=this._latlng.lng,s=this._latlng.lat,a=this._map,c=a.options.crs;if(c.distance===Y.distance){var f=Math.PI/180,v=this._mRadius/Y.R/f,M=a.project([s+v,t]),B=a.project([s-v,t]),D=M.add(B).divideBy(2),ee=a.unproject(D).lat,we=Math.acos((Math.cos(v*f)-Math.sin(s*f)*Math.sin(ee*f))/(Math.cos(s*f)*Math.cos(ee*f)))/f;(isNaN(we)||we===0)&&(we=v/Math.cos(Math.PI/180*s)),this._point=D.subtract(a.getPixelOrigin()),this._radius=isNaN(we)?0:D.x-a.project([ee,t-we]).x,this._radiusY=D.y-M.y}else{var Re=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(Re).x}this._updateBounds()}});function ep(t,s,a){return new Br(t,s,a)}var kn=zn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,s){w(this,s),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var s=1/0,a=null,c=ns,f,v,M=0,B=this._parts.length;M<B;M++)for(var D=this._parts[M],ee=1,we=D.length;ee<we;ee++){f=D[ee-1],v=D[ee];var Re=c(t,f,v,!0);Re<s&&(s=Re,a=c(t,f,v))}return a&&(a.distance=Math.sqrt(s)),a},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dl(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,s){return s=s||this._defaultShape(),t=ke(t),s.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new ye,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Yt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var s=[],a=Yt(t),c=0,f=t.length;c<f;c++)a?(s[c]=ke(t[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(t[c]);return s},_project:function(){var t=new ne;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),s=new T(t,t);this._rawPxBounds&&(this._pxBounds=new ne([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(t,s,a){var c=t[0]instanceof Se,f=t.length,v,M;if(c){for(M=[],v=0;v<f;v++)M[v]=this._map.latLngToLayerPoint(t[v]),a.extend(M[v]);s.push(M)}else for(v=0;v<f;v++)this._projectLatlngs(t[v],s,a)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,a,c,f,v,M,B,D;for(a=0,f=0,v=this._rings.length;a<v;a++)for(D=this._rings[a],c=0,M=D.length;c<M-1;c++)B=zl(D[c],D[c+1],t,c,!0),B&&(s[f]=s[f]||[],s[f].push(B[0]),(B[1]!==D[c+1]||c===M-2)&&(s[f].push(B[1]),f++))}},_simplifyPoints:function(){for(var t=this._parts,s=this.options.smoothFactor,a=0,c=t.length;a<c;a++)t[a]=Bl(t[a],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,s){var a,c,f,v,M,B,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(a=0,v=this._parts.length;a<v;a++)for(B=this._parts[a],c=0,M=B.length,f=M-1;c<M;f=c++)if(!(!s&&c===0)&&Ul(t,B[f],B[c])<=D)return!0;return!1}});function tp(t,s){return new kn(t,s)}kn._flat=$l;var ki=kn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Il(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var s=kn.prototype._convertLatLngs.call(this,t),a=s.length;return a>=2&&s[0]instanceof Se&&s[0].equals(s[a-1])&&s.pop(),s},_setLatLngs:function(t){kn.prototype._setLatLngs.call(this,t),Yt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,s=this.options.weight,a=new T(s,s);if(t=new ne(t.min.subtract(a),t.max.add(a)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,v;c<f;c++)v=Ol(this._rings[c],t,!0),v.length&&this._parts.push(v)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var s=!1,a,c,f,v,M,B,D,ee;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(v=0,D=this._parts.length;v<D;v++)for(a=this._parts[v],M=0,ee=a.length,B=ee-1;M<ee;B=M++)c=a[M],f=a[B],c.y>t.y!=f.y>t.y&&t.x<(f.x-c.x)*(t.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||kn.prototype._containsPoint.call(this,t,!0)}});function np(t,s){return new ki(t,s)}var Sn=bn.extend({initialize:function(t,s){w(this,s),this._layers={},t&&this.addData(t)},addData:function(t){var s=Z(t)?t:t.features,a,c,f;if(s){for(a=0,c=s.length;a<c;a++)f=s[a],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var v=this.options;if(v.filter&&!v.filter(t))return this;var M=io(t,v);return M?(M.feature=ro(t),M.defaultOptions=M.options,this.resetStyle(M),v.onEachFeature&&v.onEachFeature(t,M),this.addLayer(M)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=r({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(s){this._setLayerStyle(s,t)},this)},_setLayerStyle:function(t,s){t.setStyle&&(typeof s=="function"&&(s=s(t.feature)),t.setStyle(s))}});function io(t,s){var a=t.type==="Feature"?t.geometry:t,c=a?a.coordinates:null,f=[],v=s&&s.pointToLayer,M=s&&s.coordsToLatLng||Ur,B,D,ee,we;if(!c&&!a)return null;switch(a.type){case"Point":return B=M(c),jl(v,t,B,s);case"MultiPoint":for(ee=0,we=c.length;ee<we;ee++)B=M(c[ee]),f.push(jl(v,t,B,s));return new bn(f);case"LineString":case"MultiLineString":return D=so(c,a.type==="LineString"?0:1,M),new kn(D,s);case"Polygon":case"MultiPolygon":return D=so(c,a.type==="Polygon"?1:2,M),new ki(D,s);case"GeometryCollection":for(ee=0,we=a.geometries.length;ee<we;ee++){var Re=io({geometry:a.geometries[ee],type:"Feature",properties:t.properties},s);Re&&f.push(Re)}return new bn(f);case"FeatureCollection":for(ee=0,we=a.features.length;ee<we;ee++){var ze=io(a.features[ee],s);ze&&f.push(ze)}return new bn(f);default:throw new Error("Invalid GeoJSON object.")}}function jl(t,s,a,c){return t?t(s,a):new to(a,c&&c.markersInheritOptions&&c)}function Ur(t){return new Se(t[1],t[0],t[2])}function so(t,s,a){for(var c=[],f=0,v=t.length,M;f<v;f++)M=s?so(t[f],s-1,a):(a||Ur)(t[f]),c.push(M);return c}function Fr(t,s){return t=ke(t),t.alt!==void 0?[y(t.lng,s),y(t.lat,s),y(t.alt,s)]:[y(t.lng,s),y(t.lat,s)]}function oo(t,s,a,c){for(var f=[],v=0,M=t.length;v<M;v++)f.push(s?oo(t[v],Yt(t[v])?0:s-1,a,c):Fr(t[v],c));return!s&&a&&f.length>0&&f.push(f[0].slice()),f}function Si(t,s){return t.feature?r({},t.feature,{geometry:s}):ro(s)}function ro(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var zr={toGeoJSON:function(t){return Si(this,{type:"Point",coordinates:Fr(this.getLatLng(),t)})}};to.include(zr),Br.include(zr),no.include(zr),kn.include({toGeoJSON:function(t){var s=!Yt(this._latlngs),a=oo(this._latlngs,s?1:0,!1,t);return Si(this,{type:(s?"Multi":"")+"LineString",coordinates:a})}}),ki.include({toGeoJSON:function(t){var s=!Yt(this._latlngs),a=s&&!Yt(this._latlngs[0]),c=oo(this._latlngs,a?2:s?1:0,!0,t);return s||(c=[c]),Si(this,{type:(a?"Multi":"")+"Polygon",coordinates:c})}}),wi.include({toMultiPoint:function(t){var s=[];return this.eachLayer(function(a){s.push(a.toGeoJSON(t).geometry.coordinates)}),Si(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(t){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(t);var a=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var v=f.toGeoJSON(t);if(a)c.push(v.geometry);else{var M=ro(v);M.type==="FeatureCollection"?c.push.apply(c,M.features):c.push(M)}}}),a?Si(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Zl(t,s){return new Sn(t,s)}var ip=Zl,ao=sn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,s,a){this._url=t,this._bounds=_e(s),w(this,a)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Fe(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){it(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&vi(this._image),this},bringToBack:function(){return this._map&&yi(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=_e(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",s=this._image=t?this._url:Ze("img");if(Fe(s,"leaflet-image-layer"),this._zoomAnimated&&Fe(s,"leaflet-zoom-animated"),this.options.className&&Fe(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(t){var s=this._map.getZoomScale(t.zoom),a=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;Qn(this._image,a,s)},_reset:function(){var t=this._image,s=new ne(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),a=s.getSize();ht(t,s.min),t.style.width=a.x+"px",t.style.height=a.y+"px"},_updateOpacity:function(){Gt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),sp=function(t,s,a){return new ao(t,s,a)},Wl=ao.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",s=this._image=t?this._url:Ze("video");if(Fe(s,"leaflet-image-layer"),this._zoomAnimated&&Fe(s,"leaflet-zoom-animated"),this.options.className&&Fe(s,this.options.className),s.onselectstart=_,s.onmousemove=_,s.onloadeddata=u(this.fire,this,"load"),t){for(var a=s.getElementsByTagName("source"),c=[],f=0;f<a.length;f++)c.push(a[f].src);this._url=a.length>0?c:[s.src];return}Z(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var v=0;v<this._url.length;v++){var M=Ze("source");M.src=this._url[v],s.appendChild(M)}}});function op(t,s,a){return new Wl(t,s,a)}var ql=ao.extend({_initImage:function(){var t=this._image=this._url;Fe(t,"leaflet-image-layer"),this._zoomAnimated&&Fe(t,"leaflet-zoom-animated"),this.options.className&&Fe(t,this.options.className),t.onselectstart=_,t.onmousemove=_}});function rp(t,s,a){return new ql(t,s,a)}var fn=sn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,s){t&&(t instanceof Se||Z(t))?(this._latlng=ke(t),w(this,s)):(w(this,t),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Gt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Gt(this._container,1),this.bringToFront(),this.options.interactive&&(Fe(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Gt(this._container,0),this._removeTimeout=setTimeout(u(it,void 0,this._container),200)):it(this._container),this.options.interactive&&(lt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=ke(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&vi(this._container),this},bringToBack:function(){return this._map&&yi(this._container),this},_prepareOpen:function(t){var s=this._source;if(!s._map)return!1;if(s instanceof bn){s=null;var a=this._source._layers;for(var c in a)if(a[c]._map){s=a[c];break}if(!s)return!1;this._source=s}if(!t)if(s.getCenter)t=s.getCenter();else if(s.getLatLng)t=s.getLatLng();else if(s.getBounds)t=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")t.innerHTML=s;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),s=C(this.options.offset),a=this._getAnchor();this._zoomAnimated?ht(this._container,t.add(a)):s=s.add(t).add(a);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});De.include({_initOverlay:function(t,s,a,c){var f=s;return f instanceof t||(f=new t(c).setContent(s)),a&&f.setLatLng(a),f}}),sn.include({_initOverlay:function(t,s,a,c){var f=a;return f instanceof t?(w(f,c),f._source=this):(f=s&&!c?s:new t(c,this),f.setContent(a)),f}});var lo=fn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,fn.prototype.openOn.call(this,t)},onAdd:function(t){fn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof zn||this._source.on("preclick",ei))},onRemove:function(t){fn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof zn||this._source.off("preclick",ei))},getEvents:function(){var t=fn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",s=this._container=Ze("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),a=this._wrapper=Ze("div",t+"-content-wrapper",s);if(this._contentNode=Ze("div",t+"-content",a),es(s),Tr(this._contentNode),Ie(s,"contextmenu",ei),this._tipContainer=Ze("div",t+"-tip-container",s),this._tip=Ze("div",t+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=Ze("a",t+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',Ie(c,"click",function(f){bt(f),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,s=t.style;s.width="",s.whiteSpace="nowrap";var a=t.offsetWidth;a=Math.min(a,this.options.maxWidth),a=Math.max(a,this.options.minWidth),s.width=a+1+"px",s.whiteSpace="",s.height="";var c=t.offsetHeight,f=this.options.maxHeight,v="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",Fe(t,v)):lt(t,v),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),a=this._getAnchor();ht(this._container,s.add(a))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,s=parseInt(Ki(this._container,"marginBottom"),10)||0,a=this._container.offsetHeight+s,c=this._containerWidth,f=new T(this._containerLeft,-a-this._containerBottom);f._add(Xn(this._container));var v=t.layerPointToContainerPoint(f),M=C(this.options.autoPanPadding),B=C(this.options.autoPanPaddingTopLeft||M),D=C(this.options.autoPanPaddingBottomRight||M),ee=t.getSize(),we=0,Re=0;v.x+c+D.x>ee.x&&(we=v.x+c-ee.x+D.x),v.x-we-B.x<0&&(we=v.x-B.x),v.y+a+D.y>ee.y&&(Re=v.y+a-ee.y+D.y),v.y-Re-B.y<0&&(Re=v.y-B.y),(we||Re)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([we,Re]))}},_getAnchor:function(){return C(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),ap=function(t,s){return new lo(t,s)};De.mergeOptions({closePopupOnClick:!0}),De.include({openPopup:function(t,s,a){return this._initOverlay(lo,t,s,a).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),sn.include({bindPopup:function(t,s){return this._popup=this._initOverlay(lo,this._popup,t,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof bn||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){ti(t);var s=t.layer||t.target;if(this._popup._source===s&&!(s instanceof zn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=s,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var uo=fn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){fn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){fn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=fn.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",s=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Ze("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var s,a,c=this._map,f=this._container,v=c.latLngToContainerPoint(c.getCenter()),M=c.layerPointToContainerPoint(t),B=this.options.direction,D=f.offsetWidth,ee=f.offsetHeight,we=C(this.options.offset),Re=this._getAnchor();B==="top"?(s=D/2,a=ee):B==="bottom"?(s=D/2,a=0):B==="center"?(s=D/2,a=ee/2):B==="right"?(s=0,a=ee/2):B==="left"?(s=D,a=ee/2):M.x<v.x?(B="right",s=0,a=ee/2):(B="left",s=D+(we.x+Re.x)*2,a=ee/2),t=t.subtract(C(s,a,!0)).add(we).add(Re),lt(f,"leaflet-tooltip-right"),lt(f,"leaflet-tooltip-left"),lt(f,"leaflet-tooltip-top"),lt(f,"leaflet-tooltip-bottom"),Fe(f,"leaflet-tooltip-"+B),ht(f,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Gt(this._container,t)},_animateZoom:function(t){var s=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(s)},_getAnchor:function(){return C(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),lp=function(t,s){return new uo(t,s)};De.include({openTooltip:function(t,s,a){return this._initOverlay(uo,t,s,a).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),sn.include({bindTooltip:function(t,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(uo,this._tooltip,t,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var s=t?"off":"on",a={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?a.add=this._openTooltip:(a.mouseover=this._openTooltip,a.mouseout=this.closeTooltip,a.click=this._openTooltip,this._map?this._addFocusListeners():a.add=this._addFocusListeners),this._tooltip.options.sticky&&(a.mousemove=this._moveTooltip),this[s](a),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof bn||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&(Ie(s,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),Ie(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var s=typeof t.getElement=="function"&&t.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var s=t.latlng,a,c;this._tooltip.options.sticky&&t.originalEvent&&(a=this._map.mouseEventToContainerPoint(t.originalEvent),c=this._map.containerPointToLayerPoint(a),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Gl=bi.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var s=t&&t.tagName==="DIV"?t:document.createElement("div"),a=this.options;if(a.html instanceof Element?(Ys(s),s.appendChild(a.html)):s.innerHTML=a.html!==!1?a.html:"",a.bgPos){var c=C(a.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function up(t){return new Gl(t)}bi.Default=is;var ss=sn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Te.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){w(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),it(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(vi(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yi(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof T?t:new T(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var s=this.getPane().children,a=-t(-1/0,1/0),c=0,f=s.length,v;c<f;c++)v=s[c].style.zIndex,s[c]!==this._container&&v&&(a=t(a,+v));isFinite(a)&&(this.options.zIndex=a+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Te.ielt9){Gt(this._container,this.options.opacity);var t=+new Date,s=!1,a=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var v=Math.min(1,(t-f.loaded)/200);Gt(f.el,v),v<1?s=!0:(f.active?a=!0:this._onOpaqueTile(f),f.active=!0)}}a&&!this._noPrune&&this._pruneTiles(),s&&(J(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=Ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,s=this.options.maxZoom;if(t!==void 0){for(var a in this._levels)a=Number(a),this._levels[a].el.children.length||a===t?(this._levels[a].el.style.zIndex=s-Math.abs(t-a),this._onUpdateLevel(a)):(it(this._levels[a].el),this._removeTilesAtZoom(a),this._onRemoveLevel(a),delete this._levels[a]);var c=this._levels[t],f=this._map;return c||(c=this._levels[t]={},c.el=Ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),t).round(),c.zoom=t,this._setZoomTransform(c,f.getCenter(),f.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var t,s,a=this._map.getZoom();if(a>this.options.maxZoom||a<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)s=this._tiles[t],s.retain=s.current;for(t in this._tiles)if(s=this._tiles[t],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var s in this._tiles)this._tiles[s].coords.z===t&&this._removeTile(s)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)it(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,s,a,c){var f=Math.floor(t/2),v=Math.floor(s/2),M=a-1,B=new T(+f,+v);B.z=+M;var D=this._tileCoordsToKey(B),ee=this._tiles[D];return ee&&ee.active?(ee.retain=!0,!0):(ee&&ee.loaded&&(ee.retain=!0),M>c?this._retainParent(f,v,M,c):!1)},_retainChildren:function(t,s,a,c){for(var f=2*t;f<2*t+2;f++)for(var v=2*s;v<2*s+2;v++){var M=new T(f,v);M.z=a+1;var B=this._tileCoordsToKey(M),D=this._tiles[B];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);a+1<c&&this._retainChildren(f,v,a+1,c)}},_resetView:function(t){var s=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var s=this.options;return s.minNativeZoom!==void 0&&t<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<t?s.maxNativeZoom:t},_setView:function(t,s,a,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var v=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||v)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(t),a||this._pruneTiles(),this._noPrune=!!a),this._setZoomTransforms(t,s)},_setZoomTransforms:function(t,s){for(var a in this._levels)this._setZoomTransform(this._levels[a],t,s)},_setZoomTransform:function(t,s,a){var c=this._map.getZoomScale(a,t.zoom),f=t.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,a)).round();Te.any3d?Qn(t.el,f,c):ht(t.el,f)},_resetGrid:function(){var t=this._map,s=t.options.crs,a=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,s.wrapLng[0]],c).x/a.x),Math.ceil(t.project([0,s.wrapLng[1]],c).x/a.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([s.wrapLat[0],0],c).y/a.x),Math.ceil(t.project([s.wrapLat[1],0],c).y/a.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var s=this._map,a=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(a,this._tileZoom),f=s.project(t,this._tileZoom).floor(),v=s.getSize().divideBy(c*2);return new ne(f.subtract(v),f.add(v))},_update:function(t){var s=this._map;if(s){var a=this._clampZoom(s.getZoom());if(t===void 0&&(t=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(t),f=this._pxBoundsToTileRange(c),v=f.getCenter(),M=[],B=this.options.keepBuffer,D=new ne(f.getBottomLeft().subtract([B,-B]),f.getTopRight().add([B,-B]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ee in this._tiles){var we=this._tiles[ee].coords;(we.z!==this._tileZoom||!D.contains(new T(we.x,we.y)))&&(this._tiles[ee].current=!1)}if(Math.abs(a-this._tileZoom)>1){this._setView(t,a);return}for(var Re=f.min.y;Re<=f.max.y;Re++)for(var ze=f.min.x;ze<=f.max.x;ze++){var Nt=new T(ze,Re);if(Nt.z=this._tileZoom,!!this._isValidTile(Nt)){var gt=this._tiles[this._tileCoordsToKey(Nt)];gt?gt.current=!0:M.push(Nt)}}if(M.sort(function($t,Pi){return $t.distanceTo(v)-Pi.distanceTo(v)}),M.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Kt=document.createDocumentFragment();for(ze=0;ze<M.length;ze++)this._addTile(M[ze],Kt);this._level.el.appendChild(Kt)}}}},_isValidTile:function(t){var s=this._map.options.crs;if(!s.infinite){var a=this._globalTileRange;if(!s.wrapLng&&(t.x<a.min.x||t.x>a.max.x)||!s.wrapLat&&(t.y<a.min.y||t.y>a.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(t);return _e(this.options.bounds).overlaps(c)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var s=this._map,a=this.getTileSize(),c=t.scaleBy(a),f=c.add(a),v=s.unproject(c,t.z),M=s.unproject(f,t.z);return[v,M]},_tileCoordsToBounds:function(t){var s=this._tileCoordsToNwSe(t),a=new ye(s[0],s[1]);return this.options.noWrap||(a=this._map.wrapLatLngBounds(a)),a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var s=t.split(":"),a=new T(+s[0],+s[1]);return a.z=+s[2],a},_removeTile:function(t){var s=this._tiles[t];s&&(it(s.el),delete this._tiles[t],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){Fe(t,"leaflet-tile");var s=this.getTileSize();t.style.width=s.x+"px",t.style.height=s.y+"px",t.onselectstart=_,t.onmousemove=_,Te.ielt9&&this.options.opacity<1&&Gt(t,this.options.opacity)},_addTile:function(t,s){var a=this._getTilePos(t),c=this._tileCoordsToKey(t),f=this.createTile(this._wrapCoords(t),u(this._tileReady,this,t));this._initTile(f),this.createTile.length<2&&pe(u(this._tileReady,this,t,null,f)),ht(f,a),this._tiles[c]={el:f,coords:t,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:t})},_tileReady:function(t,s,a){s&&this.fire("tileerror",{error:s,tile:a,coords:t});var c=this._tileCoordsToKey(t);a=this._tiles[c],a&&(a.loaded=+new Date,this._map._fadeAnimated?(Gt(a.el,0),J(this._fadeFrame),this._fadeFrame=pe(this._updateOpacity,this)):(a.active=!0,this._pruneTiles()),s||(Fe(a.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:a.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Te.ielt9||!this._map._fadeAnimated?pe(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var s=new T(this._wrapX?p(t.x,this._wrapX):t.x,this._wrapY?p(t.y,this._wrapY):t.y);return s.z=t.z,s},_pxBoundsToTileRange:function(t){var s=this.getTileSize();return new ne(t.min.unscaleBy(s).floor(),t.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function cp(t){return new ss(t)}var Ci=ss.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,s){this._url=t,s=w(this,s),s.detectRetina&&Te.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,s){return this._url===t&&s===void 0&&(s=!0),this._url=t,s||this.redraw(),this},createTile:function(t,s){var a=document.createElement("img");return Ie(a,"load",u(this._tileOnLoad,this,s,a)),Ie(a,"error",u(this._tileOnError,this,s,a)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(a.referrerPolicy=this.options.referrerPolicy),a.alt="",a.src=this.getTileUrl(t),a},getTileUrl:function(t){var s={r:Te.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var a=this._globalTileRange.max.y-t.y;this.options.tms&&(s.y=a),s["-y"]=a}return z(this._url,r(s,this.options))},_tileOnLoad:function(t,s){Te.ielt9?setTimeout(u(t,this,null,s),0):t(null,s)},_tileOnError:function(t,s,a){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),t(a,s)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,s=this.options.maxZoom,a=this.options.zoomReverse,c=this.options.zoomOffset;return a&&(t=s-t),t+c},_getSubdomain:function(t){var s=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var t,s;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(s=this._tiles[t].el,s.onload=_,s.onerror=_,!s.complete)){s.src=V;var a=this._tiles[t].coords;it(s),delete this._tiles[t],this.fire("tileabort",{tile:s,coords:a})}},_removeTile:function(t){var s=this._tiles[t];if(s)return s.el.setAttribute("src",V),ss.prototype._removeTile.call(this,t)},_tileReady:function(t,s,a){if(!(!this._map||a&&a.getAttribute("src")===V))return ss.prototype._tileReady.call(this,t,s,a)}});function Yl(t,s){return new Ci(t,s)}var Kl=Ci.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,s){this._url=t;var a=r({},this.defaultWmsParams);for(var c in s)c in this.options||(a[c]=s[c]);s=w(this,s);var f=s.detectRetina&&Te.retina?2:1,v=this.getTileSize();a.width=v.x*f,a.height=v.y*f,this.wmsParams=a},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,Ci.prototype.onAdd.call(this,t)},getTileUrl:function(t){var s=this._tileCoordsToNwSe(t),a=this._crs,c=be(a.project(s[0]),a.project(s[1])),f=c.min,v=c.max,M=(this._wmsVersion>=1.3&&this._crs===Hl?[f.y,f.x,v.y,v.x]:[f.x,f.y,v.x,v.y]).join(","),B=Ci.prototype.getTileUrl.call(this,t);return B+A(this.wmsParams,B,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+M},setParams:function(t,s){return r(this.wmsParams,t),s||this.redraw(),this}});function hp(t,s){return new Kl(t,s)}Ci.WMS=Kl,Yl.wms=hp;var Cn=sn.extend({options:{padding:.1},initialize:function(t){w(this,t),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Fe(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,s){var a=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),v=c.multiplyBy(-a).add(f).subtract(this._map._getNewPixelOrigin(t,s));Te.any3d?Qn(this._container,v,a):ht(this._container,v)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,s=this._map.getSize(),a=this._map.containerPointToLayerPoint(s.multiplyBy(-t)).round();this._bounds=new ne(a,a.add(s.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Jl=Cn.extend({options:{tolerance:0},getEvents:function(){var t=Cn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Cn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");Ie(t,"mousemove",this._onMouseMove,this),Ie(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ie(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){J(this._redrawRequest),delete this._ctx,it(this._container),Xe(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var s in this._layers)t=this._layers[s],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var t=this._bounds,s=this._container,a=t.getSize(),c=Te.retina?2:1;ht(s,t.min),s.width=c*a.x,s.height=c*a.y,s.style.width=a.x+"px",s.style.height=a.y+"px",Te.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){Cn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[d(t)]=t;var s=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var s=t._order,a=s.next,c=s.prev;a?a.prev=c:this._drawLast=c,c?c.next=a:this._drawFirst=a,delete t._order,delete this._layers[d(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var s=t.options.dashArray.split(/[, ]+/),a=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;a.push(c)}t.options._dashArray=a}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||pe(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var s=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ne,this._redrawBounds.extend(t._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(t._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var s=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,s=this._redrawBounds;if(this._ctx.save(),s){var a=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,a.x,a.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)t=c.layer,(!s||t._pxBounds&&t._pxBounds.intersects(s))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,s){if(this._drawing){var a,c,f,v,M=t._parts,B=M.length,D=this._ctx;if(B){for(D.beginPath(),a=0;a<B;a++){for(c=0,f=M[a].length;c<f;c++)v=M[a][c],D[c?"lineTo":"moveTo"](v.x,v.y);s&&D.closePath()}this._fillStroke(D,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var s=t._point,a=this._ctx,c=Math.max(Math.round(t._radius),1),f=(Math.max(Math.round(t._radiusY),1)||c)/c;f!==1&&(a.save(),a.scale(1,f)),a.beginPath(),a.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&a.restore(),this._fillStroke(a,t)}},_fillStroke:function(t,s){var a=s.options;a.fill&&(t.globalAlpha=a.fillOpacity,t.fillStyle=a.fillColor||a.color,t.fill(a.fillRule||"evenodd")),a.stroke&&a.weight!==0&&(t.setLineDash&&t.setLineDash(s.options&&s.options._dashArray||[]),t.globalAlpha=a.opacity,t.lineWidth=a.weight,t.strokeStyle=a.color,t.lineCap=a.lineCap,t.lineJoin=a.lineJoin,t.stroke())},_onClick:function(t){for(var s=this._map.mouseEventToLayerPoint(t),a,c,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(s)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(a))&&(c=a);this._fireEvent(c?[c]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,s)}},_handleMouseOut:function(t){var s=this._hoveredLayer;s&&(lt(this._container,"leaflet-interactive"),this._fireEvent([s],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,s){if(!this._mouseHoverThrottled){for(var a,c,f=this._drawFirst;f;f=f.next)a=f.layer,a.options.interactive&&a._containsPoint(s)&&(c=a);c!==this._hoveredLayer&&(this._handleMouseOut(t),c&&(Fe(this._container,"leaflet-interactive"),this._fireEvent([c],t,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,s,a){this._map._fireDOMEvent(s,a||s.type,t)},_bringToFront:function(t){var s=t._order;if(s){var a=s.next,c=s.prev;if(a)a.prev=c;else return;c?c.next=a:a&&(this._drawFirst=a),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(t)}},_bringToBack:function(t){var s=t._order;if(s){var a=s.next,c=s.prev;if(c)c.next=a;else return;a?a.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(t)}}});function Ql(t){return Te.canvas?new Jl(t):null}var os=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),dp={_initContainer:function(){this._container=Ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Cn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var s=t._container=os("shape");Fe(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",t._path=os("path"),s.appendChild(t._path),this._updateStyle(t),this._layers[d(t)]=t},_addPath:function(t){var s=t._container;this._container.appendChild(s),t.options.interactive&&t.addInteractiveTarget(s)},_removePath:function(t){var s=t._container;it(s),t.removeInteractiveTarget(s),delete this._layers[d(t)]},_updateStyle:function(t){var s=t._stroke,a=t._fill,c=t.options,f=t._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=t._stroke=os("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=Z(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),t._stroke=null),c.fill?(a||(a=t._fill=os("fill")),f.appendChild(a),a.color=c.fillColor||c.color,a.opacity=c.fillOpacity):a&&(f.removeChild(a),t._fill=null)},_updateCircle:function(t){var s=t._point.round(),a=Math.round(t._radius),c=Math.round(t._radiusY||a);this._setPath(t,t._empty()?"M0 0":"AL "+s.x+","+s.y+" "+a+","+c+" 0,"+65535*360)},_setPath:function(t,s){t._path.v=s},_bringToFront:function(t){vi(t._container)},_bringToBack:function(t){yi(t._container)}},co=Te.vml?os:j,rs=Cn.extend({_initContainer:function(){this._container=co("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=co("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){it(this._container),Xe(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Cn.prototype._update.call(this);var t=this._bounds,s=t.getSize(),a=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,a.setAttribute("width",s.x),a.setAttribute("height",s.y)),ht(a,t.min),a.setAttribute("viewBox",[t.min.x,t.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(t){var s=t._path=co("path");t.options.className&&Fe(s,t.options.className),t.options.interactive&&Fe(s,"leaflet-interactive"),this._updateStyle(t),this._layers[d(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){it(t._path),t.removeInteractiveTarget(t._path),delete this._layers[d(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var s=t._path,a=t.options;s&&(a.stroke?(s.setAttribute("stroke",a.color),s.setAttribute("stroke-opacity",a.opacity),s.setAttribute("stroke-width",a.weight),s.setAttribute("stroke-linecap",a.lineCap),s.setAttribute("stroke-linejoin",a.lineJoin),a.dashArray?s.setAttribute("stroke-dasharray",a.dashArray):s.removeAttribute("stroke-dasharray"),a.dashOffset?s.setAttribute("stroke-dashoffset",a.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),a.fill?(s.setAttribute("fill",a.fillColor||a.color),s.setAttribute("fill-opacity",a.fillOpacity),s.setAttribute("fill-rule",a.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(t,s){this._setPath(t,Q(t._parts,s))},_updateCircle:function(t){var s=t._point,a=Math.max(Math.round(t._radius),1),c=Math.max(Math.round(t._radiusY),1)||a,f="a"+a+","+c+" 0 1,0 ",v=t._empty()?"M0 0":"M"+(s.x-a)+","+s.y+f+a*2+",0 "+f+-a*2+",0 ";this._setPath(t,v)},_setPath:function(t,s){t._path.setAttribute("d",s)},_bringToFront:function(t){vi(t._path)},_bringToBack:function(t){yi(t._path)}});Te.vml&&rs.include(dp);function Xl(t){return Te.svg||Te.vml?new rs(t):null}De.include({getRenderer:function(t){var s=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var s=this._paneRenderers[t];return s===void 0&&(s=this._createRenderer({pane:t}),this._paneRenderers[t]=s),s},_createRenderer:function(t){return this.options.preferCanvas&&Ql(t)||Xl(t)}});var eu=ki.extend({initialize:function(t,s){ki.prototype.initialize.call(this,this._boundsToLatLngs(t),s)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=_e(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function fp(t,s){return new eu(t,s)}rs.create=co,rs.pointsToPath=Q,Sn.geometryToLayer=io,Sn.coordsToLatLng=Ur,Sn.coordsToLatLngs=so,Sn.latLngToCoords=Fr,Sn.latLngsToCoords=oo,Sn.getFeature=Si,Sn.asFeature=ro,De.mergeOptions({boxZoom:!0});var tu=dn.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){Ie(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Xe(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){it(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ji(),wr(),this._startPoint=this._map.mouseEventToContainerPoint(t),Ie(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=Ze("div","leaflet-zoom-box",this._container),Fe(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var s=new ne(this._point,this._startPoint),a=s.getSize();ht(this._box,s.min),this._box.style.width=a.x+"px",this._box.style.height=a.y+"px"},_finish:function(){this._moved&&(it(this._box),lt(this._container,"leaflet-crosshair")),Qi(),br(),Xe(document,{contextmenu:ti,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new ye(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});De.addInitHook("addHandler","boxZoom",tu),De.mergeOptions({doubleClickZoom:!0});var nu=dn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var s=this._map,a=s.getZoom(),c=s.options.zoomDelta,f=t.originalEvent.shiftKey?a-c:a+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(t.containerPoint,f)}});De.addInitHook("addHandler","doubleClickZoom",nu),De.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var iu=dn.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new Fn(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}Fe(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){lt(this._map._container,"leaflet-grab"),lt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=_e(this._map.options.maxBounds);this._offsetLimit=be(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var s=this._lastTime=+new Date,a=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(a),this._times.push(s),this._prunePositions(s)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,s){return t-(t-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;t.x<s.min.x&&(t.x=this._viscousLimit(t.x,s.min.x)),t.y<s.min.y&&(t.y=this._viscousLimit(t.y,s.min.y)),t.x>s.max.x&&(t.x=this._viscousLimit(t.x,s.max.x)),t.y>s.max.y&&(t.y=this._viscousLimit(t.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,s=Math.round(t/2),a=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+a)%t+s-a,v=(c+s+a)%t-s-a,M=Math.abs(f+a)<Math.abs(v+a)?f:v;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=M},_onDragEnd:function(t){var s=this._map,a=s.options,c=!a.inertia||t.noInertia||this._times.length<2;if(s.fire("dragend",t),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),v=(this._lastTime-this._times[0])/1e3,M=a.easeLinearity,B=f.multiplyBy(M/v),D=B.distanceTo([0,0]),ee=Math.min(a.inertiaMaxSpeed,D),we=B.multiplyBy(ee/D),Re=ee/(a.inertiaDeceleration*M),ze=we.multiplyBy(-Re/2).round();!ze.x&&!ze.y?s.fire("moveend"):(ze=s._limitOffset(ze,s.options.maxBounds),pe(function(){s.panBy(ze,{duration:Re,easeLinearity:M,noMoveStart:!0,animate:!0})}))}}});De.addInitHook("addHandler","dragging",iu),De.mergeOptions({keyboard:!0,keyboardPanDelta:80});var su=dn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),Ie(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Xe(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,s=document.documentElement,a=t.scrollTop||s.scrollTop,c=t.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,a)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var s=this._panKeys={},a=this.keyCodes,c,f;for(c=0,f=a.left.length;c<f;c++)s[a.left[c]]=[-1*t,0];for(c=0,f=a.right.length;c<f;c++)s[a.right[c]]=[t,0];for(c=0,f=a.down.length;c<f;c++)s[a.down[c]]=[0,t];for(c=0,f=a.up.length;c<f;c++)s[a.up[c]]=[0,-1*t]},_setZoomDelta:function(t){var s=this._zoomKeys={},a=this.keyCodes,c,f;for(c=0,f=a.zoomIn.length;c<f;c++)s[a.zoomIn[c]]=t;for(c=0,f=a.zoomOut.length;c<f;c++)s[a.zoomOut[c]]=-t},_addHooks:function(){Ie(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Xe(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var s=t.keyCode,a=this._map,c;if(s in this._panKeys){if(!a._panAnim||!a._panAnim._inProgress)if(c=this._panKeys[s],t.shiftKey&&(c=C(c).multiplyBy(3)),a.options.maxBounds&&(c=a._limitOffset(C(c),a.options.maxBounds)),a.options.worldCopyJump){var f=a.wrapLatLng(a.unproject(a.project(a.getCenter()).add(c)));a.panTo(f)}else a.panBy(c)}else if(s in this._zoomKeys)a.setZoom(a.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&a._popup&&a._popup.options.closeOnEscapeKey)a.closePopup();else return;ti(t)}}});De.addInitHook("addHandler","keyboard",su),De.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ou=dn.extend({addHooks:function(){Ie(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Xe(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var s=Ml(t),a=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var c=Math.max(a-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),ti(t)},_performZoom:function(){var t=this._map,s=t.getZoom(),a=this._map.options.zoomSnap||0;t._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,v=a?Math.ceil(f/a)*a:f,M=t._limitZoom(s+(this._delta>0?v:-v))-s;this._delta=0,this._startTime=null,M&&(t.options.scrollWheelZoom==="center"?t.setZoom(s+M):t.setZoomAround(this._lastMousePos,s+M))}});De.addInitHook("addHandler","scrollWheelZoom",ou);var pp=600;De.mergeOptions({tapHold:Te.touchNative&&Te.safari&&Te.mobile,tapTolerance:15});var ru=dn.extend({addHooks:function(){Ie(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Xe(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var s=t.touches[0];this._startPos=this._newPos=new T(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(Ie(document,"touchend",bt),Ie(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),pp),Ie(document,"touchend touchcancel contextmenu",this._cancel,this),Ie(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){Xe(document,"touchend",bt),Xe(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),Xe(document,"touchend touchcancel contextmenu",this._cancel,this),Xe(document,"touchmove",this._onMove,this)},_onMove:function(t){var s=t.touches[0];this._newPos=new T(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,s){var a=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});a._simulated=!0,s.target.dispatchEvent(a)}});De.addInitHook("addHandler","tapHold",ru),De.mergeOptions({touchZoom:Te.touch,bounceAtZoomLimits:!0});var au=dn.extend({addHooks:function(){Fe(this._map._container,"leaflet-touch-zoom"),Ie(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){lt(this._map._container,"leaflet-touch-zoom"),Xe(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var s=this._map;if(!(!t.touches||t.touches.length!==2||s._animatingZoom||this._zooming)){var a=s.mouseEventToContainerPoint(t.touches[0]),c=s.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(a.add(c)._divideBy(2))),this._startDist=a.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),Ie(document,"touchmove",this._onTouchMove,this),Ie(document,"touchend touchcancel",this._onTouchEnd,this),bt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var s=this._map,a=s.mouseEventToContainerPoint(t.touches[0]),c=s.mouseEventToContainerPoint(t.touches[1]),f=a.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var v=a._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&v.x===0&&v.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(v),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),J(this._animRequest);var M=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=pe(M,this,!0),bt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,J(this._animRequest),Xe(document,"touchmove",this._onTouchMove,this),Xe(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});De.addInitHook("addHandler","touchZoom",au),De.BoxZoom=tu,De.DoubleClickZoom=nu,De.Drag=iu,De.Keyboard=su,De.ScrollWheelZoom=ou,De.TapHold=ru,De.TouchZoom=au,i.Bounds=ne,i.Browser=Te,i.CRS=W,i.Canvas=Jl,i.Circle=Br,i.CircleMarker=no,i.Class=$,i.Control=nn,i.DivIcon=Gl,i.DivOverlay=fn,i.DomEvent=Rf,i.DomUtil=Ef,i.Draggable=Fn,i.Evented=q,i.FeatureGroup=bn,i.GeoJSON=Sn,i.GridLayer=ss,i.Handler=dn,i.Icon=bi,i.ImageOverlay=ao,i.LatLng=Se,i.LatLngBounds=ye,i.Layer=sn,i.LayerGroup=wi,i.LineUtil=Zf,i.Map=De,i.Marker=to,i.Mixin=zf,i.Path=zn,i.Point=T,i.PolyUtil=$f,i.Polygon=ki,i.Polyline=kn,i.Popup=lo,i.PosAnimation=El,i.Projection=Wf,i.Rectangle=eu,i.Renderer=Cn,i.SVG=rs,i.SVGOverlay=ql,i.TileLayer=Ci,i.Tooltip=uo,i.Transformation=Oe,i.Util=Ae,i.VideoOverlay=Wl,i.bind=u,i.bounds=be,i.canvas=Ql,i.circle=ep,i.circleMarker=Xf,i.control=ts,i.divIcon=up,i.extend=r,i.featureGroup=Kf,i.geoJSON=Zl,i.geoJson=ip,i.gridLayer=cp,i.icon=Jf,i.imageOverlay=sp,i.latLng=ke,i.latLngBounds=_e,i.layerGroup=Yf,i.map=Nf,i.marker=Qf,i.point=C,i.polygon=np,i.polyline=tp,i.popup=ap,i.rectangle=fp,i.setOptions=w,i.stamp=d,i.svg=Xl,i.svgOverlay=rp,i.tileLayer=Yl,i.tooltip=lp,i.transformation=P,i.version=o,i.videoOverlay=op;var mp=window.L;i.noConflict=function(){return window.L=mp,this},window.L=i})})(Ra,Ra.exports);var kw=Ra.exports;const Ti=bw(kw),Sw=We({__name:"MuseumMap",props:{museums:{},height:{}},emits:["open"],setup(e,{emit:n}){const i=e,o=n,r=ue(null);let l=null,u=[];const h=new Map;let d=null;const m=Ti.divIcon({className:"mm-pin",html:'<span class="mm-pin-inner"></span>',iconSize:[22,30],iconAnchor:[11,28],popupAnchor:[0,-26]});function p(){r.value&&(l=Ti.map(r.value,{zoomControl:!0,scrollWheelZoom:!0}),Ti.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"&copy; OpenStreetMap contributors",maxZoom:19}).addTo(l),_())}function _(){if(!l)return;u.forEach(w=>w.remove()),u=[],h.clear();const b=i.museums.filter(w=>w.location&&typeof w.location.lat=="number"&&typeof w.location.lon=="number");for(const w of b){const A=Ti.latLng(w.location.lat,w.location.lon),I=Ti.marker(A,{icon:m}).addTo(l).bindPopup(`<strong>${w.name}</strong>${w.borough?`<div>${w.borough}</div>`:""}`).on("click",()=>{k(w.id),o("open",w.id)});u.push(I),h.set(w.id,I)}if(b.length){const w=Ti.latLngBounds(b.map(A=>[A.location.lat,A.location.lon]));l.fitBounds(w.pad(.1))}else l.setView([40.7128,-74.006],11)}ut(()=>p()),Us(()=>{l&&(l.remove(),l=null)}),yt(()=>i.museums,()=>_(),{deep:!0});const y=i.height||"460px";function k(b){if(d&&h.has(d)){const A=h.get(d).getElement();A&&A.classList.remove("is-selected")}if(d=b,b&&h.has(b)){const A=h.get(b).getElement();A&&A.classList.add("is-selected")}}return yt(r,()=>{l&&l.on("click",()=>k(null))}),(b,w)=>(S(),x("div",{class:"map-wrap",style:Wi({height:Pe(y)}),ref_key:"mapEl",ref:r},null,4))}}),Cw=Je(Sw,[["__scopeId","data-v-550cb654"]]),Pw=[{id:"alice-austen-house-museum",name:"Alice Austen House Museum",address:"2 Hylan Boulevard",zip:"10305",borough:"Staten Island",location:{lat:40.5975,lon:-74.0732},website:"https://aliceausten.org/",tags:["Photography","History","American","Art"],exhibits:[{id:"alice-austen-and-the-old-house",name:"Alice Austen and The Old House",type:"Permanent"},{id:"the-story-of-the-house",name:"The Story of the House",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Alice%20Austen%20House%20Museum%2C%202%20Hylan%20Boulevard%2C%20Staten%20Island%2C%20NY%2010305",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/ff/Clear_Comfort_01.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Alice Austen House",pageUrl:"https://en.wikipedia.org/wiki/Alice_Austen_House",license:"varies (see page)"}},{id:"american-museum-of-natural-history",name:"American Museum of Natural History",address:"200 Central Park West",zip:"10024",borough:"Manhattan",location:{lat:40.7813,lon:-73.9739},website:"https://www.amnh.org/",tags:["NaturalHistory","Science","Children","History","American"],exhibits:[{id:"permanent-dinosaur-halls",name:"Permanent Dinosaur Halls",type:"Permanent",gallery:"4th Floor"},{id:"milstein-hall-of-ocean-life",name:"Milstein Hall of Ocean Life",type:"Permanent",gallery:"1st Floor"},{id:"spaceland",name:"Spaceland",type:"Temporary",start_date:"2024-03-23",end_date:"2025-01-05"},{id:"sharks",name:"Sharks",type:"Temporary",start_date:"2024-03-01",end_date:"2024-09-02"},{id:"gems-and-minerals-hall",name:"Allison and Roberto Mignone Halls of Gems and Minerals",type:"Permanent",gallery:"1st Floor"},{id:"mammals-of-north-america",name:"North American Mammals",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=American%20Museum%20of%20Natural%20History%2C%20200%20Central%20Park%20West%2C%20Manhattan%2C%20NY%2010024",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/e/ec/USA-NYC-American_Museum_of_Natural_History.JPG",pictureSource:"wikipedia",photoAttributions:{pageTitle:"American Museum of Natural History",pageUrl:"https://en.wikipedia.org/wiki/American_Museum_of_Natural_History",license:"varies (see page)"}},{id:"asia-society-and-museum",name:"Asia Society and Museum",address:"725 Park Avenue",zip:"10021",borough:"Manhattan",location:{lat:40.7735,lon:-73.9649},website:"https://asiasociety.org/new-york/museum",tags:["Art","Asian","History","Contemporary"],exhibits:[{id:"monks-merchants-and-masters-highlights-from-the-collection",name:"Monks, Merchants, and Masters: Highlights from the Collection",type:"CollectionHighlight"},{id:"permanent-collection-galleries",name:"Permanent Collection Galleries",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Asia%20Society%20and%20Museum%2C%20725%20Park%20Avenue%2C%20Manhattan%2C%20NY%2010021",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/d/de/Asia_Society_%2849957992536%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Asia Society",pageUrl:"https://en.wikipedia.org/wiki/Asia_Society",license:"varies (see page)"}},{id:"bartow-pell-mansion-museum",name:"Bartow-Pell Mansion Museum",address:"895 Shore Road",zip:"10464",borough:"Bronx",location:{lat:40.8655,lon:-73.7997},website:"https://www.bartowpellmansionmuseum.org/",tags:["History","Architecture","Design","American"],exhibits:[{id:"the-mansion-restoration",name:"The Mansion & Restoration",type:"Permanent"},{id:"the-historic-gardens",name:"The Historic Gardens",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Bartow-Pell%20Mansion%20Museum%2C%20895%20Shore%20Road%2C%20Bronx%2C%20NY%2010464",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/b/bd/Bartow-pell-mansion.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"BartowPell Mansion",pageUrl:"https://en.wikipedia.org/wiki/BartowPell_Mansion",license:"varies (see page)"}},{id:"bronx-museum-of-art",name:"Bronx Museum of Art",address:"1040 Grand Concourse",zip:"10456",borough:"Bronx",location:{lat:40.8272,lon:-73.9213},website:"https://www.bronxmuseum.org/",tags:["Art","Contemporary","AfricanAmerican","Hispanic","American"],exhibits:[{id:"jude-coleridge-where-the-soil-is-rich",name:"Jude Coleridge: Where the Soil is Rich",type:"Temporary",start_date:"2024-03-27",end_date:"2024-07-28"},{id:"what-makes-a-home-interviews-with-bronx-artists",name:"What Makes a Home: Interviews with Bronx Artists",type:"Temporary",start_date:"2024-03-27",end_date:"2024-07-28"},{id:"highlights-from-the-permanent-collection",name:"Highlights from the Permanent Collection",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Bronx%20Museum%20of%20Art%2C%201040%20Grand%20Concourse%2C%20Bronx%2C%20NY%2010456",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/c/c9/Southbronx.png",pictureSource:"wikipedia",photoAttributions:{pageTitle:"South Bronx",pageUrl:"https://en.wikipedia.org/wiki/South_Bronx",license:"varies (see page)"}},{id:"brooklyn-childrens-museum",name:"Brooklyn Children's Museum",address:"145 Brooklyn Avenue",zip:"11213",borough:"Brooklyn",location:{lat:40.6749,lon:-73.941},website:"https://www.brooklynkids.org/",tags:["Children","Science","Art","History","AfricanAmerican"],exhibits:[{id:"totally-tots",name:"Totally Tots",type:"Permanent"},{id:"world-brooklyn",name:"World Brooklyn",type:"Permanent"},{id:"neighborhood-nature",name:"Neighborhood Nature",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Brooklyn%20Children%27s%20Museum%2C%20145%20Brooklyn%20Avenue%2C%20Brooklyn%2C%20NY%2011213",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/d/d8/Brooklyn_museum.png",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Brooklyn Museum",pageUrl:"https://en.wikipedia.org/wiki/Brooklyn_Museum",license:"varies (see page)"}},{id:"brooklyn-museum",name:"Brooklyn Museum",address:"200 Eastern Parkway",zip:"11238",borough:"Brooklyn",location:{lat:40.671,lon:-73.9637},website:"https://www.brooklynmuseum.org/",tags:["Art","History","Contemporary","Classical","AfricanAmerican","American"],exhibits:[{id:"giancarlo-montana-what-the-birds-know",name:"Giancarlo Montana: What the Birds Know",type:"Temporary",start_date:"2024-02-16",end_date:"2024-07-28"},{id:"egyptian-art",name:"Egyptian Art",type:"Permanent"},{id:"arts-of-africa",name:"Arts of Africa",type:"Permanent"},{id:"american-art-galleries",name:"American Art Galleries",type:"Permanent"},{id:"feminist-art-collection-the-dinner-party",name:"Feminist Art Collection: The Dinner Party",type:"Permanent",gallery:"Elizabeth A. Sackler Center for Feminist Art"},{id:"a-new-view-of-arts-of-the-americas",name:"A New View of Arts of the Americas",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Brooklyn%20Museum%2C%20200%20Eastern%20Parkway%2C%20Brooklyn%2C%20NY%2011238",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/d/d8/Brooklyn_museum.png",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Brooklyn Museum",pageUrl:"https://en.wikipedia.org/wiki/Brooklyn_Museum",license:"varies (see page)"}},{id:"childrens-museum-of-manhattan",name:"Children's Museum of Manhattan",address:"212 West 83rd Street",zip:"10024",borough:"Manhattan",location:{lat:40.7865,lon:-73.978},website:"https://cmom.org/",tags:["Children","Science","Technology","Art"],exhibits:[{id:"dynasty-arts-of-china",name:"Dynasty: Arts of China",type:"Permanent"},{id:"playworks",name:"PlayWorks",type:"Permanent"},{id:"city-senz",name:"City Sensations",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Children%27s%20Museum%20of%20Manhattan%2C%20212%20West%2083rd%20Street%2C%20Manhattan%2C%20NY%2010024",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/fe/WTM_NewYorkDolls_041.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Children's Museum of Manhattan",pageUrl:"https://en.wikipedia.org/wiki/Children's_Museum_of_Manhattan",license:"varies (see page)"}},{id:"childrens-museum-of-the-arts",name:"Children's Museum of the Arts",address:"103 Charlton Street",zip:"10014",borough:"Manhattan",location:{lat:40.7275,lon:-74.0048},website:"https://cmany.org/",tags:["Children","Art","Design","Contemporary"],exhibits:[{id:"the-wonder-of-collage",name:"The Wonder of Collage",type:"Temporary",start_date:"2024-01-20",end_date:"2024-05-12"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Children%27s%20Museum%20of%20the%20Arts%2C%20103%20Charlton%20Street%2C%20Manhattan%2C%20NY%2010014",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/fe/WTM_NewYorkDolls_041.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Children's Museum of Manhattan",pageUrl:"https://en.wikipedia.org/wiki/Children's_Museum_of_Manhattan",license:"varies (see page)"}},{id:"cooper-hewitt-smithsonian-design-museum",name:"Cooper Hewitt, Smithsonian Design Museum",address:"2 East 91st Street",zip:"10128",borough:"Manhattan",location:{lat:40.7844,lon:-73.9575},website:"https://www.cooperhewitt.org/",tags:["Design","Art","History","Architecture","Technology"],exhibits:[{id:"exquisite-creatures-the-art-of-animal-anatomy",name:"Exquisite Creatures: The Art of Animal Anatomy",type:"Temporary",start_date:"2023-11-23",end_date:"2024-09-08"},{id:"alexis-rockman-manifest-destiny",name:"Alexis Rockman: Manifest Destiny",type:"Temporary",start_date:"2024-03-01",end_date:"2024-08-11"},{id:"the-drawings-room",name:"The Drawings Room",type:"Permanent"},{id:"design-for-the-people",name:"Design for the People",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Cooper%20Hewitt%2C%20Smithsonian%20Design%20Museum%2C%202%20East%2091st%20Street%2C%20Manhattan%2C%20NY%2010128",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/fa/Cooper_Hewitt%2C_Smithsonian_Design_Museum_logo.svg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Cooper Hewitt, Smithsonian Design Museum",pageUrl:"https://en.wikipedia.org/wiki/Cooper_Hewitt,_Smithsonian_Design_Museum",license:"varies (see page)"}},{id:"dyckman-farmhouse-museum",name:"Dyckman Farmhouse Museum",address:"4881 Broadway",zip:"10034",borough:"Manhattan",location:{lat:40.8674,lon:-73.9213},website:"https://dyckmanfarmhouse.org/",tags:["History","American","Architecture"],exhibits:[{id:"the-farmhouse-tour",name:"The Farmhouse Tour",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Dyckman%20Farmhouse%20Museum%2C%204881%20Broadway%2C%20Manhattan%2C%20NY%2010034",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/b/b2/Dyckman_House_Bwy_cloudy_jeh_crop.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Dyckman House",pageUrl:"https://en.wikipedia.org/wiki/Dyckman_House",license:"varies (see page)"}},{id:"edgar-allan-poe-cottage",name:"Edgar Allan Poe Cottage",address:"2640 Grand Concourse",zip:"10458",borough:"Bronx",location:{lat:40.8687,lon:-73.8967},website:"https://bronxhistoricalsociety.org/poe-cottage/",tags:["History","Literature","American","Architecture"],exhibits:[{id:"poe-in-the-bronx",name:"Poe in the Bronx",type:"Permanent"},{id:"the-cottage-interiors",name:"The Cottage Interiors",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Edgar%20Allan%20Poe%20Cottage%2C%202640%20Grand%20Concourse%2C%20Bronx%2C%20NY%2010458",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/9/99/Edgar_Allan_Poe%27s_house_in_the_Bronx.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Edgar Allan Poe Cottage",pageUrl:"https://en.wikipedia.org/wiki/Edgar_Allan_Poe_Cottage",license:"varies (see page)"}},{id:"el-museo-del-barrio",name:"El Museo del Barrio",address:"1230 Fifth Avenue",zip:"10029",borough:"Manhattan",location:{lat:40.7928,lon:-73.9515},website:"https://www.elmuseo.org/",tags:["Art","Hispanic","Contemporary","American","History"],exhibits:[{id:"el-museo-del-barrio-s-permanent-collection",name:"El Museo del Barrios Permanent Collection",type:"Permanent"},{id:"estrellita-brodsky-collection",name:"Estrellita Brodsky Collection",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=El%20Museo%20del%20Barrio%2C%201230%20Fifth%20Avenue%2C%20Manhattan%2C%20NY%2010029",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/c/ca/WTM3_The_Fixers_0056.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"El Museo del Barrio",pageUrl:"https://en.wikipedia.org/wiki/El_Museo_del_Barrio",license:"varies (see page)"}},{id:"flushing-town-hall",name:"Flushing Town Hall",address:"137-35 Northern Boulevard",zip:"11354",borough:"Queens",location:{lat:40.7644,lon:-73.8237},website:"https://www.flushingtownhall.org/",tags:["PerformingArts","History","Art","American","Asian"],exhibits:[{id:"galleries-and-exhibitions",name:"Galleries and Exhibitions",type:"Permanent"},{id:"the-landmark-building",name:"The Landmark Building",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Flushing%20Town%20Hall%2C%20137-35%20Northern%20Boulevard%2C%20Queens%2C%20NY%2011354",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/b/b4/Flushing%2C_Queens%2C_NY%2C_USA_-_panoramio_%281%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Flushing, Queens",pageUrl:"https://en.wikipedia.org/wiki/Flushing,_Queens",license:"varies (see page)"}},{id:"fraunces-tavern-museum",name:"Fraunces Tavern Museum",address:"54 Pearl Street",zip:"10004",borough:"Manhattan",location:{lat:40.7032,lon:-74.011},website:"https://www.frauncestavernmuseum.org/",tags:["History","American","Architecture","Classical"],exhibits:[{id:"george-washington-s-farewell-to-his-officers",name:"George Washingtons Farewell to his Officers",type:"Permanent"},{id:"the-long-room",name:"The Long Room",type:"Permanent",gallery:"Second Floor"},{id:"john-fraunces-and-his-tavern",name:"John Fraunces and His Tavern",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Fraunces%20Tavern%20Museum%2C%2054%20Pearl%20Street%2C%20Manhattan%2C%20NY%2010004",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/0/09/Frauncestavern.JPG",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Fraunces Tavern",pageUrl:"https://en.wikipedia.org/wiki/Fraunces_Tavern",license:"varies (see page)"}},{id:"green-wood-cemetery",name:"Green-Wood Cemetery",address:"500 25th Street",zip:"11232",borough:"Brooklyn",location:{lat:40.6622,lon:-73.9936},website:"https://www.green-wood.com/",tags:["History","Architecture","Art","American","Sculpture"],exhibits:[{id:"architecture-and-mausoleums",name:"Architecture and Mausoleums",type:"Permanent"},{id:"sculpture-and-monuments",name:"Sculpture and Monuments",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Green-Wood%20Cemetery%2C%20500%2025th%20Street%2C%20Brooklyn%2C%20NY%2011232",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/1/18/Green-Wood_Cemetery_gate_%2853784p%29_cropped.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Green-Wood Cemetery",pageUrl:"https://en.wikipedia.org/wiki/Green-Wood_Cemetery",license:"varies (see page)"}},{id:"hispanic-society-museum-and-library",name:"Hispanic Society Museum & Library",address:"613 West 155th Street",zip:"10032",borough:"Manhattan",location:{lat:40.829,lon:-73.945},website:"https://hispanicsociety.org/",tags:["Art","Hispanic","History","Classical","Literature"],exhibits:[{id:"permanent-collection-highlights",name:"Permanent Collection Highlights",type:"CollectionHighlight"},{id:"the-sorolla-vision-of-spain-gallery",name:"The Sorolla Vision of Spain Gallery",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Hispanic%20Society%20Museum%20%26%20Library%2C%20613%20West%20155th%20Street%2C%20Manhattan%2C%20NY%2010032",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/6/63/HispanicSocietyofAmerica.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Hispanic Society of America",pageUrl:"https://en.wikipedia.org/wiki/Hispanic_Society_of_America",license:"varies (see page)"}},{id:"intrepid-sea-air-and-space-museum",name:"Intrepid Sea, Air & Space Museum",address:"Pier 86, West 46th Street",zip:"10036",borough:"Manhattan",location:{lat:40.7645,lon:-74.0003},website:"https://www.intrepidmuseum.org/",tags:["Maritime","Aviation","Technology","History","Science","American"],exhibits:[{id:"space-shuttle-enterprise",name:"Space Shuttle Enterprise",type:"Permanent"},{id:"concorde-supersonic-jet",name:"Concorde Supersonic Jet",type:"Permanent"},{id:"submarine-growler",name:"Submarine Growler",type:"Permanent"},{id:"the-intrepid-experience",name:"The Intrepid Experience",type:"Permanent",gallery:"Hangar 1"},{id:"military-aircraft-collection",name:"Military Aircraft Collection",type:"Permanent",gallery:"Flight Deck"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Intrepid%20Sea%2C%20Air%20%26%20Space%20Museum%2C%20Pier%2086%2C%20West%2046th%20Street%2C%20Manhattan%2C%20NY%2010036",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/e/e6/Intrepid_Museum_%2849052290092%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Intrepid Museum",pageUrl:"https://en.wikipedia.org/wiki/Intrepid_Museum",license:"varies (see page)"}},{id:"leslie-lohman-museum-of-art",name:"Leslie-Lohman Museum of Art",address:"26 Wooster Street",zip:"10013",borough:"Manhattan",location:{lat:40.7251,lon:-74.0023},website:"https://leslielohman.org/",tags:["Art","Contemporary","Photography","American"],exhibits:[{id:"queer-love-a-century-of-lgbtq-art",name:"Queer Love: A Century of LGBTQ+ Art",type:"Temporary",start_date:"2024-02-09",end_date:"2024-05-12"},{id:"art-and-activism",name:"Art and Activism",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Leslie-Lohman%20Museum%20of%20Art%2C%2026%20Wooster%20Street%2C%20Manhattan%2C%20NY%2010013",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/e/ed/Leslie-Lohman_Museum_of_Gay_and_Lesbian_Art_-_NYC_%2848129032106%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Leslie-Lohman Museum of Art",pageUrl:"https://en.wikipedia.org/wiki/Leslie-Lohman_Museum_of_Art",license:"varies (see page)"}},{id:"louis-armstrong-house-museum",name:"Louis Armstrong House Museum",address:"34-56 107th Street",zip:"11368",borough:"Queens",location:{lat:40.7516,lon:-73.8407},website:"https://www.louisarmstronghouse.org/",tags:["History","PerformingArts","American"],exhibits:[{id:"the-armstrong-home",name:"The Armstrong Home",type:"Permanent"},{id:"satchmo-the-life-of-louis-armstrong",name:"Satchmo: The Life of Louis Armstrong",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Louis%20Armstrong%20House%20Museum%2C%2034-56%20107th%20Street%2C%20Queens%2C%20NY%2011368",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/5/5f/Louis_Armstrong_House_02_%28cropped%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Louis Armstrong House",pageUrl:"https://en.wikipedia.org/wiki/Louis_Armstrong_House",license:"varies (see page)"}},{id:"merchants-house-museum",name:"Merchant's House Museum",address:"29 East 4th Street",zip:"10003",borough:"Manhattan",location:{lat:40.7265,lon:-73.9922},website:"https://merchantshouse.org/",tags:["History","American","Architecture","Design"],exhibits:[{id:"the-tredwell-family-home",name:"The Tredwell Family Home",type:"Permanent"},{id:"the-tredwell-costume-collection",name:"The Tredwell Costume Collection",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Merchant%27s%20House%20Museum%2C%2029%20East%204th%20Street%2C%20Manhattan%2C%20NY%2010003",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/f7/Merchant%27s_House_Museum_%2848072654706%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Merchant's House Museum",pageUrl:"https://en.wikipedia.org/wiki/Merchant's_House_Museum",license:"varies (see page)"}},{id:"moma-ps1",name:"MoMA PS1",address:"22-25 Jackson Avenue",zip:"11101",borough:"Queens",location:{lat:40.746,lon:-73.9472},website:"https://www.moma.org/visit/moma-ps1",tags:["Art","Contemporary","Modern"],exhibits:[{id:"lizzie-fitch-ryan-trecartin-or-ryan",name:"Lizzie Fitch / Ryan Trecartin: OR RYAN",type:"Temporary",start_date:"2024-02-18",end_date:"2024-09-02"},{id:"chloe-wise-all-her-boys",name:"Chloe Wise: All Her Boys",type:"Temporary",start_date:"2024-02-18",end_date:"2024-09-02"},{id:"permanent-installations",name:"Permanent Installations",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=MoMA%20PS1%2C%2022-25%20Jackson%20Avenue%2C%20Queens%2C%20NY%2011101",pictureUrl:"https://upload.wikimedia.org/wikipedia/en/a/a3/MoMA_PS1_FFP.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"MoMA PS1",pageUrl:"https://en.wikipedia.org/wiki/MoMA_PS1",license:"varies (see page)"}},{id:"museum-at-eldridge-street",name:"Museum at Eldridge Street",address:"12 Eldridge Street",zip:"10002",borough:"Manhattan",location:{lat:40.7154,lon:-73.9934},website:"https://www.eldridgestreet.org/",tags:["History","American","Architecture","Classical"],exhibits:[{id:"the-1887-synagogue",name:"The 1887 Synagogue",type:"Permanent"},{id:"the-story-of-immigrant-new-york",name:"The Story of Immigrant New York",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Museum%20at%20Eldridge%20Street%2C%2012%20Eldridge%20Street%2C%20Manhattan%2C%20NY%2010002",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/b/b2/Museum_at_Eldridge_Street_%2852302295706%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Eldridge Street Synagogue",pageUrl:"https://en.wikipedia.org/wiki/Eldridge_Street_Synagogue",license:"varies (see page)"}},{id:"museum-of-american-finance",name:"Museum of American Finance",address:"48 Wall Street",zip:"10005",borough:"Manhattan",location:{lat:40.7067,lon:-74.0091},website:"https://www.moaf.org/",tags:["History","American","Technology","Design"],exhibits:[{id:"the-history-of-money",name:"The History of Money",type:"Permanent"},{id:"entrepreneurs-game-changers",name:"Entrepreneurs: Game Changers",type:"Permanent"},{id:"america-s-first-banks",name:"America's First Banks",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Museum%20of%20American%20Finance%2C%2048%20Wall%20Street%2C%20Manhattan%2C%20NY%2010005",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/3/37/Museum_of_American_Finance_at_William_and_Wall_Streets_in_lower_Manhattan_by_Alan_Barnett.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Museum of American Finance",pageUrl:"https://en.wikipedia.org/wiki/Museum_of_American_Finance",license:"varies (see page)"}},{id:"museum-of-arts-and-design",name:"Museum of Arts and Design",address:"2 Columbus Circle",zip:"10019",borough:"Manhattan",location:{lat:40.7684,lon:-73.9818},website:"https://madmuseum.org/",tags:["Design","Art","Contemporary","Sculpture"],exhibits:[{id:"fashion-and-the-modern-body",name:"Fashion and the Modern Body",type:"Temporary",start_date:"2023-11-09",end_date:"2024-03-24"},{id:"the-mad-collection",name:"The MAD Collection",type:"Permanent"},{id:"new-terrains-contemporary-art-ceramics",name:"New Terrains: Contemporary Art Ceramics",type:"Temporary",start_date:"2024-03-23",end_date:"2024-09-22"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Museum%20of%20Arts%20and%20Design%2C%202%20Columbus%20Circle%2C%20Manhattan%2C%20NY%2010019",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/c/c6/2_Columbus_Circle.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Museum of Arts and Design",pageUrl:"https://en.wikipedia.org/wiki/Museum_of_Arts_and_Design",license:"varies (see page)"}},{id:"museum-of-chinese-in-america",name:"Museum of Chinese in America",address:"215 Centre Street",zip:"10013",borough:"Manhattan",location:{lat:40.7188,lon:-73.9972},website:"https://www.mocanyc.org/",tags:["History","Asian","American","Art"],exhibits:[{id:"permanent-exhibition-with-a-single-voice-chinese-americans-in-new-york",name:"Permanent Exhibition: With a Single Voice: Chinese Americans in New York",type:"Permanent"},{id:"family-albums-chinese-americans-and-the-photography-of-everyday-life",name:"Family Albums: Chinese Americans and the Photography of Everyday Life",type:"Temporary",start_date:"2024-01-25",end_date:"2024-09-08"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Museum%20of%20Chinese%20in%20America%2C%20215%20Centre%20Street%2C%20Manhattan%2C%20NY%2010013",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/1/19/MOCA_Centre_St_sunny_morn_jeh.JPG",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Museum of Chinese in America",pageUrl:"https://en.wikipedia.org/wiki/Museum_of_Chinese_in_America",license:"varies (see page)"}},{id:"museum-of-jewish-heritage-a-living-memorial-to-the-holocaust",name:"Museum of Jewish Heritage  A Living Memorial to the Holocaust",address:"36 Battery Place",zip:"10280",borough:"Manhattan",location:{lat:40.7042,lon:-74.018},website:"https://mjhnyc.org/",tags:["History","American","Photography","Architecture"],exhibits:[{id:"the-holocaust-what-hate-can-do",name:"The Holocaust: What Hate Can Do",type:"Permanent"},{id:"auschwitz-not-long-ago-not-far-away",name:"Auschwitz. Not long ago. Not far away.",type:"Temporary",start_date:"2019-05-08",end_date:"2024-08-30"},{id:"the-mandels-of-wien",name:"The Mandels of Wien",type:"Temporary",start_date:"2024-01-21",end_date:"2024-05-19"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Museum%20of%20Jewish%20Heritage%20%E2%80%93%20A%20Living%20Memorial%20to%20the%20Holocaust%2C%2036%20Battery%20Place%2C%20Manhattan%2C%20NY%2010280",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/3/36/Museum_of_Jewish_Heritage_005.JPG",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Museum of Jewish Heritage",pageUrl:"https://en.wikipedia.org/wiki/Museum_of_Jewish_Heritage",license:"varies (see page)"}},{id:"museum-of-modern-art",name:"Museum of Modern Art",address:"11 West 53rd Street",zip:"10019",borough:"Manhattan",location:{lat:40.7614,lon:-73.9776},website:"https://www.moma.org/",tags:["Art","Modern","Contemporary","Photography","Design"],exhibits:[{id:"ka-kweng-yung-a-way-with-art",name:"Ka-Kweng Yung: A Way with Art",type:"Temporary",start_date:"2024-01-28",end_date:"2024-06-23"},{id:"permanent-collection-galleries",name:"Permanent Collection Galleries",type:"Permanent"},{id:"starry-night",name:"The Starry Night",type:"CollectionHighlight",gallery:"Floor 5"},{id:"les-demoiselles-davignon",name:"Les Demoiselles d'Avignon",type:"CollectionHighlight",gallery:"Floor 5"},{id:"new-york-a-photographers-city",name:"New York: A Photographer's City",type:"Temporary",start_date:"2023-09-23",end_date:"2024-06-16"},{id:"wolfgang-tillmans-to-look-without-fear",name:"Wolfgang Tillmans: To look without fear",type:"Temporary",start_date:"2023-09-10",end_date:"2024-05-27"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Museum%20of%20Modern%20Art%2C%2011%20West%2053rd%20Street%2C%20Manhattan%2C%20NY%2010019",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/8/8b/MoMa_NY_USA_1.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Museum of Modern Art",pageUrl:"https://en.wikipedia.org/wiki/Museum_of_Modern_Art",license:"varies (see page)"}},{id:"museum-of-the-city-of-new-york",name:"Museum of the City of New York",address:"1220 Fifth Avenue",zip:"10029",borough:"Manhattan",location:{lat:40.7937,lon:-73.9507},website:"https://www.mcny.org/",tags:["History","American","Architecture","Photography"],exhibits:[{id:"new-york-at-its-core",name:"New York at Its Core",type:"Permanent"},{id:"this-is-new-york-100-years-of-the-city-in-art-and-pop-culture",name:"This is New York: 100 Years of the City in Art and Pop Culture",type:"Temporary",start_date:"2024-02-16",end_date:"2024-07-21"},{id:"george-balanchine-s-the-nutcracker-the-exhibition",name:"George Balanchine's The Nutcracker: The Exhibition",type:"Temporary",start_date:"2023-11-09",end_date:"2024-04-14"},{id:"activist-new-york",name:"Activist New York",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Museum%20of%20the%20City%20of%20New%20York%2C%201220%20Fifth%20Avenue%2C%20Manhattan%2C%20NY%2010029",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/0/0e/Photograph_of_Fifth_Avenue_from_the_Metropolitan%E2%80%94New_York_City.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Fifth Avenue",pageUrl:"https://en.wikipedia.org/wiki/Fifth_Avenue",license:"varies (see page)"}},{id:"museum-of-the-moving-image",name:"Museum of the Moving Image",address:"36-01 35th Avenue",zip:"11106",borough:"Queens",location:{lat:40.757,lon:-73.9238},website:"https://movingimage.us/",tags:["Film","Technology","History","PerformingArts","American"],exhibits:[{id:"behind-the-screen",name:"Behind the Screen",type:"Permanent"},{id:"the-jim-henson-exhibition",name:"The Jim Henson Exhibition",type:"Permanent"},{id:"the-horror-dreamland-a-nightmare-created",name:"The Horror: Dreamland, A Nightmare Created",type:"Temporary",start_date:"2023-10-27",end_date:"2024-04-14"},{id:"videogame-exhibition",name:"Videogame Exhibition",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Museum%20of%20the%20Moving%20Image%2C%2036-01%2035th%20Avenue%2C%20Queens%2C%20NY%2011106",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/4/44/MoMI2.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Museum of the Moving Image",pageUrl:"https://en.wikipedia.org/wiki/Museum_of_the_Moving_Image",license:"varies (see page)"}},{id:"national-museum-of-the-american-indian-new-york",name:"National Museum of the American Indian - New York",address:"1 Bowling Green",zip:"10004",borough:"Manhattan",location:{lat:40.7047,lon:-74.0139},website:"https://americanindian.si.edu/visit/newyork",tags:["History","American","Art","Classical","Sculpture"],exhibits:[{id:"infinity-of-nations-art-and-history-in-the-collections-of-the-national-museum-of-the-american-indian",name:"Infinity of Nations: Art and History in the Collections of the National Museum of the American Indian",type:"Permanent"},{id:"ancestral-narratives",name:"Ancestral Narratives",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=National%20Museum%20of%20the%20American%20Indian%20-%20New%20York%2C%201%20Bowling%20Green%2C%20Manhattan%2C%20NY%2010004",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/4/4c/National_Museum_of_the_American_Indian%2C_Washington%2C_D.C_LCCN2011630892.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"National Museum of the American Indian",pageUrl:"https://en.wikipedia.org/wiki/National_Museum_of_the_American_Indian",license:"varies (see page)"}},{id:"national-september-11-memorial-and-museum",name:"National September 11 Memorial & Museum",address:"180 Greenwich Street",zip:"10007",borough:"Manhattan",location:{lat:40.7115,lon:-74.0125},website:"https://www.911memorial.org/",tags:["History","American","Technology","Architecture"],exhibits:[{id:"historical-exhibition",name:"Historical Exhibition",type:"Permanent"},{id:"memorial-exhibition",name:"Memorial Exhibition",type:"Permanent"},{id:"foundation-hall",name:"Foundation Hall",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=National%20September%2011%20Memorial%20%26%20Museum%2C%20180%20Greenwich%20Street%2C%20Manhattan%2C%20NY%2010007",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/fc/9-11_Memorial_and_Museum_%2828815276064%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"National September 11 Memorial & Museum",pageUrl:"https://en.wikipedia.org/wiki/National_September_11_Memorial_&_Museum",license:"varies (see page)"}},{id:"new-museum-of-contemporary-art",name:"New Museum of Contemporary Art",address:"235 Bowery",zip:"10002",borough:"Manhattan",location:{lat:40.7224,lon:-73.9928},website:"https://www.newmuseum.org/",tags:["Art","Contemporary","Modern","Design"],exhibits:[{id:"s-r-w-curtain-of-light",name:"S. R. W. : Curtain of Light",type:"Temporary",start_date:"2024-02-15",end_date:"2024-06-02"},{id:"okwui-enwezor-ghost-in-the-machine",name:"Okwui Enwezor: Ghost in the Machine",type:"Temporary",start_date:"2024-02-15",end_date:"2024-06-02"},{id:"new-art-exhibitions",name:"New Art Exhibitions",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=New%20Museum%20of%20Contemporary%20Art%2C%20235%20Bowery%2C%20Manhattan%2C%20NY%2010002",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/6/65/New_Museum_in_New_York_City_2015.JPG",pictureSource:"wikipedia",photoAttributions:{pageTitle:"New Museum",pageUrl:"https://en.wikipedia.org/wiki/New_Museum",license:"varies (see page)"}},{id:"new-york-city-fire-museum",name:"New York City Fire Museum",address:"278 Spring Street",zip:"10013",borough:"Manhattan",location:{lat:40.7259,lon:-74.004},website:"https://www.nycfiremuseum.org/",tags:["History","Technology","American","Children"],exhibits:[{id:"firefighting-history-of-nyc",name:"Firefighting History of NYC",type:"Permanent"},{id:"9-11-memorial-exhibit",name:"9/11 Memorial Exhibit",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=New%20York%20City%20Fire%20Museum%2C%20278%20Spring%20Street%2C%20Manhattan%2C%20NY%2010013",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/c/c4/New_York_City_Fire_Museum_002_%28cropped%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"New York City Fire Museum",pageUrl:"https://en.wikipedia.org/wiki/New_York_City_Fire_Museum",license:"varies (see page)"}},{id:"new-york-hall-of-science",name:"New York Hall of Science",address:"47-01 111th Street",zip:"11368",borough:"Queens",location:{lat:40.746,lon:-73.8465},website:"https://nysci.org/",tags:["Science","Technology","Children","Design"],exhibits:[{id:"connecticon",name:"ConnectiCon",type:"Permanent"},{id:"design-lab",name:"Design Lab",type:"Permanent"},{id:"seeing-the-light",name:"Seeing the Light",type:"Permanent"},{id:"maker-space",name:"Maker Space",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=New%20York%20Hall%20of%20Science%2C%2047-01%20111th%20Street%2C%20Queens%2C%20NY%2011368",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/3/3c/New_York_Hall_of_Science_Logo.svg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"New York Hall of Science",pageUrl:"https://en.wikipedia.org/wiki/New_York_Hall_of_Science",license:"varies (see page)"}},{id:"new-york-transit-museum",name:"New York Transit Museum",address:"99 Schermerhorn Street",zip:"11201",borough:"Brooklyn",location:{lat:40.69,lon:-73.984},website:"https://www.nytransitmuseum.org/",tags:["Transit","History","Technology","American"],exhibits:[{id:"vintage-fleet",name:"Vintage Fleet",type:"Permanent"},{id:"fare-collection-history",name:"Fare Collection History",type:"Permanent"},{id:"moving-the-millions",name:"Moving the Millions",type:"Permanent"},{id:"on-the-streets-subway-and-elevated",name:"On the Streets: Subway and Elevated",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=New%20York%20Transit%20Museum%2C%2099%20Schermerhorn%20Street%2C%20Brooklyn%2C%20NY%2011201",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/9/96/New_York_Transit_Museum_logo.svg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"New York Transit Museum",pageUrl:"https://en.wikipedia.org/wiki/New_York_Transit_Museum",license:"varies (see page)"}},{id:"new-york-historical-society",name:"New-York Historical Society",address:"170 Central Park West",zip:"10024",borough:"Manhattan",location:{lat:40.7785,lon:-73.9731},website:"https://www.nyhistory.org/",tags:["History","American","Art","Photography"],exhibits:[{id:"new-york-rising",name:"New York Rising",type:"Permanent"},{id:"bill-brandt-henry-moore",name:"Bill Brandt | Henry Moore",type:"Temporary",start_date:"2024-03-08",end_date:"2024-07-21"},{id:"audubon-s-birds-of-america",name:"Audubons Birds of America",type:"Permanent"},{id:"the-hall-of-new-york-history",name:"The Hall of New York History",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=New-York%20Historical%20Society%2C%20170%20Central%20Park%20West%2C%20Manhattan%2C%20NY%2010024",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/e/e2/New_York_Historical_Society_%2848269593386%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"New York Historical",pageUrl:"https://en.wikipedia.org/wiki/New_York_Historical",license:"varies (see page)"}},{id:"pioneer-works",name:"Pioneer Works",address:"159 Pioneer Street",zip:"11231",borough:"Brooklyn",location:{lat:40.6729,lon:-74.0084},website:"https://pioneerworks.org/",tags:["Art","Contemporary","Science","Technology"],exhibits:[{id:"current-exhibitions",name:"Current Exhibitions",type:"Temporary"},{id:"artist-in-residence-showcase",name:"Artist-in-Residence Showcase",type:"Temporary"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Pioneer%20Works%2C%20159%20Pioneer%20Street%2C%20Brooklyn%2C%20NY%2011231",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/2/26/The_Intercourse_interior%2C_Exquisite_Corpse_2012.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Pioneer Works",pageUrl:"https://en.wikipedia.org/wiki/Pioneer_Works",license:"varies (see page)"}},{id:"queens-historical-society",name:"Queens Historical Society",address:"143-35 37th Avenue",zip:"11354",borough:"Queens",location:{lat:40.7649,lon:-73.8239},website:"https://www.queenshistoricalsociety.org/",tags:["History","American","Architecture"],exhibits:[{id:"kingsland-homestead-historic-house",name:"Kingsland Homestead Historic House",type:"Permanent"},{id:"the-past-present-and-future-of-flushing",name:"The Past, Present, and Future of Flushing",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Queens%20Historical%20Society%2C%20143-35%2037th%20Avenue%2C%20Queens%2C%20NY%2011354",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/f8/Unisphere-2_%2827835155267%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Queens",pageUrl:"https://en.wikipedia.org/wiki/Queens",license:"varies (see page)"}},{id:"queens-museum",name:"Queens Museum",address:"Flushing Meadows Corona Park",zip:"11368",borough:"Queens",location:{lat:40.7471,lon:-73.8434},website:"https://queensmuseum.org/",tags:["Art","History","Contemporary","American"],exhibits:[{id:"the-panorama-of-the-city-of-new-york",name:"The Panorama of the City of New York",type:"Permanent"},{id:"growing-democracy",name:"Growing Democracy",type:"Permanent"},{id:"el-artista-esta-aqui-artist-as-curator",name:"El Artista Est Aqu: Artist as Curator",type:"Temporary",start_date:"2024-03-10",end_date:"2024-09-08"},{id:"queens-international-2023-sites-of-return",name:"Queens International 2023: Sites of Return",type:"Temporary",start_date:"2023-11-12",end_date:"2024-02-18"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Queens%20Museum%2C%20Flushing%20Meadows%20Corona%20Park%2C%20Queens%2C%20NY%2011368",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/f8/Unisphere-2_%2827835155267%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Queens",pageUrl:"https://en.wikipedia.org/wiki/Queens",license:"varies (see page)"}},{id:"schomburg-center-for-research-in-black-culture",name:"Schomburg Center for Research in Black Culture",address:"515 Malcolm X Blvd",zip:"10037",borough:"Manhattan",location:{lat:40.8155,lon:-73.9408},website:"https://www.nypl.org/locations/schomburg",tags:["AfricanAmerican","History","Literature","Art","Photography"],exhibits:[{id:"boundless-a-century-of-searing-art-and-poetry",name:"Boundless: A Century of Searing Art and Poetry",type:"Temporary",start_date:"2024-02-14",end_date:"2024-07-20"},{id:"malcolm-x-history-collection",name:"Malcolm X History Collection",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Schomburg%20Center%20for%20Research%20in%20Black%20Culture%2C%20515%20Malcolm%20X%20Blvd%2C%20Manhattan%2C%20NY%2010037",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/7/79/Schomburg_Center_for_Research_in_Black_Culture_%2852008381132%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Schomburg Center for Research in Black Culture",pageUrl:"https://en.wikipedia.org/wiki/Schomburg_Center_for_Research_in_Black_Culture",license:"varies (see page)"}},{id:"skyscraper-museum",name:"Skyscraper Museum",address:"39 Battery Place",zip:"10280",borough:"Manhattan",location:{lat:40.7044,lon:-74.0177},website:"https://www.skyscraper.org/",tags:["Architecture","History","Design","Technology","American"],exhibits:[{id:"housing-density",name:"Housing Density",type:"Permanent"},{id:"ten-big-buildings",name:"Ten Big Buildings",type:"Permanent"},{id:"world-trade-center-history",name:"World Trade Center History",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Skyscraper%20Museum%2C%2039%20Battery%20Place%2C%20Manhattan%2C%20NY%2010280",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/1/1f/Skyscraper_museum_nyc1.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Skyscraper Museum",pageUrl:"https://en.wikipedia.org/wiki/Skyscraper_Museum",license:"varies (see page)"}},{id:"snug-harbor-cultural-center-and-botanical-garden",name:"Snug Harbor Cultural Center & Botanical Garden",address:"1000 Richmond Terrace",zip:"10301",borough:"Staten Island",location:{lat:40.6433,lon:-74.0863},website:"https://snug-harbor.org/",tags:["Art","History","Children","Design","Asian"],exhibits:[{id:"chinese-scholar-garden",name:"Chinese Scholar Garden",type:"Permanent"},{id:"newhouse-center-for-contemporary-art",name:"Newhouse Center for Contemporary Art",type:"Permanent"},{id:"botanical-gardens-collection",name:"Botanical Gardens Collection",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Snug%20Harbor%20Cultural%20Center%20%26%20Botanical%20Garden%2C%201000%20Richmond%20Terrace%2C%20Staten%20Island%2C%20NY%2010301",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/6/64/Sailors-snug-harbor.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Sailors' Snug Harbor",pageUrl:"https://en.wikipedia.org/wiki/Sailors'_Snug_Harbor",license:"varies (see page)"}},{id:"society-of-illustrators",name:"Society of Illustrators",address:"128 East 63rd Street",zip:"10065",borough:"Manhattan",location:{lat:40.7624,lon:-73.9669},website:"https://societyillustrators.org/",tags:["Art","American","Design","Photography","History"],exhibits:[{id:"illustrators-66",name:"Illustrators 66",type:"Temporary",start_date:"2024-01-24",end_date:"2024-06-29"},{id:"hall-of-fame-gallery",name:"Hall of Fame Gallery",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Society%20of%20Illustrators%2C%20128%20East%2063rd%20Street%2C%20Manhattan%2C%20NY%2010065",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/4/49/Society_of_Illustrators_%2848064102492%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Society of Illustrators",pageUrl:"https://en.wikipedia.org/wiki/Society_of_Illustrators",license:"varies (see page)"}},{id:"solomon-r-guggenheim-museum",name:"Solomon R. Guggenheim Museum",address:"1071 Fifth Avenue",zip:"10128",borough:"Manhattan",location:{lat:40.7829,lon:-73.9589},website:"https://www.guggenheim.org/",tags:["Art","Modern","Contemporary","Architecture","Sculpture"],exhibits:[{id:"by-means-of-art-from-the-thannhauser-collection",name:"By Means of Art: From the Thannhauser Collection",type:"Permanent"},{id:"going-rogue-the-art-of-the-early-modern",name:"Going Rogue: The Art of the Early Modern",type:"Temporary",start_date:"2024-02-09",end_date:"2024-05-12"},{id:"invisible-cities",name:"Invisible Cities",type:"Temporary",start_date:"2023-11-20",end_date:"2024-04-14"},{id:"on-the-line-walking-the-spiral-of-the-guggenheim",name:"On the Line: Walking the Spiral of the Guggenheim",type:"Permanent",gallery:"Rotunda"},{id:"the-masterworks-from-the-guggenheim-collection",name:"The Masterworks from the Guggenheim Collection",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Solomon%20R.%20Guggenheim%20Museum%2C%201071%20Fifth%20Avenue%2C%20Manhattan%2C%20NY%2010128",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/6/6b/NYC_-_Guggenheim_Museum.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Solomon R. Guggenheim Museum",pageUrl:"https://en.wikipedia.org/wiki/Solomon_R._Guggenheim_Museum",license:"varies (see page)"}},{id:"south-street-seaport-museum",name:"South Street Seaport Museum",address:"12 Fulton Street",zip:"10038",borough:"Manhattan",location:{lat:40.7058,lon:-74.0028},website:"https://southstreetseaportmuseum.org/",tags:["Maritime","History","American","Technology"],exhibits:[{id:"millers-boatyard-built-boats",name:"Miller's Boatyard: Built Boats",type:"Permanent"},{id:"south-street-seaport-museum-fleet",name:"South Street Seaport Museum Fleet",type:"Permanent"},{id:"millermans-shop",name:"The Millerman's Shop",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=South%20Street%20Seaport%20Museum%2C%2012%20Fulton%20Street%2C%20Manhattan%2C%20NY%2010038",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/e/e1/South_Street_Seaport%2C_Detroit_Photographic_Company_%280616%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"South Street Seaport",pageUrl:"https://en.wikipedia.org/wiki/South_Street_Seaport",license:"varies (see page)"}},{id:"spyscape",name:"SPYSCAPE",address:"928 8th Avenue",zip:"10019",borough:"Manhattan",location:{lat:40.7627,lon:-73.9856},website:"https://spyscape.com/",tags:["Technology","History","Science","Design","Contemporary"],exhibits:[{id:"interactive-spy-challenges",name:"Interactive Spy Challenges",type:"Permanent"},{id:"encryption-zone",name:"Encryption Zone",type:"Permanent"},{id:"surveillance-zone",name:"Surveillance Zone",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=SPYSCAPE%2C%20928%208th%20Avenue%2C%20Manhattan%2C%20NY%2010019",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/3/3e/Spyscape_%2848269597621%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Spyscape",pageUrl:"https://en.wikipedia.org/wiki/Spyscape",license:"varies (see page)"}},{id:"staten-island-childrens-museum",name:"Staten Island Children's Museum",address:"1000 Richmond Terrace",zip:"10301",borough:"Staten Island",location:{lat:40.6433,lon:-74.0863},website:"https://www.sichildrensmuseum.org/",tags:["Children","Science","Art","Design"],exhibits:[{id:"bugs-and-other-creatures",name:"Bugs and Other Creatures",type:"Permanent"},{id:"build-it",name:"Build It!",type:"Permanent"},{id:"wonder-wheel",name:"Wonder Wheel",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Staten%20Island%20Children%27s%20Museum%2C%201000%20Richmond%20Terrace%2C%20Staten%20Island%2C%20NY%2010301",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/f/f3/Staten_Island_Railway_R211S_at_Jefferson_Av_Station.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Staten Island Railway",pageUrl:"https://en.wikipedia.org/wiki/Staten_Island_Railway",license:"varies (see page)"}},{id:"staten-island-museum",name:"Staten Island Museum",address:"1000 Richmond Terrace",zip:"10301",borough:"Staten Island",location:{lat:40.6433,lon:-74.0863},website:"https://www.statenislandmuseum.org/",tags:["History","NaturalHistory","Art","Science","American"],exhibits:[{id:"infinite-variations-from-the-permanent-collection",name:"Infinite Variations from the Permanent Collection",type:"Permanent"},{id:"remember-the-staten-island-ferry",name:"Remember the Staten Island Ferry",type:"Permanent"},{id:"staten-island-fossils-and-archaeology",name:"Staten Island Fossils and Archaeology",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Staten%20Island%20Museum%2C%201000%20Richmond%20Terrace%2C%20Staten%20Island%2C%20NY%2010301",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/e/e2/Staten_Island_Ferry_Whitehall_Terminal_%2848126534661%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Staten Island Ferry Whitehall Terminal",pageUrl:"https://en.wikipedia.org/wiki/Staten_Island_Ferry_Whitehall_Terminal",license:"varies (see page)"}},{id:"tenement-museum",name:"Tenement Museum",address:"103 Orchard Street",zip:"10002",borough:"Manhattan",location:{lat:40.7186,lon:-73.9902},website:"https://www.tenement.org/",tags:["History","Immigration","American"],exhibits:[{id:"irish-outsiders-and-the-story-of-the-levines",name:"Irish Outsiders and the Story of the Levines",type:"Permanent",gallery:"103 Orchard Street"},{id:"meet-the-residents-a-guided-tour",name:"Meet the Residents: A Guided Tour",type:"Permanent"},{id:"under-one-roof",name:"Under One Roof",type:"Permanent",gallery:"97 Orchard Street"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Tenement%20Museum%2C%20103%20Orchard%20Street%2C%20Manhattan%2C%20NY%2010002",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/5/50/97_Orchard_Street_Front.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Lower East Side Tenement Museum",pageUrl:"https://en.wikipedia.org/wiki/Lower_East_Side_Tenement_Museum",license:"varies (see page)"}},{id:"the-frick-collection",name:"The Frick Collection",address:"1 East 70th Street",zip:"10021",borough:"Manhattan",location:{lat:40.7712,lon:-73.9669},website:"https://www.frick.org/",tags:["Art","Classical","Sculpture","American"],exhibits:[{id:"permanent-collection-galleries",name:"Permanent Collection Galleries",type:"Permanent"},{id:"vermeer-s-mistress-and-maid",name:"Vermeer's Mistress and Maid",type:"CollectionHighlight"},{id:"frick-reframed",name:"Frick Reframed",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=The%20Frick%20Collection%2C%201%20East%2070th%20Street%2C%20Manhattan%2C%20NY%2010021",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/8/84/Frick_Collection_New_York_cour.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Frick Collection",pageUrl:"https://en.wikipedia.org/wiki/Frick_Collection",license:"varies (see page)"}},{id:"the-jewish-museum",name:"The Jewish Museum",address:"1109 Fifth Avenue",zip:"10128",borough:"Manhattan",location:{lat:40.7844,lon:-73.9575},website:"https://thejewishmuseum.org/",tags:["Art","History","American","Design","Classical"],exhibits:[{id:"scenes-from-the-collection",name:"Scenes from the Collection",type:"Permanent"},{id:"oskar-schlemmer-the-bauhaus-and-the-new-man",name:"Oskar Schlemmer: The Bauhaus and the New Man",type:"Temporary",start_date:"2024-02-16",end_date:"2024-05-27"},{id:"feeling-manny-montage-for-a-future",name:"Feeling Manny: Montage for a Future",type:"Temporary",start_date:"2024-02-16",end_date:"2024-06-23"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=The%20Jewish%20Museum%2C%201109%20Fifth%20Avenue%2C%20Manhattan%2C%20NY%2010128",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/6/68/Jewish_Museum_%2848059132236%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Jewish Museum (Manhattan)",pageUrl:"https://en.wikipedia.org/wiki/Jewish_Museum_(Manhattan)",license:"varies (see page)"}},{id:"the-metropolitan-museum-of-art",name:"The Metropolitan Museum of Art",address:"1000 Fifth Avenue",zip:"10028",borough:"Manhattan",location:{lat:40.7794,lon:-73.9632},website:"https://www.metmuseum.org/",tags:["Art","Classical","Sculpture","American","History"],exhibits:[{id:"the-sultans-garden-of-the-imagination",name:"The Sultan's Garden: The Imaginary Palace in Indian Painting",type:"Temporary",start_date:"2024-02-13",end_date:"2024-07-14"},{id:"the-american-wing",name:"The American Wing",type:"Permanent"},{id:"ancient-egyptian-art",name:"Ancient Egyptian Art",type:"Permanent"},{id:"european-sculpture-and-decorative-arts",name:"European Sculpture and Decorative Arts",type:"Permanent"},{id:"impressionist-and-modern-art",name:"Impressionist and Modern Art",type:"Permanent"},{id:"arms-and-armor",name:"Arms and Armor",type:"Permanent"},{id:"the-temple-of-dendur",name:"The Temple of Dendur",type:"CollectionHighlight",gallery:"The Sackler Wing"},{id:"the-rococo-fantasy",name:"The Rococo Fantasy: French Prints of the 18th Century",type:"Temporary",start_date:"2024-03-05",end_date:"2024-07-14"},{id:"the-costume-institute",name:"The Costume Institute",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=The%20Metropolitan%20Museum%20of%20Art%2C%201000%20Fifth%20Avenue%2C%20Manhattan%2C%20NY%2010028",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/3/30/Metropolitan_Museum_of_Art_%28The_Met%29_-_Central_Park%2C_NYC.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Metropolitan Museum of Art",pageUrl:"https://en.wikipedia.org/wiki/Metropolitan_Museum_of_Art",license:"varies (see page)"}},{id:"the-morgan-library-and-museum",name:"The Morgan Library & Museum",address:"225 Madison Avenue",zip:"10016",borough:"Manhattan",location:{lat:40.749,lon:-73.9818},website:"https://www.themorgan.org/",tags:["Art","History","Literature","Classical","Architecture"],exhibits:[{id:"jean-jacques-lequeu-architect-of-madness",name:"Jean-Jacques Lequeu: Architect of Madness",type:"Temporary",start_date:"2024-03-08",end_date:"2024-06-02"},{id:"the-making-of-j-p-morgan-s-library",name:"The Making of J. Pierpont Morgan's Library",type:"Permanent"},{id:"medieval-and-renaissance-manuscripts",name:"Medieval and Renaissance Manuscripts",type:"CollectionHighlight"},{id:"ink-stained-letters-and-literary-treasures",name:"Ink-Stained Letters and Literary Treasures",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=The%20Morgan%20Library%20%26%20Museum%2C%20225%20Madison%20Avenue%2C%20Manhattan%2C%20NY%2010016",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/4/45/Morgan_Library_%26_Museum%2C_New_York_2017_02.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Morgan Library & Museum",pageUrl:"https://en.wikipedia.org/wiki/Morgan_Library_&_Museum",license:"varies (see page)"}},{id:"the-new-york-earth-room",name:"The New York Earth Room",address:"141 Wooster Street",zip:"10012",borough:"Manhattan",location:{lat:40.7259,lon:-74.0003},website:"https://www.diaart.org/visit/visit-our-locations-sites/walter-de-maria-the-new-york-earth-room-new-york-united-states",tags:["Art","Contemporary","Sculpture","Design","Architecture"],exhibits:[{id:"the-new-york-earth-room-by-walter-de-maria",name:"The New York Earth Room by Walter De Maria",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=The%20New%20York%20Earth%20Room%2C%20141%20Wooster%20Street%2C%20Manhattan%2C%20NY%2010012",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/4/4e/New_York_Earth_Room_in_2024.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"The New York Earth Room",pageUrl:"https://en.wikipedia.org/wiki/The_New_York_Earth_Room",license:"varies (see page)"}},{id:"the-noguchi-museum",name:"The Noguchi Museum",address:"9-01 33rd Road",zip:"11106",borough:"Queens",location:{lat:40.7667,lon:-73.9538},website:"https://www.noguchi.org/",tags:["Art","Sculpture","Design","Contemporary","Architecture"],exhibits:[{id:"noguchi-permanent-collection",name:"Noguchi Permanent Collection",type:"Permanent"},{id:"noguchi-s-sculpture-garden",name:"Noguchi's Sculpture Garden",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=The%20Noguchi%20Museum%2C%209-01%2033rd%20Road%2C%20Queens%2C%20NY%2011106",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/c/cd/Wikist_aces_0087.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Noguchi Museum",pageUrl:"https://en.wikipedia.org/wiki/Noguchi_Museum",license:"varies (see page)"}},{id:"the-studio-museum-in-harlem",name:"The Studio Museum in Harlem",address:"144 West 125th Street",zip:"10027",borough:"Manhattan",location:{lat:40.8115,lon:-73.9482},website:"https://www.studiomuseum.org/",tags:["Art","AfricanAmerican","Contemporary","American"],exhibits:[{id:"it-was-never-just-about-the-art",name:"It Was Never Just About the Art",type:"Temporary",start_date:"2023-11-09",end_date:"2024-03-10"},{id:"collection-highlights",name:"Collection Highlights",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=The%20Studio%20Museum%20in%20Harlem%2C%20144%20West%20125th%20Street%2C%20Manhattan%2C%20NY%2010027",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/2/21/StudioMuseumHarlem.png",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Studio Museum in Harlem",pageUrl:"https://en.wikipedia.org/wiki/Studio_Museum_in_Harlem",license:"varies (see page)"}},{id:"theodore-roosevelt-birthplace-national-historic-site",name:"Theodore Roosevelt Birthplace National Historic Site",address:"28 East 20th Street",zip:"10003",borough:"Manhattan",location:{lat:40.738,lon:-73.9893},website:"https://www.nps.gov/thrb/index.htm",tags:["History","American","Architecture"],exhibits:[{id:"theodore-roosevelt-childhood-home",name:"Theodore Roosevelt Childhood Home",type:"Permanent"},{id:"life-and-legacy-of-theodore-roosevelt",name:"Life and Legacy of Theodore Roosevelt",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Theodore%20Roosevelt%20Birthplace%20National%20Historic%20Site%2C%2028%20East%2020th%20Street%2C%20Manhattan%2C%20NY%2010003",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/4/49/Theodore_Roosevelt_Birthplace_Historic_Site_%2854572257839%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Theodore Roosevelt Birthplace National Historic Site",pageUrl:"https://en.wikipedia.org/wiki/Theodore_Roosevelt_Birthplace_National_Historic_Site",license:"varies (see page)"}},{id:"wave-hill",name:"Wave Hill",address:"4900 Independence Avenue",zip:"10471",borough:"Bronx",location:{lat:40.7161,lon:-73.9216},website:"https://www.wavehill.org/",tags:["Art","Design","American","Sculpture"],exhibits:[{id:"glyndor-gallery-exhibitions",name:"Glyndor Gallery Exhibitions",type:"Temporary"},{id:"wave-hill-gardens-art-installations",name:"Wave Hill Gardens Art Installations",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Wave%20Hill%2C%204900%20Independence%20Avenue%2C%20Bronx%2C%20NY%2010471",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/5/55/Wave_hill_house%2C_August_2019.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Wave Hill",pageUrl:"https://en.wikipedia.org/wiki/Wave_Hill",license:"varies (see page)"}},{id:"weeksville-heritage-center",name:"Weeksville Heritage Center",address:"158 Buffalo Avenue",zip:"11213",borough:"Brooklyn",location:{lat:40.672,lon:-73.9312},website:"https://www.weeksvilleseh.org/",tags:["AfricanAmerican","History","American","Architecture"],exhibits:[{id:"the-historic-houses",name:"The Historic Houses",type:"Permanent"},{id:"still-here-black-lives-in-the-21st-century",name:"Still Here: Black Lives in the 21st Century",type:"Temporary",start_date:"2024-02-15",end_date:"2024-08-31"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Weeksville%20Heritage%20Center%2C%20158%20Buffalo%20Avenue%2C%20Brooklyn%2C%20NY%2011213",pictureUrl:"https://upload.wikimedia.org/wikipedia/en/7/76/Weeksville_brooklyn_map.png",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Weeksville, Brooklyn",pageUrl:"https://en.wikipedia.org/wiki/Weeksville,_Brooklyn",license:"varies (see page)"}},{id:"whitney-museum-of-american-art",name:"Whitney Museum of American Art",address:"99 Gansevoort Street",zip:"10014",borough:"Manhattan",location:{lat:40.7397,lon:-74.0089},website:"https://whitney.org/",tags:["Art","American","Contemporary","Modern","Photography"],exhibits:[{id:"inheritance",name:"Inheritance",type:"Temporary",start_date:"2023-10-18",end_date:"2024-02-28"},{id:"artists-choose-artists-selections-from-the-permanent-collection",name:"Artists Choose Artists: Selections from the Permanent Collection",type:"Permanent"},{id:"eddy-kamau-nganga-is-this-the-place",name:"Eddy Kamau Nganga: Is This The Place?",type:"Temporary",start_date:"2024-02-09",end_date:"2024-05-26"},{id:"trust-me",name:"Trust Me",type:"Temporary",start_date:"2023-10-27",end_date:"2024-03-03"},{id:"the-collection-on-view",name:"The Collection: On View",type:"Permanent"}],googleMapsUrl:"https://www.google.com/maps/search/?api=1&query=Whitney%20Museum%20of%20American%20Art%2C%2099%20Gansevoort%20Street%2C%20Manhattan%2C%20NY%2010014",pictureUrl:"https://upload.wikimedia.org/wikipedia/commons/5/59/Whitney_Museum_of_American_Art_%2849051573133%29.jpg",pictureSource:"wikipedia",photoAttributions:{pageTitle:"Whitney Museum",pageUrl:"https://en.wikipedia.org/wiki/Whitney_Museum",license:"varies (see page)"}}],Nc=Pw,Zt=Array.isArray(Nc)?Nc.filter(e=>e&&typeof e=="object"):[],Kd={},Jd={};for(const e of Zt){const n=e.id||e._id||e.slug||e.code||e.name,i=e.name||e.title||n;n&&(Kd[n]=i),n&&(Jd[n]=e)}function Ui(e){return Kd[e]||`[Item: ${e}]`}function wn(e){return Jd[e]}function hr(e){const n=wn(e);return(n==null?void 0:n.exhibits)||[]}function ll(e,n){const i=hr(e).find(o=>o.id===n);return(i==null?void 0:i.name)||`[Exhibit: ${n}]`}function xw(){const e=new Set;for(const n of Zt)n.borough&&e.add(n.borough);return Array.from(e).sort()}function Aw(){const e=new Set;for(const n of Zt)(n.tags||[]).forEach(i=>e.add(i));return Array.from(e).sort()}function Tw(e,n={}){const i=(e||"").trim().toLowerCase(),{borough:o,tags:r}=n,l=Array.isArray(r)&&r.length>0;return Zt.filter(u=>{if(o&&u.borough!==o)return!1;if(l){const d=new Set(u.tags||[]);if(!r.some(p=>d.has(p)))return!1}return i?[u.name,u.address,u.borough,(u.tags||[]).join(" ")].filter(Boolean).join(" ").toLowerCase().includes(i):!0})}async function Mw(e,n){const{data:i}=await He.post("/Saving/saveItem",{user:e,item:n});if(i&&typeof i=="object"&&"error"in i&&i.error)throw new Error(i.error)}async function Ew(e,n){const{data:i}=await He.post("/Saving/unsaveItem",{user:e,item:n});if(i&&typeof i=="object"&&"error"in i&&i.error)throw new Error(i.error)}async function Lw(e,n){const{data:i}=await He.post("/Saving/_listSaved",{user:e});if(Array.isArray(i))return i.map(o=>o&&typeof o=="object"?o.item:void 0).filter(o=>typeof o=="string");if(i&&typeof i=="object"&&Array.isArray(i.items))return i.items.filter(o=>typeof o=="string");if(i&&typeof i=="object"&&"error"in i&&i.error)throw new Error(i.error);return[]}const Qd="museme.saved.v1";function Rw(){try{const e=localStorage.getItem(Qd),n=e?JSON.parse(e):{};return n&&typeof n=="object"?n:{}}catch{return{}}}function Oc(e){return Array.from(new Set(e))}const Zs=mi("saving",{state:()=>({savedByUser:Rw()}),getters:{savedForUser:e=>n=>e.savedByUser[n]||[],isSaved:e=>(n,i)=>(e.savedByUser[n]||[]).includes(i)},actions:{persist(){localStorage.setItem(Qd,JSON.stringify(this.savedByUser))},setSaved(e,n){this.savedByUser[e]=Oc(n),this.persist()},add(e,n){const i=this.savedByUser[e]||[];i.includes(n)||(this.savedByUser[e]=[...i,n],this.persist())},remove(e,n){const i=this.savedByUser[e]||[];this.savedByUser[e]=i.filter(o=>o!==n),this.persist()},async syncFromServer(e){try{const n=await Lw(e),i=this.savedByUser[e]||[];this.savedByUser[e]=Oc([...i,...n]),this.persist()}catch{console.warn("[SAVING] syncFromServer failed; using local state")}},async save(e,n){this.add(e,n);try{await Mw(e,n)}catch(i){throw this.remove(e,n),i}},async unsave(e,n){const i=this.isSaved(e,n);this.remove(e,n);try{await Ew(e,n)}catch(o){throw i&&this.add(e,n),o}}}});let Nw=1;const Ws=mi("toast",{state:()=>({items:[]}),actions:{show(e,n="info",i=3e3){const o=Nw++,r={id:o,kind:n,message:e,timeout:i};return this.items.push(r),window.setTimeout(()=>this.dismiss(o),i),o},success(e,n=3e3){return this.show(e,"success",n)},error(e,n=4e3){return this.show(e,"error",n)},info(e,n=3e3){return this.show(e,"info",n)},dismiss(e){const n=this.items.findIndex(i=>i.id===e);n>=0&&this.items.splice(n,1)},clear(){this.items=[]}}}),Ow={key:0,class:"content"},Iw={key:0,class:"media"},Bw=["src","alt"],Uw={class:"meta"},Fw={key:0,class:"location"},zw={key:0},$w={key:1},Dw={key:2},Hw={key:1,class:"tags"},Vw={class:"actions"},jw=["href"],Zw=["href"],Ww=["disabled","aria-pressed","title","aria-label"],qw={class:"exhibits"},Gw={key:0,class:"empty"},Yw={key:1,class:"ex-list"},Kw={class:"ex-name"},Jw={key:0,class:"ex-sub"},Qw={key:0},Xw={key:1},e0={key:2},t0={key:1},n0=We({__name:"MuseumDetailsModal",props:{modelValue:{type:Boolean},museumId:{}},emits:["update:modelValue"],setup(e,{emit:n}){const i=e,o=n,r=Le({get:()=>i.modelValue,set:A=>o("update:modelValue",A)}),l=Le(()=>i.museumId?wn(i.museumId):void 0),u=Le(()=>i.museumId?hr(i.museumId):[]),h=Le(()=>{const A=l.value;if(!A)return"#";const I=[A.address||A.name,A.borough,"New York, NY",A.zip].filter(Boolean);return`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(I.join(", "))}`});function d(A){return A.replace(/([a-z])([A-Z])/g,"$1 $2")}function m(A,I){return!A&&!I?"":A&&I?`${A}  ${I}`:A?`From ${A}`:`Until ${I}`}const p=_t(),{currentUserId:_}=tn(p),y=Zs(),k=Ws(),b=Le(()=>{var A;return _.value&&((A=l.value)!=null&&A.id)?y.isSaved(_.value,l.value.id):!1});async function w(){var I;if(!_.value||!((I=l.value)!=null&&I.id))return;const A=l.value.id;try{y.isSaved(_.value,A)?(await y.unsave(_.value,A),k.info("Removed from Saved")):(await y.save(_.value,A),k.success("Saved to bookmarks"))}catch(z){k.error((z==null?void 0:z.message)||"Failed to update saved state")}}return yt(r,async A=>{if(A&&_.value)try{await y.syncFromServer(_.value)}catch{}}),(A,I)=>{var z;return S(),vt(js,{modelValue:r.value,"onUpdate:modelValue":I[2]||(I[2]=Z=>r.value=Z),title:((z=l.value)==null?void 0:z.name)||"Museum"},{default:st(()=>{var Z,U;return[l.value?(S(),x("div",Ow,[l.value.pictureUrl?(S(),x("div",Iw,[g("img",{src:l.value.pictureUrl,alt:l.value.name+" photo"},null,8,Bw)])):ae("",!0),g("div",Uw,[l.value.borough||l.value.address?(S(),x("p",Fw,[l.value.borough?(S(),x("span",zw,oe(l.value.borough),1)):ae("",!0),l.value.address?(S(),x("span",$w,"  "+oe(l.value.address),1)):ae("",!0),l.value.zip?(S(),x("span",Dw,"  "+oe(l.value.zip),1)):ae("",!0)])):ae("",!0),(Z=l.value.tags)!=null&&Z.length?(S(),x("div",Hw,[(S(!0),x(Ce,null,Ve(l.value.tags,V=>(S(),x("span",{key:V,class:"tag"},oe(d(V)),1))),128))])):ae("",!0),g("div",Vw,[g("a",{class:"icon-link",href:h.value,target:"_blank",rel:"noopener","aria-label":"Directions",title:"Directions"},[me(nt,{name:"map-pin",size:18})],8,jw),l.value.website?(S(),x("a",{key:0,class:"icon-link",href:l.value.website,target:"_blank",rel:"noopener","aria-label":"Website",title:"Website"},[me(nt,{name:"globe",size:18})],8,Zw)):ae("",!0),g("button",{class:"save-btn",disabled:!Pe(_)||!((U=l.value)!=null&&U.id),onClick:I[0]||(I[0]=V=>w()),"aria-pressed":b.value?"true":"false",title:Pe(_)?b.value?"Unsave":"Save":"Login to save","aria-label":Pe(_)?b.value?"Unsave":"Save":"Login to save"},[me(nt,{name:"bookmark",size:18})],8,Ww)])]),g("div",qw,[I[3]||(I[3]=g("h4",null,"Exhibits",-1)),u.value.length===0?(S(),x("p",Gw,"No exhibits listed.")):(S(),x("ul",Yw,[(S(!0),x(Ce,null,Ve(u.value,V=>(S(),x("li",{key:V.id,class:"ex"},[g("div",Kw,oe(V.name),1),V.start_date||V.end_date||V.type||V.gallery?(S(),x("div",Jw,[V.type?(S(),x("span",Qw,oe(V.type),1)):ae("",!0),V.gallery?(S(),x("span",Xw,"  "+oe(V.gallery),1)):ae("",!0),V.start_date||V.end_date?(S(),x("span",e0,"  "+oe(m(V.start_date,V.end_date)),1)):ae("",!0)])):ae("",!0)]))),128))]))])])):(S(),x("div",t0,[...I[4]||(I[4]=[g("p",{class:"empty"},"Unknown museum.",-1)])]))]}),actions:st(()=>[g("button",{class:"btn",onClick:I[1]||(I[1]=Z=>o("update:modelValue",!1))},"Close")]),_:1},8,["modelValue","title"])}}}),ul=Je(n0,[["__scopeId","data-v-bb2aaafa"]]),i0=We({__name:"MapButton",setup(e){const n=ue(!1),i=ue(!1),o=ue(null),r=Zt;function l(u){o.value=u,i.value=!0}return(u,h)=>(S(),x("div",null,[g("button",{class:"map-fab",onClick:h[0]||(h[0]=d=>n.value=!0),"aria-label":"Open map"},[me(nt,{name:"map-pin",size:22,stroke:2})]),me(js,{modelValue:n.value,"onUpdate:modelValue":h[2]||(h[2]=d=>n.value=d),title:"Map"},{default:st(()=>[me(Cw,{museums:Pe(r),height:"70vh",onOpen:l},null,8,["museums"]),me(ul,{modelValue:i.value,"onUpdate:modelValue":h[1]||(h[1]=d=>i.value=d),"museum-id":o.value},null,8,["modelValue","museum-id"])]),_:1},8,["modelValue"])]))}}),s0=Je(i0,[["__scopeId","data-v-58cf59de"]]),o0=We({__name:"ScrollTopButton",setup(e){const n=ue(!1);function i(){n.value=typeof window<"u"&&window.scrollY>320}function o(){typeof window<"u"&&window.scrollTo({top:0,behavior:"smooth"})}return ut(()=>{typeof window<"u"&&(window.addEventListener("scroll",i,{passive:!0}),i())}),Us(()=>{typeof window<"u"&&window.removeEventListener("scroll",i)}),(r,l)=>tt((S(),x("button",{class:"scrolltop-fab",onClick:o,"aria-label":"Scroll to top"},[me(nt,{name:"arrow-up",size:20,stroke:2})],512)),[[Mg,n.value]])}}),r0=Je(o0,[["__scopeId","data-v-5c1d891c"]]),a0={class:"toaster",role:"status","aria-live":"polite","aria-atomic":"false"},l0={class:"msg"},u0=["onClick"],c0=We({__name:"Toaster",setup(e){const n=Ws();return(i,o)=>(S(),x("div",a0,[me(Zg,{name:"toast-slide",tag:"div",class:"stack"},{default:st(()=>[(S(!0),x(Ce,null,Ve(Pe(n).items,r=>(S(),x("div",{key:r.id,class:Rt(["toast",r.kind]),role:"alert"},[o[0]||(o[0]=g("div",{class:"dot","aria-hidden":"true"},null,-1)),g("div",l0,oe(r.message),1),g("button",{class:"x",onClick:l=>Pe(n).dismiss(r.id),"aria-label":"Dismiss notification"},"",8,u0)],2))),128))]),_:1})]))}}),h0=Je(c0,[["__scopeId","data-v-4147c8bb"]]),d0={class:"app"},f0={class:"app-header"},p0={class:"logo"},m0=["src"],g0={class:"nav"},_0={class:"app-main"},v0=We({__name:"App",setup(e){const n=_t(),i=al(),o=ue("");function r(){const l=o.value.trim();l&&i.push({name:"search",query:{q:l}})}return(l,u)=>{const h=fa("RouterLink"),d=fa("RouterView");return S(),x("div",d0,[g("header",f0,[g("h1",p0,[me(h,{to:"/",class:"logo-link","aria-label":"MuseMe home"},{default:st(()=>[g("img",{src:Pe(Ky),alt:"MuseMe",class:"logo-img"},null,8,m0),u[1]||(u[1]=g("span",{class:"logo-title"},"MuseMe",-1))]),_:1})]),g("form",{class:"searchbar",role:"search",onSubmit:zt(r,["prevent"])},[tt(g("input",{"onUpdate:modelValue":u[0]||(u[0]=m=>o.value=m),type:"search",placeholder:"Search users, museums, tags","aria-label":"Search"},null,512),[[Ft,o.value,void 0,{trim:!0}]])],32),g("nav",g0,[me(h,{to:"/spotlight",class:"nav-link","aria-label":"Spotlight"},{default:st(()=>[...u[2]||(u[2]=[g("svg",{class:"icon-svg",viewBox:"0 0 24 24","aria-hidden":"true"},[g("polygon",{points:"13,2 8,14 12,14 11,22 16,10 12,10"})],-1),g("span",{class:"label"},"Spotlight",-1)])]),_:1}),Pe(n).isAuthenticated?(S(),vt(h,{key:0,to:"/feed",class:"nav-link","aria-label":"Friends feed"},{default:st(()=>[...u[3]||(u[3]=[g("svg",{class:"icon-svg",viewBox:"0 0 24 24","aria-hidden":"true"},[g("circle",{cx:"7",cy:"8",r:"3"}),g("circle",{cx:"17",cy:"8",r:"3"}),g("path",{d:"M2 20a5 5 0 0 1 10 0"}),g("path",{d:"M12 20a5 5 0 0 1 10 0"})],-1),g("span",{class:"label"},"Feed",-1)])]),_:1})):ae("",!0),Pe(n).isAuthenticated?ae("",!0):(S(),vt(h,{key:1,to:"/auth",class:"nav-link","aria-label":"Login / Sign up"},{default:st(()=>[...u[4]||(u[4]=[g("svg",{class:"icon-svg",viewBox:"0 0 24 24","aria-hidden":"true"},[g("rect",{x:"4",y:"10",width:"16",height:"10",rx:"2"}),g("path",{d:"M8 10V7a4 4 0 0 1 8 0v3"})],-1),g("span",{class:"label"},"Login / Sign up",-1)])]),_:1})),Pe(n).isAuthenticated?(S(),vt(h,{key:2,to:"/showcase",class:"nav-link","aria-label":"Showcase"},{default:st(()=>[...u[5]||(u[5]=[g("svg",{class:"icon-svg",viewBox:"0 0 24 24","aria-hidden":"true"},[g("rect",{x:"3",y:"4",width:"18",height:"14",rx:"2"}),g("polyline",{points:"7,14 10,11 13,13 16,9 20,14"})],-1),g("span",{class:"label"},"Showcase",-1)])]),_:1})):ae("",!0),Pe(n).isAuthenticated?(S(),vt(h,{key:3,to:"/profile",class:"nav-link","aria-label":"Profile"},{default:st(()=>[...u[6]||(u[6]=[g("svg",{class:"icon-svg",viewBox:"0 0 24 24","aria-hidden":"true"},[g("circle",{cx:"12",cy:"8",r:"4"}),g("path",{d:"M4 20a8 8 0 0 1 16 0"})],-1),g("span",{class:"label"},"Profile",-1)])]),_:1})):ae("",!0)])]),g("main",_0,[me(Bi,{name:"route-fade-slide",mode:"out-in"},{default:st(()=>[me(d)]),_:1})]),me(yw),me(s0),me(r0),me(h0)])}}}),y0=Je(v0,[["__scopeId","data-v-f1cd9b26"]]),w0={class:"field"},b0={class:"field"},k0={class:"actions"},S0=["disabled"],C0={key:0,class:"error"},P0=We({__name:"LoginForm",emits:["authed"],setup(e,{emit:n}){const i=_t(),{loading:o}=tn(i),r=ue(""),l=ue(""),u=ue(null),h=Le(()=>u.value||i.error);async function d(){var p,_;if(!(!r.value||!l.value)){u.value=null,i.clearError();try{await i.login(r.value,l.value),m("authed")}catch(y){u.value=((_=(p=y==null?void 0:y.response)==null?void 0:p.data)==null?void 0:_.error)||i.error||"Login failed. Please check your credentials.",console.error("Login failed:",y)}}}const m=n;return(p,_)=>(S(),x("form",{class:"form",onSubmit:zt(d,["prevent"])},[g("label",w0,[_[2]||(_[2]=g("span",{class:"label"},"Username",-1)),tt(g("input",{"onUpdate:modelValue":_[0]||(_[0]=y=>r.value=y),autocomplete:"username",required:""},null,512),[[Ft,r.value,void 0,{trim:!0}]])]),g("label",b0,[_[3]||(_[3]=g("span",{class:"label"},"Password",-1)),tt(g("input",{"onUpdate:modelValue":_[1]||(_[1]=y=>l.value=y),type:"password",autocomplete:"current-password",required:""},null,512),[[Ft,l.value,void 0,{trim:!0}]])]),g("div",k0,[g("button",{type:"submit",class:"primary",disabled:Pe(o)},oe(Pe(o)?"Logging in":"Login"),9,S0)]),h.value?(S(),x("p",C0,oe(h.value),1)):ae("",!0)],32))}}),x0=Je(P0,[["__scopeId","data-v-108a16a5"]]),A0="modulepreload",T0=function(e){return"/"+e},Ic={},M0=function(n,i,o){let r=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));r=Promise.allSettled(i.map(d=>{if(d=T0(d),d in Ic)return;Ic[d]=!0;const m=d.endsWith(".css"),p=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const _=document.createElement("link");if(_.rel=m?"stylesheet":A0,m||(_.as="script"),_.crossOrigin="",_.href=d,h&&_.setAttribute("nonce",h),document.head.appendChild(_),m)return new Promise((y,k)=>{_.addEventListener("load",y),_.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${d}`)))})}))}function l(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return r.then(u=>{for(const h of u||[])h.status==="rejected"&&l(h.reason);return n().catch(l)})},E0={class:"field"},L0={class:"grid-2"},R0={class:"field"},N0={class:"field"},O0={class:"field"},I0={key:0,class:"hint"},B0={class:"actions"},U0=["disabled"],F0={key:0,class:"error"},z0=We({__name:"RegisterForm",emits:["authed"],setup(e,{emit:n}){const i=_t(),{loading:o}=tn(i),r=ue(""),l=ue(""),u=ue(""),h=ue(""),d=ue(null),m=ue(null),p=ue(null),_=Le(()=>p.value||i.error);async function y(){var A,I,z,Z;if(!(!r.value||!h.value||!l.value||!u.value)){p.value=null,i.clearError();try{await i.register(r.value,h.value);try{const{useProfileStore:U}=await M0(async()=>{const{useProfileStore:X}=await Promise.resolve().then(()=>M2);return{useProfileStore:X}},void 0),V=U();if(await V.addName(l.value,u.value),d.value){const X=await w(d.value);await V.addProfilePicture(X)}}catch(U){console.error("Post-register profile setup failed:",U),p.value=((I=(A=U==null?void 0:U.response)==null?void 0:A.data)==null?void 0:I.error)||(U==null?void 0:U.message)||null}k("authed")}catch(U){p.value=((Z=(z=U==null?void 0:U.response)==null?void 0:z.data)==null?void 0:Z.error)||i.error||"Registration failed. Please try a different username.",console.error("Registration failed:",U)}}}const k=n;function b(A){var Z;const z=((Z=A.target.files)==null?void 0:Z[0])||null;if(d.value=null,m.value=null,!!z){if(!z.type.startsWith("image/")){p.value="Please choose an image file.";return}w(z,512).then(U=>{m.value=U,d.value=z}).catch(U=>{console.error("Preview failed",U),p.value="Could not process image."})}}async function w(A,I=512){const z=await A.arrayBuffer(),Z=URL.createObjectURL(new Blob([z],{type:A.type||"application/octet-stream"}));try{const U=await new Promise(($,F)=>{const N=new Image;N.onload=()=>$(N),N.onerror=F,N.src=Z}),{width:V,height:X}=U,re=Math.min(1,I/Math.max(V,X)),fe=Math.max(1,Math.round(V*re)),G=Math.max(1,Math.round(X*re)),ge=document.createElement("canvas");ge.width=fe,ge.height=G;const pe=ge.getContext("2d");if(!pe)throw new Error("Canvas not supported");pe.drawImage(U,0,0,fe,G);const J=A.type.includes("png")?"image/png":"image/jpeg";return ge.toDataURL(J,.9)}finally{URL.revokeObjectURL(Z)}}return(A,I)=>(S(),x("form",{class:"form",onSubmit:zt(y,["prevent"])},[g("label",E0,[I[4]||(I[4]=g("span",{class:"label"},"Username",-1)),tt(g("input",{"onUpdate:modelValue":I[0]||(I[0]=z=>r.value=z),autocomplete:"username",required:""},null,512),[[Ft,r.value,void 0,{trim:!0}]])]),g("div",L0,[g("label",R0,[I[5]||(I[5]=g("span",{class:"label"},"First name",-1)),tt(g("input",{"onUpdate:modelValue":I[1]||(I[1]=z=>l.value=z),autocomplete:"given-name",required:""},null,512),[[Ft,l.value,void 0,{trim:!0}]])]),g("label",N0,[I[6]||(I[6]=g("span",{class:"label"},"Last name",-1)),tt(g("input",{"onUpdate:modelValue":I[2]||(I[2]=z=>u.value=z),autocomplete:"family-name",required:""},null,512),[[Ft,u.value,void 0,{trim:!0}]])])]),g("label",O0,[I[7]||(I[7]=g("span",{class:"label"},"Password",-1)),tt(g("input",{"onUpdate:modelValue":I[3]||(I[3]=z=>h.value=z),type:"password",autocomplete:"new-password",required:""},null,512),[[Ft,h.value,void 0,{trim:!0}]])]),g("details",null,[I[8]||(I[8]=g("summary",null,"Optional: upload a profile picture",-1)),g("input",{type:"file",accept:"image/*",onChange:b},null,32),m.value?(S(),x("p",I0,"Preview ready (will be uploaded as part of registration)")):ae("",!0)]),g("div",B0,[g("button",{type:"submit",class:"primary",disabled:Pe(o)},oe(Pe(o)?"Registering":"Register"),9,U0)]),_.value?(S(),x("p",F0,oe(_.value),1)):ae("",!0)],32))}}),$0=Je(z0,[["__scopeId","data-v-e8ecffb2"]]),D0={class:"auth-shell"},H0={class:"auth-card card"},V0={class:"seg-tabs",role:"tablist","aria-label":"Choose authentication action"},j0=["aria-selected"],Z0=["aria-selected"],W0={class:"panel"},q0=We({__name:"AuthPage",setup(e){const n=ue("login"),i=al();function o(){i.push({name:"spotlight"})}return(r,l)=>(S(),x("div",D0,[g("div",H0,[l[2]||(l[2]=g("header",{class:"auth-head"},[g("h2",null,"Welcome to MuseMe"),g("p",{class:"sub"},"Sign in or create an account to save, review, and discover curated picks.")],-1)),g("div",V0,[g("button",{class:Rt(["seg-btn",{active:n.value==="login"}]),role:"tab","aria-selected":n.value==="login"?"true":"false",onClick:l[0]||(l[0]=u=>n.value="login")},"Login",10,j0),g("button",{class:Rt(["seg-btn",{active:n.value==="register"}]),role:"tab","aria-selected":n.value==="register"?"true":"false",onClick:l[1]||(l[1]=u=>n.value="register")},"Register",10,Z0)]),g("section",W0,[n.value==="login"?(S(),vt(x0,{key:0,onAuthed:o})):(S(),vt($0,{key:1,onAuthed:o}))])])]))}}),G0=Je(q0,[["__scopeId","data-v-b8c9fab1"]]);async function cl(e){const{data:n}=await He.post("/Following/_getFollowers",{user:e});if(Array.isArray(n))return n.map(i=>i&&typeof i=="object"?i.follower:null).filter(i=>typeof i=="string");if(n&&typeof n=="object"&&Array.isArray(n.followers)){const i=n.followers;return i.length&&typeof i[0]=="object"?i.map(o=>o&&typeof o=="object"?o.follower:null).filter(o=>typeof o=="string"):i.filter(o=>typeof o=="string")}return[]}async function dr(e){const{data:n}=await He.post("/Following/_getFollowees",{user:e});if(Array.isArray(n))return n.map(i=>i&&typeof i=="object"?i.followee:null).filter(i=>typeof i=="string");if(n&&typeof n=="object"&&Array.isArray(n.followees)){const i=n.followees;return i.length&&typeof i[0]=="object"?i.map(o=>o&&typeof o=="object"?o.followee:null).filter(o=>typeof o=="string"):i.filter(o=>typeof o=="string")}return[]}async function Y0(e,n){const{data:i}=await He.post("/Following/follow",{follower:e,followee:n});if(i&&typeof i=="object"&&"error"in i&&i.error){const o=String(i.error||"Follow failed");if(!/already\s+following/i.test(o))throw new Error(o)}try{window.dispatchEvent(new CustomEvent("following-changed",{detail:{action:"follow",follower:e,followee:n}}))}catch{}}async function Xd(e,n){const{data:i}=await He.post("/Following/unfollow",{follower:e,followee:n});if(i&&typeof i=="object"&&"error"in i&&i.error){const o=i.error;throw new Error(o||"Unfollow failed")}try{window.dispatchEvent(new CustomEvent("following-changed",{detail:{action:"unfollow",follower:e,followee:n}}))}catch{}}const fs=new Map,ra=new Map;async function K0(e){var n;try{const i=e.trim();if(!i)return null;if(fs.has(i))return fs.get(i);const{data:o}=await He.post("/Following/_getUserIdByUsername",{username:e});if(o&&typeof o=="object"){if("error"in o&&o.error)return null;if("user"in o){const r=o.user;return r&&fs.set(i,r),r}}if(Array.isArray(o)&&o.length>0){const r=o[0];if(r&&typeof r=="object"&&"user"in r){const l=r.user;return l&&fs.set(i,l),l}}return null}catch(i){throw((n=i==null?void 0:i.response)==null?void 0:n.status)===404?new Error("Username lookup endpoint not available (404)"):i}}async function Na(e){var o;const n=e.trim();if(!n)return null;if(ra.has(n))return ra.get(n);const i=["/Following/_getUsernameByUserId","/UserAuthentication/_getUsernameByUserId"];for(const r of i)try{const{data:l}=await He.post(r,{user:n});let h=(d=>{if(!d)return null;if(Array.isArray(d)){const m=d[0];if(m&&typeof m=="object"){if("username"in m&&m.username)return String(m.username);if("name"in m&&m.name)return String(m.name)}return null}if(typeof d=="object"){if("error"in d&&d.error)return null;if("username"in d&&d.username)return String(d.username);if("name"in d&&d.name)return String(d.name)}return null})(l);if(!h&&l&&typeof l=="object"){const d=l.profile;d&&typeof d=="object"&&(d.username?h=String(d.username):(d.firstName||d.lastName)&&(h=String([d.firstName,d.lastName].filter(Boolean).join(" "))))}if(h)return ra.set(n,h),fs.set(h,n),h}catch(l){if(((o=l==null?void 0:l.response)==null?void 0:o.status)!==404)throw l}return null}const J0=mi("users",{state:()=>({idToUsername:{},usernameToId:{}}),getters:{getUsername:e=>n=>e.idToUsername[n],getUserId:e=>n=>e.usernameToId[n]},actions:{setMapping(e,n){!e||!n||(this.idToUsername[e]=n,this.usernameToId[n]=e)},setMany(e){for(const{id:n,username:i}of e)this.setMapping(n,i)}}}),Q0={class:"following"},X0={key:0,class:"error"},eb={class:"cards"},tb={key:0,class:"column"},nb={key:0,class:"col-head"},ib={class:"count"},sb={class:"search"},ob={key:1,class:"banner empty"},rb={key:2,class:"people"},ab={class:"who"},lb={class:"avatar","aria-hidden":"true"},ub={class:"name"},cb={key:0,class:"pill"},hb={key:1,class:"column"},db={key:0,class:"col-head"},fb={class:"count"},pb={class:"search"},mb={key:1,class:"banner empty"},gb={key:2,class:"people"},_b={class:"who"},vb={class:"avatar","aria-hidden":"true"},yb={class:"name"},wb={class:"actions"},bb=["onClick","disabled"],kb=We({__name:"FollowingPanel",props:{userId:{},username:{},mode:{}},emits:["changed"],setup(e,{emit:n}){const i=e,o=n,r=ue([]),l=ue([]),u=ue(null),h=ue(!1),d=J0(),m=Ws(),p=ue(""),_=ue(""),y=Le(()=>{const U=new Set(l.value),V=new Set;for(const X of r.value)U.has(X)&&V.add(X);return V});async function k(){var U,V;u.value=null;try{const[X,re]=await Promise.all([cl(i.userId),dr(i.userId)]);r.value=X,l.value=re;const fe=[...new Set([...X,...re].filter(G=>!d.getUsername(G)))];for(const G of fe)try{const ge=await Na(G);ge&&d.setMapping(G,ge)}catch{}}catch(X){u.value=((V=(U=X==null?void 0:X.response)==null?void 0:U.data)==null?void 0:V.error)||(X==null?void 0:X.message)||"Failed to load following data"}}async function b(U){var V,X;h.value=!0,u.value=null;try{await Xd(i.userId,U),await k(),o("changed");const re=A(U);m.success(`Unfollowed ${re||"user"}`)}catch(re){u.value=((X=(V=re==null?void 0:re.response)==null?void 0:V.data)==null?void 0:X.error)||(re==null?void 0:re.message)||"Unfollow failed"}finally{h.value=!1}}ut(k);const w=()=>k();ut(()=>{window.addEventListener("following-changed",w)}),Fs(()=>{window.removeEventListener("following-changed",w)});function A(U){const V=d.getUsername(U);return V||(Na(U).then(X=>{X&&d.setMapping(U,X)}).catch(()=>{}),"unknown")}function I(U){return((U==null?void 0:U[0])||"?").toUpperCase()}const z=Le(()=>{const U=p.value.trim().toLowerCase();return U?r.value.filter(V=>A(V).toLowerCase().includes(U)||V.toLowerCase().includes(U)):r.value}),Z=Le(()=>{const U=_.value.trim().toLowerCase();return U?l.value.filter(V=>A(V).toLowerCase().includes(U)||V.toLowerCase().includes(U)):l.value});return(U,V)=>(S(),x("div",Q0,[u.value?(S(),x("p",X0,oe(u.value),1)):ae("",!0),g("div",eb,[(i.mode??"both")!=="following"?(S(),x("section",tb,[(i.mode??"both")==="both"?(S(),x("header",nb,[V[2]||(V[2]=g("h3",null,"Followers",-1)),g("span",ib,oe(r.value.length),1)])):ae("",!0),g("div",sb,[tt(g("input",{"onUpdate:modelValue":V[0]||(V[0]=X=>p.value=X),placeholder:"Search followers"},null,512),[[Ft,p.value,void 0,{trim:!0}]])]),r.value.length===0?(S(),x("p",ob,"No followers yet.")):(S(),x("ul",rb,[(S(!0),x(Ce,null,Ve(z.value,X=>(S(),x("li",{key:X,class:"person"},[g("div",ab,[g("span",lb,oe(I(A(X))),1),g("span",ub,oe(A(X)),1)]),y.value.has(X)?(S(),x("span",cb,"Mutual")):ae("",!0)]))),128))]))])):ae("",!0),(i.mode??"both")!=="followers"?(S(),x("section",hb,[(i.mode??"both")==="both"?(S(),x("header",db,[V[3]||(V[3]=g("h3",null,"Following",-1)),g("span",fb,oe(l.value.length),1)])):ae("",!0),g("div",pb,[tt(g("input",{"onUpdate:modelValue":V[1]||(V[1]=X=>_.value=X),placeholder:"Search following"},null,512),[[Ft,_.value,void 0,{trim:!0}]])]),l.value.length===0?(S(),x("p",mb,"You arent following anyone yet.")):(S(),x("ul",gb,[(S(!0),x(Ce,null,Ve(Z.value,X=>(S(),x("li",{key:X,class:"person"},[g("div",_b,[g("span",vb,oe(I(A(X))),1),g("span",yb,oe(A(X)),1)]),g("div",wb,[g("button",{class:"ghost unfollow-btn",onClick:re=>b(X),disabled:h.value},"Unfollow",8,bb)])]))),128))]))])):ae("",!0)])]))}}),Sb=Je(kb,[["__scopeId","data-v-51878e17"]]);async function Cb(e){const{data:n}=await He.post("/UserPreferences/_getPreferencesForUser",{user:e});return Array.isArray(n)?n.map(i=>i==null?void 0:i.tag).filter(i=>typeof i=="string"):n&&typeof n=="object"&&Array.isArray(n.tags)?n.tags.filter(i=>typeof i=="string"):[]}async function Pb(e,n){await He.post("/UserPreferences/addPreference",{user:e,tag:n})}async function xb(e,n){await He.post("/UserPreferences/removePreference",{user:e,tag:n})}const ef="museme.prefs.v1";function Ab(){try{const e=localStorage.getItem(ef),n=e?JSON.parse(e):{};return n&&typeof n=="object"?n:{}}catch{return{}}}function aa(e){return Array.from(new Set(e))}const tf=mi("preferences",{state:()=>({prefsByUser:Ab()}),getters:{tagsForUser:e=>n=>e.prefsByUser[n]||[]},actions:{persist(){localStorage.setItem(ef,JSON.stringify(this.prefsByUser))},setTags(e,n){this.prefsByUser[e]=aa(n),this.persist()},mergeTags(e,n){const i=this.prefsByUser[e]||[];this.prefsByUser[e]=aa([...i,...n]),this.persist()},addTag(e,n){const i=this.prefsByUser[e]||[];i.includes(n)||(this.prefsByUser[e]=[...i,n],this.persist())},removeTag(e,n){const i=this.prefsByUser[e]||[];this.prefsByUser[e]=i.filter(o=>o!==n),this.persist()},async syncFromServer(e){try{const n=await Cb(e),i=this.prefsByUser[e]||[],o=aa([...i,...n]);this.prefsByUser[e]=o,this.persist()}catch{console.warn("[PREFERENCES] syncFromServer failed; using local state")}}}}),Tb={class:"prefs"},Mb=["onClick","disabled"],Eb={class:"chips"},Lb=["onClick","disabled"],Rb={key:0,class:"success"},Nb={key:1,class:"error"},Ob=We({__name:"PreferencesPanel",props:{userId:{}},setup(e){const n=e,i=tf(),o=Le(()=>i.tagsForUser(n.userId)),r=ue(!1),l=ue(null),u=ue(null),h=["Art","Contemporary","Modern","Classical","Sculpture","Photography","Design","History","Science","Children","NaturalHistory","Technology","Maritime","Immigration","AfricanAmerican","Asian","Hispanic","American","Aviation","Transit","PerformingArts","Film","Architecture","Literature"],d=Le(()=>h.filter(y=>!o.value.includes(y)));async function m(){l.value=null,await i.syncFromServer(n.userId)}async function p(y){var k,b;if(o.value.includes(y)){u.value=null,l.value="Tag already added";return}r.value=!0,l.value=null,u.value=null;try{i.addTag(n.userId,y),await Pb(n.userId,y),u.value=`Added: ${y}`}catch(w){l.value=((b=(k=w==null?void 0:w.response)==null?void 0:k.data)==null?void 0:b.error)||"Failed to add tag",i.removeTag(n.userId,y)}finally{r.value=!1,u.value&&setTimeout(()=>u.value=null,1500)}}async function _(y){var b,w;r.value=!0,l.value=null,u.value=null;const k=o.value.includes(y);k&&i.removeTag(n.userId,y);try{await xb(n.userId,y),l.value=`Removed: ${y}`}catch(A){l.value=((w=(b=A==null?void 0:A.response)==null?void 0:b.data)==null?void 0:w.error)||"Failed to remove tag",k&&i.addTag(n.userId,y)}finally{r.value=!1,u.value&&setTimeout(()=>u.value=null,1500),l.value&&l.value.startsWith("Removed: ")&&setTimeout(()=>{var A;(A=l.value)!=null&&A.startsWith("Removed: ")&&(l.value=null)},1500)}}return ut(m),(y,k)=>(S(),x("div",null,[k[1]||(k[1]=g("h3",null,"Preferences",-1)),k[2]||(k[2]=g("p",{class:"explain"},"Add a few tags to personalize your recommendations and Spotlight picks.",-1)),g("div",Tb,[g("div",null,[g("h4",null,"My Tags ("+oe(o.value.length)+")",1),g("ul",null,[(S(!0),x(Ce,null,Ve(o.value,b=>(S(),x("li",{key:b},[At(oe(b)+" ",1),g("button",{class:"link",onClick:w=>_(b),disabled:r.value},"remove",8,Mb)]))),128))])]),g("div",null,[k[0]||(k[0]=g("h4",null,"Add Tag",-1)),g("div",Eb,[(S(!0),x(Ce,null,Ve(d.value,b=>(S(),x("button",{key:b,class:"chip",onClick:w=>p(b),disabled:r.value}," + "+oe(b),9,Lb))),128))])])]),u.value?(S(),x("p",Rb,oe(u.value),1)):ae("",!0),l.value?(S(),x("p",Nb,oe(l.value),1)):ae("",!0)]))}}),Ib=Je(Ob,[["__scopeId","data-v-9eb5052d"]]);async function fr(e){const{data:n}=await He.post("/Reviewing/_getReviewsByUser",{user:e}),i=Array.isArray(n)?n.map(o=>(o==null?void 0:o.review)||o):[];return i.length?i.filter(o=>o&&typeof o=="object"&&o.item&&o.stars!=null):n&&typeof n=="object"&&Array.isArray(n.reviews)?n.reviews.filter(o=>o&&typeof o=="object"&&o.item&&o.stars!=null):[]}async function Bb(e,n,i,o){if(o===void 0||o.trim()==="")throw new Error("Review note is required");if(typeof i!="number"||i<1||i>5)throw new Error("Stars must be between 1 and 5");const r={user:e,item:n,stars:i,note:o.trim()},{data:l}=await He.post("/Reviewing/upsertReview",r);if(l&&l.error)throw new Error(l.error)}const Ub={class:"title"},Fb={class:"stars"},zb={key:0,class:"note"},$b={class:"meta"},Db={key:0},Hb={key:1,class:"error"},Vb=We({__name:"ReviewsPanel",props:{userId:{}},setup(e){const n=e,i=ue([]),o=ue(!1),r=ue(null);function l(h){return Ui(h)}async function u(){var h,d;o.value=!0,r.value=null;try{i.value=await fr(n.userId)}catch(m){r.value=((d=(h=m==null?void 0:m.response)==null?void 0:h.data)==null?void 0:d.error)||"Failed to load reviews"}finally{o.value=!1}}return ut(u),(h,d)=>(S(),x("div",null,[d[0]||(d[0]=g("h3",null,"My Reviews",-1)),g("ul",null,[(S(!0),x(Ce,null,Ve(i.value,m=>(S(),x("li",{key:m._id,class:"review"},[g("div",Ub,[g("strong",null,oe(l(m.item)),1),g("span",Fb,oe("".repeat(m.stars))+oe("".repeat(Math.max(0,5-m.stars))),1)]),m.note?(S(),x("p",zb,oe(m.note),1)):ae("",!0),g("small",$b,"Updated "+oe(new Date(m.updatedAt).toLocaleString()),1)]))),128))]),!o.value&&!i.value.length?(S(),x("p",Db,"No reviews yet.")):ae("",!0),r.value?(S(),x("p",Hb,oe(r.value),1)):ae("",!0)]))}}),jb=Je(Vb,[["__scopeId","data-v-8080b04f"]]),Zb={key:0,class:"media frame"},Wb=["src","alt"],qb={class:"title"},Gb={class:"meta"},Yb={key:0},Kb={key:1},Jb={key:2},Qb={key:1,class:"tags"},Xb={key:0,class:"link"},e2=["href"],t2={class:"link"},n2=["href"],i2=["disabled","title","aria-pressed"],s2=["fill","stroke"],o2={key:1,class:"museum-card"},r2={class:"meta"},a2=We({__name:"MuseumCard",props:{museumId:{},showSave:{type:Boolean},variant:{default:"default"}},emits:["open"],setup(e,{emit:n}){const i=n,o=e,r=Le(()=>wn(o.museumId));function l(b){return b.replace(/([a-z])([A-Z])/g,"$1 $2")}const u=Le(()=>{const b=r.value;if(!b)return"#";const w=[b.address||b.name,b.borough,"New York, NY",b.zip].filter(Boolean);return`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(w.join(", "))}`});function h(b){const w=b.target;w&&w.classList.add("is-loaded")}function d(){i("open",o.museumId)}const m=_t(),{currentUserId:p}=tn(m),_=Zs();function y(b){return p.value?_.isSaved(p.value,b):!1}async function k(){if(!p.value||!r.value)return;const b=r.value.id;if(y(b))try{await _.unsave(p.value,b)}catch(w){alert((w==null?void 0:w.message)||"Failed to unsave")}else try{await _.save(p.value,b)}catch(w){alert((w==null?void 0:w.message)||"Failed to save")}}return(b,w)=>{var A;return r.value?(S(),x("article",{key:0,class:Rt(["museum-card",e.variant==="burgundy"?"burgundy":""]),onClick:d},[r.value.pictureUrl?(S(),x("div",Zb,[g("img",{src:r.value.pictureUrl,alt:r.value.name+" photo",loading:"lazy",class:"fade-in-img",onLoad:h},null,40,Wb)])):ae("",!0),g("h3",qb,oe(r.value.name),1),g("p",Gb,[r.value.borough?(S(),x("span",Yb,oe(r.value.borough),1)):ae("",!0),r.value.address?(S(),x("span",Kb,"  "+oe(r.value.address),1)):ae("",!0),r.value.zip?(S(),x("span",Jb,"  "+oe(r.value.zip),1)):ae("",!0)]),(A=r.value.tags)!=null&&A.length?(S(),x("p",Qb,[(S(!0),x(Ce,null,Ve(r.value.tags,I=>(S(),x("span",{key:I,class:"tag"},oe(l(I)),1))),128))])):ae("",!0),g("div",{class:"row",onClick:w[0]||(w[0]=zt(()=>{},["stop"]))},[r.value.website?(S(),x("p",Xb,[g("a",{href:r.value.website,target:"_blank",rel:"noopener",class:"icon-link","aria-label":"Website",title:"Website"},[me(nt,{name:"globe",size:18})],8,e2)])):ae("",!0),g("p",t2,[g("a",{href:u.value,target:"_blank",rel:"noopener",class:"icon-link","aria-label":"Directions",title:"Directions"},[me(nt,{name:"map-pin",size:18})],8,n2)]),e.showSave?(S(),x("button",{key:1,class:"bookmark-btn",disabled:!Pe(p),onClick:k,title:Pe(p)?y(r.value.id)?"Unsave":"Save":"Login to save","aria-pressed":y(r.value.id)?"true":"false","aria-label":"Bookmark"},[(S(),x("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:y(r.value.id)?"currentColor":"none",stroke:y(r.value.id)?"none":"currentColor","stroke-width":"2","aria-hidden":"true"},[...w[1]||(w[1]=[g("path",{d:"M6 2h12a2 2 0 0 1 2 2v16l-8-4-8 4V4a2 2 0 0 1 2-2z"},null,-1)])],8,s2))],8,i2)):ae("",!0)])],2)):(S(),x("article",o2,[w[2]||(w[2]=g("h3",{class:"title"},"Unknown museum",-1)),g("p",r2,"ID: "+oe(e.museumId),1)]))}}}),ji=Je(a2,[["__scopeId","data-v-5059ec98"]]),l2={class:"saved-panel"},u2={key:0},c2={key:1},h2={key:2},d2={key:3,class:"list"},f2={class:"header"},p2={class:"title"},m2={class:"actions"},g2=["onClick","aria-expanded","aria-label"],_2=["onClick"],v2={key:0,class:"card-wrap"},y2=We({__name:"SavedPanel",props:{userId:{}},setup(e){const n=e,i=Zs(),o=ue(!1),r=Le(()=>i.savedForUser(n.userId));function l(p){return Ui(p)}const u=ue({});function h(p){u.value[p]=!u.value[p]}async function d(){if(n.userId){o.value=!0;try{await i.syncFromServer(n.userId)}finally{o.value=!1}}}async function m(p){try{await i.unsave(n.userId,p)}catch(_){alert((_==null?void 0:_.message)||"Failed to unsave")}}return ut(()=>{n.userId&&d()}),(p,_)=>(S(),x("div",l2,[e.userId?o.value?(S(),x("p",c2,"Loading")):r.value.length===0?(S(),x("p",h2,"No saved museums yet.")):(S(),x("ul",d2,[(S(!0),x(Ce,null,Ve(r.value,y=>(S(),x("li",{key:y,class:"row"},[g("div",f2,[g("span",p2,oe(l(y)),1),g("div",m2,[g("button",{class:"chevron-btn",onClick:k=>h(y),"aria-expanded":u.value[y]?"true":"false","aria-label":u.value[y]?"Collapse":"Expand",title:"Toggle details"},[(S(),x("svg",{class:Rt(["chevron",{rotated:u.value[y]}]),viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[..._[0]||(_[0]=[g("polyline",{points:"6 9 12 15 18 9"},null,-1)])],2))],8,g2),g("button",{class:"bookmark-btn",onClick:zt(k=>m(y),["stop"]),"aria-label":"Unsave",title:"Unsave","aria-pressed":"true"},[..._[1]||(_[1]=[g("svg",{viewBox:"0 0 24 24",width:"20",height:"20",fill:"currentColor",stroke:"none","aria-hidden":"true"},[g("path",{d:"M6 2h12a2 2 0 0 1 2 2v16l-8-4-8 4V4a2 2 0 0 1 2-2z"})],-1)])],8,_2)])]),me(Bi,{name:"fade-slide"},{default:st(()=>[u.value[y]?(S(),x("div",v2,[me(ji,{"museum-id":y},null,8,["museum-id"])])):ae("",!0)]),_:2},1024)]))),128))])):(S(),x("p",u2,"Not authenticated."))]))}}),w2=Je(y2,[["__scopeId","data-v-c8d4cd4a"]]),b2=["aria-label"],k2=["src","alt"],S2={key:1,"aria-hidden":"true"},C2=We({__name:"Avatar",props:{firstName:{},lastName:{},username:{},url:{},size:{}},setup(e){const n=e,i=Le(()=>`${n.size??72}px`),o=Le(()=>`${Math.max(12,Math.floor((n.size??72)*.36))}px`);function r(p,_,y){var I,z,Z,U;const k=(((I=p==null?void 0:p.trim())==null?void 0:I[0])||"").toUpperCase(),b=(((z=_==null?void 0:_.trim())==null?void 0:z[0])||"").toUpperCase(),w=`${k}${b}`.trim();return w||((U=(Z=y==null?void 0:y.trim())==null?void 0:Z[0])==null?void 0:U.toUpperCase())||"?"}const l=Le(()=>r(n.firstName,n.lastName,n.username)),u=Le(()=>[n.firstName,n.lastName].filter(Boolean).join(" ")||(n.username?`@${n.username}`:"User")),h=ue(n.url||null);yt(()=>n.url,p=>{h.value=p||null});function d(){h.value=null}const m=Le(()=>h.value||null);return(p,_)=>(S(),x("div",{class:"avatar",style:Wi({width:i.value,height:i.value,fontSize:o.value}),"aria-label":u.value},[m.value?(S(),x("img",{key:0,src:m.value,alt:u.value,onError:d},null,40,k2)):(S(),x("span",S2,oe(l.value),1))],12,b2))}}),jo=Je(C2,[["__scopeId","data-v-df2f4a47"]]);async function hl(e){const{data:n}=await He.post("/Profile/_getProfile",{user:e});if(Array.isArray(n)&&n.length>0){const i=n[0];if(i&&typeof i=="object"&&"profile"in i)return i.profile}return n&&typeof n=="object"&&"profile"in n?n.profile:null}async function P2(e,n,i){await He.post("/Profile/addName",{user:e,firstName:n,lastName:i})}async function x2(e,n){await He.post("/Profile/addProfilePicture",{user:e,url:n})}async function A2(e,n){await He.post("/Profile/editProfilePicture",{user:e,url:n})}async function T2(e){await He.post("/Profile/removeProfilePicture",{user:e})}const nf=mi("profile",{state:()=>({profile:null,loading:!1,error:null}),getters:{hasName:e=>{var n,i;return!!((n=e.profile)!=null&&n.firstName&&((i=e.profile)!=null&&i.lastName))},fullName:e=>{var n,i;return(n=e.profile)!=null&&n.firstName&&((i=e.profile)!=null&&i.lastName)?`${e.profile.firstName} ${e.profile.lastName}`:null},initials:e=>{var r,l,u,h;const n=((l=(r=e.profile)==null?void 0:r.firstName)==null?void 0:l[0])||"",i=((h=(u=e.profile)==null?void 0:u.lastName)==null?void 0:h[0])||"";return`${n}${i}`.toUpperCase()||null}},actions:{clearError(){this.error=null},async loadForCurrentUser(){var e,n;this.loading=!0,this.error=null;try{const o=_t().currentUserId;if(!o){this.profile=null;return}const r=await hl(o);this.profile=r}catch(i){throw this.error=((n=(e=i==null?void 0:i.response)==null?void 0:e.data)==null?void 0:n.error)||(i==null?void 0:i.message)||"Failed to load profile",i}finally{this.loading=!1}},async addName(e,n){var i,o;this.loading=!0,this.error=null;try{const l=_t().currentUserId;if(!l)throw new Error("Not authenticated");await P2(l,e.trim(),n.trim()),await this.loadForCurrentUser()}catch(r){throw this.error=((o=(i=r==null?void 0:r.response)==null?void 0:i.data)==null?void 0:o.error)||(r==null?void 0:r.message)||"Failed to save name",r}finally{this.loading=!1}},async addProfilePicture(e){var n,i;this.loading=!0,this.error=null;try{const r=_t().currentUserId;if(!r)throw new Error("Not authenticated");await x2(r,e),await this.loadForCurrentUser()}catch(o){throw this.error=((i=(n=o==null?void 0:o.response)==null?void 0:n.data)==null?void 0:i.error)||(o==null?void 0:o.message)||"Failed to add picture",o}finally{this.loading=!1}},async editProfilePicture(e){var n,i;this.loading=!0,this.error=null;try{const r=_t().currentUserId;if(!r)throw new Error("Not authenticated");await A2(r,e),await this.loadForCurrentUser()}catch(o){throw this.error=((i=(n=o==null?void 0:o.response)==null?void 0:n.data)==null?void 0:i.error)||(o==null?void 0:o.message)||"Failed to update picture",o}finally{this.loading=!1}},async removeProfilePicture(){var e,n;this.loading=!0,this.error=null;try{const o=_t().currentUserId;if(!o)throw new Error("Not authenticated");await T2(o),await this.loadForCurrentUser()}catch(i){throw this.error=((n=(e=i==null?void 0:i.response)==null?void 0:e.data)==null?void 0:n.error)||(i==null?void 0:i.message)||"Failed to remove picture",i}finally{this.loading=!1}}}}),M2=Object.freeze(Object.defineProperty({__proto__:null,useProfileStore:nf},Symbol.toStringTag,{value:"Module"})),E2={class:"profile-page"},L2={key:0,class:"not-auth"},R2={key:1,class:"profile-wrap"},N2={class:"hero"},O2={class:"hero-inner"},I2={class:"identity"},B2={class:"avatar-wrap"},U2={class:"who"},F2={class:"name"},z2={class:"handle"},$2={class:"modal-content"},D2={class:"preview-row"},H2={class:"preview-avatar"},V2={class:"picker"},j2={key:0,class:"error"},Z2=["disabled"],W2=["disabled"],q2=["disabled"],G2={class:"connections","aria-label":"Connections"},Y2={class:"stats"},K2={class:"num"},J2={class:"num"},Q2={key:0,class:"list-wrap"},X2={class:"conn-head"},e1={class:"conn-title"},t1={class:"tabs","aria-label":"Profile sections"},n1=["aria-current"],i1=["aria-current"],s1=["aria-current"],o1={class:"panel"},r1=We({__name:"ProfilePage",setup(e){const n=ue("preferences"),i=_t(),o=al(),{currentUserId:r,currentUsername:l}=tn(i),u=nf(),{profile:h,loading:d,error:m}=tn(u),p=Ws();function _(){i.logout(),o.push({name:"auth"})}ut(()=>{r.value&&u.loadForCurrentUser()}),yt(r,$=>{$?u.loadForCurrentUser():u.$reset()});const y=Le(()=>u.fullName||l.value||""),k=ue(!1),b=ue(null),w=ue(null),A=Le(()=>!!b.value&&!!w.value);function I(){k.value=!0,b.value=null,w.value=null}function z(){k.value=!1,b.value=null,w.value=null}async function Z(){var $;if(b.value)try{const F=await X(b.value);($=h.value)!=null&&$.profilePictureUrl?await u.editProfilePicture(F):await u.addProfilePicture(F),k.value=!1,b.value=null,w.value=null,p.success("Profile picture updated")}catch{}}async function U(){try{await u.removeProfilePicture(),k.value=!1,b.value=null,w.value=null,p.info("Profile picture removed")}catch{}}function V($){var q;const N=((q=$.target.files)==null?void 0:q[0])||null;b.value=null,w.value=null,N&&N.type.startsWith("image/")&&X(N,512).then(T=>{w.value=T,b.value=N}).catch(()=>{})}async function X($,F=512){const N=await $.arrayBuffer(),q=URL.createObjectURL(new Blob([N],{type:$.type||"application/octet-stream"}));try{const T=await new Promise((W,Y)=>{const ie=new Image;ie.onload=()=>W(ie),ie.onerror=Y,ie.src=q}),{width:O,height:C}=T,ne=Math.min(1,F/Math.max(O,C)),be=Math.max(1,Math.round(O*ne)),ye=Math.max(1,Math.round(C*ne)),_e=document.createElement("canvas");_e.width=be,_e.height=ye;const Se=_e.getContext("2d");if(!Se)throw new Error("Canvas not supported");Se.drawImage(T,0,0,be,ye);const ke=$.type.includes("png")?"image/png":"image/jpeg";return _e.toDataURL(ke,.9)}finally{URL.revokeObjectURL(q)}}const re=ue(0),fe=ue(0);async function G(){if(!r.value){re.value=0,fe.value=0;return}try{const[$,F]=await Promise.all([cl(r.value),dr(r.value)]);re.value=$.length,fe.value=F.length}catch{}}ut(G),yt(r,()=>G());const ge=()=>G();ut(()=>{window.addEventListener("following-changed",ge)}),Fs(()=>{window.removeEventListener("following-changed",ge)});const pe=ue("none");function J($){pe.value=$}function Ae(){pe.value="none"}return($,F)=>{var N,q,T;return S(),x("section",E2,[Pe(r)?(S(),x("div",R2,[g("header",N2,[g("div",O2,[g("div",I2,[g("div",B2,[me(jo,{"first-name":((N=Pe(h))==null?void 0:N.firstName)||null,"last-name":((q=Pe(h))==null?void 0:q.lastName)||null,username:Pe(l)||null,url:((T=Pe(h))==null?void 0:T.profilePictureUrl)||null,size:84},null,8,["first-name","last-name","username","url"]),g("button",{class:"edit-avatar-btn",onClick:I,"aria-label":"Edit profile picture"},[...F[6]||(F[6]=[g("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",width:"18",height:"18","aria-hidden":"true"},[g("path",{d:"M3 17.25V21h3.75l11.06-11.06-3.75-3.75L3 17.25zm2.92 2.33H5.5v-.42l8.49-8.49.42.42-8.49 8.49zM20.71 7.04a1.003 1.003 0 000-1.42l-2.33-2.33a1.003 1.003 0 00-1.42 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})],-1)])])]),g("div",U2,[g("h2",F2,oe(y.value),1),g("p",z2,"@"+oe(Pe(l)),1)])]),g("div",{class:"hero-actions"},[g("button",{class:"btn danger",onClick:_},"Logout")])])]),me(js,{modelValue:k.value,"onUpdate:modelValue":F[0]||(F[0]=O=>k.value=O),title:"Profile picture"},{default:st(()=>{var O,C,ne;return[g("div",$2,[g("div",D2,[g("div",H2,[me(jo,{"first-name":((O=Pe(h))==null?void 0:O.firstName)||null,"last-name":((C=Pe(h))==null?void 0:C.lastName)||null,username:Pe(l)||null,url:w.value||((ne=Pe(h))==null?void 0:ne.profilePictureUrl)||null,size:84},null,8,["first-name","last-name","username","url"])]),g("div",V2,[g("input",{type:"file",accept:"image/*",onChange:V},null,32),F[7]||(F[7]=g("p",{class:"hint"},"Choose an image. It will be resized before saving.",-1))])]),Pe(m)?(S(),x("p",j2,oe(Pe(m)),1)):ae("",!0)])]}),actions:st(()=>{var O;return[g("button",{class:"btn",onClick:z,disabled:Pe(d)},"Cancel",8,Z2),(O=Pe(h))!=null&&O.profilePictureUrl?(S(),x("button",{key:0,class:"btn danger",onClick:U,disabled:Pe(d)},"Remove",8,W2)):ae("",!0),g("button",{class:"btn primary",onClick:Z,disabled:!A.value||Pe(d)},"Save",8,q2)]}),_:1},8,["modelValue"]),g("section",G2,[g("div",Y2,[g("button",{class:"stat chip",onClick:F[1]||(F[1]=O=>J("followers")),"aria-label":"View followers"},[g("span",K2,oe(re.value),1),F[8]||(F[8]=g("span",{class:"label"},"Followers",-1))]),g("button",{class:"stat chip",onClick:F[2]||(F[2]=O=>J("following")),"aria-label":"View following"},[g("span",J2,oe(fe.value),1),F[9]||(F[9]=g("span",{class:"label"},"Following",-1))])]),pe.value!=="none"?(S(),x("div",Q2,[g("div",X2,[g("h3",e1,oe(pe.value==="followers"?"Followers":"Following"),1),g("button",{class:"btn ghost",onClick:Ae,"aria-label":"Close list"},"Close")]),me(Sb,{"user-id":Pe(r),username:Pe(l)||"",mode:pe.value==="followers"?"followers":"following",onChanged:G},null,8,["user-id","username","mode"])])):ae("",!0)]),g("nav",t1,[g("button",{class:Rt(["tab",{active:n.value==="preferences"}]),onClick:F[3]||(F[3]=O=>n.value="preferences"),"aria-current":n.value==="preferences"?"page":void 0},[me(nt,{name:"preferences",size:16}),F[10]||(F[10]=g("span",null,"Preferences",-1))],10,n1),g("button",{class:Rt(["tab",{active:n.value==="saved"}]),onClick:F[4]||(F[4]=O=>n.value="saved"),"aria-current":n.value==="saved"?"page":void 0},[me(nt,{name:"bookmark",size:16}),F[11]||(F[11]=g("span",null,"Saved",-1))],10,i1),g("button",{class:Rt(["tab",{active:n.value==="reviews"}]),onClick:F[5]||(F[5]=O=>n.value="reviews"),"aria-current":n.value==="reviews"?"page":void 0},[me(nt,{name:"star",size:16}),F[12]||(F[12]=g("span",null,"Reviews",-1))],10,s1)]),g("section",o1,[n.value==="preferences"?(S(),vt(Ib,{key:0,"user-id":Pe(r)},null,8,["user-id"])):n.value==="saved"?(S(),vt(w2,{key:1,"user-id":Pe(r)},null,8,["user-id"])):(S(),vt(jb,{key:2,"user-id":Pe(r)},null,8,["user-id"]))])])):(S(),x("div",L2,"Not authenticated."))])}}}),a1=Je(r1,[["__scopeId","data-v-aec40a41"]]),l1=["aria-label"],u1=["aria-checked","onClick","onKeydown"],c1={class:"sr-only"},h1=We({__name:"StarRating",props:{modelValue:{},ariaLabel:{}},emits:["update:modelValue"],setup(e,{emit:n}){const i=n;function o(r){i("update:modelValue",r)}return(r,l)=>(S(),x("div",{class:"stars",role:"radiogroup","aria-label":e.ariaLabel},[(S(),x(Ce,null,Ve(5,u=>g("button",{key:u,class:"star",type:"button","aria-checked":e.modelValue===u,role:"radio",onClick:h=>o(u),onKeydown:[Ho(zt(h=>o(u),["prevent"]),["enter"]),Ho(zt(h=>o(u),["prevent"]),["space"])]},[g("span",{class:Rt({filled:u<=e.modelValue}),"aria-hidden":"true"},"",2),g("span",c1,oe(u)+" star"+oe(u>1?"s":""),1)],40,u1)),64))],8,l1))}}),Oa=Je(h1,[["__scopeId","data-v-0a78ba4e"]]),d1={viewBox:"0 0 1600 200",preserveAspectRatio:"none",class:"w-full h-full block",role:"img","aria-label":"Decorative Greek gold divider"},f1=["stroke-width"],p1={transform:"translate(360, 20) scale(1)"},m1=["stroke-width"],g1=["stroke-width"],_1=["stroke-width"],v1=We({__name:"GoldDivider",props:{height:{default:80},stroke:{default:10},ornamentStroke:{default:8},width:{default:void 0},matchTo:{default:void 0}},setup(e){const n=e,i=ue(null);let o=null;function r(){if(l(),!n.matchTo||typeof window>"u")return;const h=document.querySelector(n.matchTo);if(!h)return;const d=()=>{i.value=h.getBoundingClientRect().width};d(),o=new ResizeObserver(()=>d()),o.observe(h)}function l(){if(o){try{o.disconnect()}catch{}o=null}}ut(r),Us(l),yt(()=>n.matchTo,()=>r());const u=Le(()=>n.width!=null?typeof n.width=="number"?`${n.width}px`:String(n.width):i.value!=null?`${Math.max(0,i.value)}px`:"100%");return(h,d)=>(S(),x("div",{class:"w-full",style:Wi({height:e.height+"px",width:u.value})},[(S(),x("svg",d1,[d[0]||(d[0]=Fi('<defs data-v-c3be80bb><linearGradient id="gold-grad" x1="0" y1="0" x2="1" y2="1" data-v-c3be80bb><stop offset="0%" stop-color="#7A5A00" data-v-c3be80bb></stop><stop offset="28%" stop-color="#D7AE2B" data-v-c3be80bb></stop><stop offset="52%" stop-color="#FFE9A9" data-v-c3be80bb></stop><stop offset="75%" stop-color="#D7AE2B" data-v-c3be80bb></stop><stop offset="100%" stop-color="#6E5100" data-v-c3be80bb></stop></linearGradient><filter id="gold-emboss" x="-10%" y="-50%" width="120%" height="200%" data-v-c3be80bb><feDropShadow dx="0" dy="1.5" stdDeviation="1.2" flood-opacity="0.4" data-v-c3be80bb></feDropShadow><feGaussianBlur stdDeviation="0.25" result="b" data-v-c3be80bb></feGaussianBlur><feSpecularLighting in="b" surfaceScale="2" specularConstant="0.8" specularExponent="20" lighting-color="#fff" data-v-c3be80bb><feDistantLight azimuth="235" elevation="45" data-v-c3be80bb></feDistantLight></feSpecularLighting><feComposite in2="SourceGraphic" operator="in" data-v-c3be80bb></feComposite></filter><filter id="soft-glow" x="-20%" y="-120%" width="140%" height="340%" data-v-c3be80bb><feGaussianBlur stdDeviation="6" result="g" data-v-c3be80bb></feGaussianBlur><feMerge data-v-c3be80bb><feMergeNode in="g" data-v-c3be80bb></feMergeNode><feMergeNode in="SourceGraphic" data-v-c3be80bb></feMergeNode></feMerge></filter></defs>',1)),g("path",{d:`M 0 120
           C 160 50, 300 50, 460 120
           S 760 190, 920 120
           S 1180 50, 1340 120
           S 1500 190, 1600 120`,fill:"none",stroke:"url(#gold-grad)","stroke-width":e.stroke,"stroke-linecap":"round","stroke-linejoin":"round",filter:"url(#soft-glow)"},null,8,f1),g("g",p1,[g("path",{d:"M 0 85 h 60 v -40 h 40 v 60 h -60 v 40",fill:"none",stroke:"url(#gold-grad)","stroke-width":e.ornamentStroke,"stroke-linecap":"round","stroke-linejoin":"round",filter:"url(#gold-emboss)"},null,8,m1),g("path",{d:`M 140 85
             m -50,0
             a 50 50 0 1 0 100 0
             a 50 50 0 1 0 -100 0
             m 25,0
             a 25 25 0 1 1 50 0
             a 25 25 0 1 1 -50 0`,fill:"none",stroke:"url(#gold-grad)","stroke-width":e.ornamentStroke,"stroke-linecap":"round","stroke-linejoin":"round",filter:"url(#gold-emboss)"},null,8,g1)]),g("path",{d:`M 1540 125
           c 25 0 45 20 45 45
           c 0 25 -20 45 -45 45
           c -25 0 -45 -20 -45 -45
           c 0 -20 13 -37 32 -43`,fill:"none",stroke:"url(#gold-grad)","stroke-width":e.ornamentStroke,"stroke-linecap":"round","stroke-linejoin":"round",filter:"url(#gold-emboss)"},null,8,_1)]))],4))}}),Rs=Je(v1,[["__scopeId","data-v-c3be80bb"]]);async function y1(e,n,i){const{data:o}=await He.post("/Visit/createVisit",{owner:e,museum:n,...i?{title:i}:{}});if(o&&typeof o=="object"&&"error"in o&&o.error)throw new Error(o.error);const r=o&&o.visitId;if(!r)throw new Error("Missing visitId");return r}async function sf(e){const n=r=>{if(!Array.isArray(r))return[];const l=r.map(d=>d&&typeof d=="object"&&"visit"in d?d.visit:void 0).filter(Boolean);if(l.length)return l;const u=r.map(d=>d&&typeof d=="object"&&"Visit"in d?d.Visit:void 0).filter(Boolean);return u.length?u:r.map(d=>d&&typeof d=="object"&&d._id?d:void 0).filter(Boolean)};let i=await He.post("/Visit/_getVisitsByUser",{user:e}),o=n(i.data);if(o.length)return o;if(i.data&&typeof i.data=="object"&&"error"in i.data&&i.data.error)throw new Error(i.data.error);if(i=await He.post("/Visit/_getVisitsByUser",{owner:e}),o=n(i.data),o.length)return o;if(i.data&&typeof i.data=="object"&&Array.isArray(i.data.visits))return i.data.visits;try{if(i=await He.post("/Visit/_getVisitsByOwner",{owner:e}),o=n(i.data),o.length)return o;if(i.data&&typeof i.data=="object"&&Array.isArray(i.data.visits))return i.data.visits}catch{}return[]}async function of(e){const n=r=>{if(!Array.isArray(r))return[];const l=r.map(d=>d&&typeof d=="object"&&"entry"in d?d.entry:void 0).filter(Boolean);if(l.length)return l;const u=r.map(d=>d&&typeof d=="object"&&"Entry"in d?d.Entry:void 0).filter(Boolean);return u.length?u:r.map(d=>d&&typeof d=="object"&&d._id&&d.visit?d:void 0).filter(Boolean)};let i=await He.post("/Visit/_getEntriesByVisit",{visitId:e}),o=n(i.data);if(o.length)return o;if(i.data&&typeof i.data=="object"&&Array.isArray(i.data.entries))return i.data.entries;if(i.data&&typeof i.data=="object"&&"error"in i.data&&i.data.error)throw new Error(i.data.error);try{if(i=await He.post("/Visit/_listEntriesByVisit",{visitId:e}),o=n(i.data),o.length)return o;if(i.data&&typeof i.data=="object"&&Array.isArray(i.data.entries))return i.data.entries}catch{}return[]}async function w1(e,n,i,o,r,l){if(typeof o!="string"||o.trim()==="")throw new Error("Note is required");if(!Array.isArray(r)||r.length===0)throw new Error("At least one photo is required");if(typeof l!="number"||l<1||l>5)throw new Error("Rating must be between 1 and 5");const u=r.filter(m=>typeof m=="string").map(m=>m.trim()).filter(m=>m.length>0);if(u.length===0)throw new Error("Provided photo URLs are invalid");const h={visit:e,exhibit:n,user:i,note:o.trim(),photoUrls:u,rating:l},{data:d}=await He.post("/Visit/addEntry",h);if(d&&typeof d=="object"&&"error"in d&&d.error)throw new Error(d.error)}async function b1(e,n){const{data:i}=await He.post("/Visit/removeEntry",{visitEntryId:e,user:n});if(i&&typeof i=="object"&&"error"in i&&i.error)throw new Error(i.error)}async function k1(e,n){var i;try{const{data:o}=await He.post("/Visit/removeVisit",{visitId:e,user:n});if(o&&typeof o=="object"&&"error"in o&&o.error)throw new Error(o.error);return}catch(o){if(((i=o==null?void 0:o.response)==null?void 0:i.status)===404)throw new Error("Delete visit is not supported by the server (404). Please enable /Visit/removeVisit or /Visit/deleteVisit.");const{data:r}=await He.post("/Visit/deleteVisit",{visitId:e,user:n});if(r&&typeof r=="object"&&"error"in r&&r.error)throw new Error(r.error)}}const rf=mi("visits",{state:()=>({visitsByUser:{},entriesByVisit:{},loadingVisits:{},loadingEntries:{}}),getters:{visitsForUser:e=>n=>e.visitsByUser[n]||[],entriesForVisit:e=>n=>e.entriesByVisit[n]||[]},actions:{clearLocal(e){e?delete this.visitsByUser[e]:this.visitsByUser={},this.entriesByVisit={}},setVisits(e,n){this.visitsByUser[e]=n},setEntries(e,n){this.entriesByVisit[e]=n},setLoadingVisits(e,n){this.loadingVisits[e]=n},setLoadingEntries(e,n){this.loadingEntries[e]=n},async syncVisits(e){this.setLoadingVisits(e,!0);try{const n=await sf(e);this.setVisits(e,n)}finally{this.setLoadingVisits(e,!1)}},async syncEntries(e){this.setLoadingEntries(e,!0);try{const n=await of(e);this.setEntries(e,n)}finally{this.setLoadingEntries(e,!1)}},async create(e,n,i){const o=await y1(e,n,i),r=new Date().toISOString(),l=this.visitsByUser[e]||[],u={_id:o,owner:e,museum:n,title:i,createdAt:r,updatedAt:r};return this.setVisits(e,[u,...l]),await this.syncVisits(e),o},async addEntry(e,n,i,o,r,l){if(typeof o!="string"||o.trim()==="")throw new Error("Note is required");if(!Array.isArray(r)||r.length===0)throw new Error("At least one photo is required");if(typeof l!="number"||l<1||l>5)throw new Error("Rating must be between 1 and 5");await w1(e,n,i,o,r,l),await this.syncEntries(e)},async removeEntry(e,n,i){const o=(this.visitsByUser[i]||[]).slice(),r=this.entriesByVisit[n];this.setVisits(i,o.filter(l=>l._id!==n)),delete this.entriesByVisit[n];try{await b1(e,i),typeof window<"u"&&window.dispatchEvent(new CustomEvent("reviews-changed"))}catch(l){throw this.setVisits(i,o),r&&this.setEntries(n,r),await this.syncVisits(i),l}},async removeVisit(e,n){const i=(this.visitsByUser[n]||[]).slice();this.setVisits(n,i.filter(r=>r._id!==e));const o=this.entriesByVisit[e];delete this.entriesByVisit[e];try{await k1(e,n),typeof window<"u"&&window.dispatchEvent(new CustomEvent("reviews-changed"))}catch(r){throw this.setVisits(n,i),o&&this.setEntries(e,o),await this.syncVisits(n),r}}}}),S1={class:"visits-panel"},C1={key:0},P1={key:1},x1=["value"],A1=["disabled"],T1={class:"list"},M1={key:0},E1={key:1,class:"banner empty"},L1={key:2,class:"visits"},R1={class:"visit-header"},N1={class:"info"},O1={class:"muted"},I1={class:"muted"},B1={class:"actions"},U1=["onClick","aria-expanded","aria-label"],F1={key:0,class:"visit-body"},z1={key:0,class:"add-entry"},$1=["onUpdate:modelValue"],D1=["value"],H1=["onUpdate:modelValue"],V1=["onUpdate:modelValue"],j1=["onClick","disabled"],Z1={class:"entries"},W1={key:0},q1={key:1,class:"banner empty"},G1={key:2,class:"entry-list"},Y1={class:"entry-main"},K1={class:"entry-title"},J1={key:0,class:"entry-note"},Q1={key:1,class:"thumbs"},X1=["href"],ek=["src","alt"],tk={key:0,class:"entry-actions"},nk=["onClick"],ik=We({__name:"VisitsPanel",props:{userId:{},showCreate:{type:Boolean,default:!0},autoSync:{type:Boolean,default:!0},allowAddEntries:{type:Boolean,default:!0}},setup(e){const n=e,i=_t(),o=rf(),{currentUserId:r}=tn(i),l=Zt,u=ue(""),h=ue(""),d=ue(!1),m=Le(()=>o.visitsForUser(n.userId)),p=Le(()=>o.loadingVisits[n.userId]===!0),_=pt({}),y=ue({}),k=pt({}),b=pt({}),w=pt({}),A=pt({}),I=pt({});pt({});const z=pt({});function Z($){var F;return((F=wn($))==null?void 0:F.name)||$}function U($){return hr($)}function V($){return o.entriesForVisit($)}function X($,F){return ll($,F)}function re($){if(!$)return"";const F=new Date($);return isNaN(F.getTime())?$:F.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}async function fe(){if(!(!n.userId||!u.value)){d.value=!0;try{await o.create(n.userId,u.value,h.value||void 0),u.value="",h.value=""}catch($){alert(($==null?void 0:$.message)||"Failed to create visit")}finally{d.value=!1}}}function G($){const F=!y.value[$];y.value[$]=F,F&&o.syncEntries($)}async function ge($){const F=k[$];if(!F)return;const N=(b[$]||"").trim();w[$]=!0;try{const q=Math.max(1,Math.min(5,A[$]||0)),T=(I[$]||"").trim();if(!T)throw new Error("Please provide at least one Photo URL");if(!q)throw new Error("Please select a rating (15)");await o.addEntry($,F,n.userId,N,[T],q),k[$]="",b[$]="",A[$]=0,I[$]=""}catch(q){alert((q==null?void 0:q.message)||"Failed to add entry")}finally{w[$]=!1}}async function pe($,F){try{await o.removeEntry($,F,n.userId)}catch(N){alert((N==null?void 0:N.message)||"Failed to remove entry")}}function J($){const F=[],N=q=>{typeof q=="string"&&q.trim()&&F.push(q.trim())};return $!=null&&$.photoUrl&&N($.photoUrl),Array.isArray($==null?void 0:$.photoUrls)&&$.photoUrls.forEach(N),Array.isArray($==null?void 0:$.photos)&&$.photos.forEach(N),$!=null&&$.photo&&N($.photo),Array.from(new Set(F))}function Ae($){const F=$.target;F&&(F.style.display="none")}return ut(()=>{n.userId&&n.autoSync&&o.syncVisits(n.userId)}),($,F)=>(S(),x("div",S1,[e.userId?(S(),x("div",P1,[F[12]||(F[12]=g("h3",null,"My Visits",-1)),n.showCreate?(S(),x("form",{key:0,class:"create",onSubmit:zt(fe,["prevent"])},[g("label",null,[F[3]||(F[3]=At(" Museum ",-1)),tt(g("select",{"onUpdate:modelValue":F[0]||(F[0]=N=>u.value=N),required:""},[F[2]||(F[2]=g("option",{value:"",disabled:""},"Select a museum",-1)),(S(!0),x(Ce,null,Ve(Pe(l),N=>(S(),x("option",{key:N.id,value:N.id},oe(N.name),9,x1))),128))],512),[[Do,u.value]])]),g("label",null,[F[4]||(F[4]=At(" Title (optional) ",-1)),tt(g("input",{type:"text","onUpdate:modelValue":F[1]||(F[1]=N=>h.value=N),placeholder:"e.g., Saturday at the Met"},null,512),[[Ft,h.value]])]),g("button",{type:"submit",disabled:d.value},oe(d.value?"Creating":"Create visit"),9,A1)],32)):ae("",!0),g("div",T1,[p.value?(S(),x("div",M1,"Loading visits")):m.value.length===0?(S(),x("p",E1,"No visits yet. Create your first one above.")):(S(),x("ul",L1,[(S(!0),x(Ce,null,Ve(m.value,N=>(S(),x("li",{key:N._id,class:"visit"},[g("div",R1,[g("div",N1,[g("strong",null,oe(N.title||Z(N.museum)),1),g("span",O1,"  "+oe(Z(N.museum)),1),g("span",I1,"  "+oe(re(N.createdAt)),1)]),g("div",B1,[g("button",{class:"chevron-btn",onClick:q=>G(N._id),"aria-expanded":y.value[N._id]?"true":"false","aria-label":y.value[N._id]?"Collapse":"Expand",title:"Toggle details"},[(S(),x("svg",{class:Rt(["chevron",{rotated:y.value[N._id]}]),viewBox:"0 0 24 24",width:"18",height:"18",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true"},[...F[5]||(F[5]=[g("polyline",{points:"6 9 12 15 18 9"},null,-1)])],2))],8,U1)])]),me(Bi,{name:"fade-slide"},{default:st(()=>[y.value[N._id]?(S(),x("div",F1,[n.allowAddEntries?(S(),x("div",z1,[g("label",null,[F[7]||(F[7]=At(" Exhibit ",-1)),tt(g("select",{"onUpdate:modelValue":q=>k[N._id]=q},[F[6]||(F[6]=g("option",{value:"",disabled:""},"Select",-1)),(S(!0),x(Ce,null,Ve(U(N.museum),q=>(S(),x("option",{key:q.id,value:q.id},oe(q.name),9,D1))),128))],8,$1),[[Do,k[N._id]]])]),g("label",null,[F[8]||(F[8]=At(" Note ",-1)),tt(g("input",{type:"text","onUpdate:modelValue":q=>b[N._id]=q,placeholder:"What did you think?"},null,8,H1),[[Ft,b[N._id]]])]),g("label",null,[F[9]||(F[9]=At(" Rating ",-1)),me(Oa,{modelValue:A[N._id],"onUpdate:modelValue":q=>A[N._id]=q},null,8,["modelValue","onUpdate:modelValue"])]),g("label",null,[F[10]||(F[10]=At(" Photo URL ",-1)),tt(g("input",{type:"url","onUpdate:modelValue":q=>I[N._id]=q,placeholder:"https://"},null,8,V1),[[Ft,I[N._id]]])]),g("button",{onClick:q=>ge(N._id),disabled:!k[N._id]||w[N._id]},oe(w[N._id]?"Adding":"Add entry"),9,j1)])):ae("",!0),g("div",Z1,[_[N._id]?(S(),x("div",W1,"Loading entries")):V(N._id).length===0?(S(),x("p",q1,"No entries yet.")):(S(),x("ul",G1,[(S(!0),x(Ce,null,Ve(V(N._id),q=>(S(),x("li",{key:q._id,class:"entry-row"},[g("div",Y1,[g("div",K1,[g("strong",null,oe(X(N.museum,q.exhibit)),1)]),z[q._id]?(S(),x(Ce,{key:1},[],64)):(S(),x(Ce,{key:0},[q.note?(S(),x("div",J1,[F[11]||(F[11]=g("span",{class:"muted"},"",-1)),At(" "+oe(q.note),1)])):ae("",!0),J(q).length?(S(),x("ul",Q1,[(S(!0),x(Ce,null,Ve(J(q),(T,O)=>(S(),x("li",{key:O,class:"thumb"},[g("a",{href:T,target:"_blank",rel:"noopener noreferrer"},[g("img",{src:T,alt:`Photo of ${X(N.museum,q.exhibit)}`,loading:"lazy",onError:Ae},null,40,ek)],8,X1)]))),128))])):ae("",!0)],64))]),z[q._id]?ae("",!0):(S(),x("div",tk,[g("button",{class:"remove",onClick:T=>pe(q._id,N._id)},"Delete Visit",8,nk)]))]))),128))]))])])):ae("",!0)]),_:2},1024)]))),128))]))])])):(S(),x("div",C1,"Not authenticated."))]))}}),sk=Je(ik,[["__scopeId","data-v-9ca71f33"]]),ok={class:"container visits-page"},rk={key:0,class:"list-view"},ak={class:"page-header"},lk={class:"page-actions"},uk={key:0,class:"stats"},ck={class:"stat"},hk={class:"stat-icon"},dk={class:"stat-value"},fk={class:"stat"},pk={class:"stat-icon"},mk={class:"stat-value"},gk={class:"stat"},_k={class:"stat-icon"},vk={class:"stat-value"},yk={key:2,class:"banner info"},wk={key:1,class:"form-view"},bk={class:"page-header"},kk={class:"header-actions"},Sk=["disabled"],Ck={class:"museum-card"},Pk={class:"museum-select"},xk={class:"combo"},Ak=["disabled","onKeydown"],Tk=["disabled"],Mk={key:1,class:"suggestions"},Ek=["onMousedown"],Lk={class:"sg-name"},Rk={class:"sg-sub muted"},Nk={key:0,class:"suggestion empty muted"},Ok={key:0,class:"museum-info"},Ik={class:"thumb","aria-hidden":"true"},Bk={class:"name"},Uk={class:"muted"},Fk={key:1,class:"overall"},zk={class:"row"},$k={class:"row"},Dk={class:"actions"},Hk={key:0,class:"preview"},Vk={key:0,class:"exhibit-pick"},jk={class:"exhibit-list"},Zk={class:"ex-label"},Wk=["value"],qk={class:"ex-text"},Gk={class:"ex-name"},Yk={key:0,class:"ex-sub muted"},Kk={key:1,class:"exhibit-reviews"},Jk={class:"cards"},Qk={class:"ex-head"},Xk={class:"field"},eS={class:"field"},tS=["onUpdate:modelValue","placeholder"],nS={class:"field"},iS={class:"upload"},sS={class:"upload-label"},oS=["onChange"],rS={key:0,class:"thumbs-grid"},aS=["src"],lS=["onClick"],uS={key:1,class:"thumbs"},cS={class:"bottom-bar"},hS=["disabled"],dS=We({__name:"VisitsPage",setup(e){const n=Zt,i=ue(!1),o=ue(""),r=ue(""),l=ue(!1),u=Le(()=>{const T=r.value.trim().toLowerCase(),O=n;return T?O.filter(C=>C.name.toLowerCase().includes(T)||(C.borough||"").toLowerCase().includes(T)).slice(0,10):O.slice(0,10)}),h=Le(()=>wn(o.value)),d=Le(()=>o.value?hr(o.value):[]),m=ue([]),p=ue(0),_=ue(""),y=ue(!1),k=pt({}),b=pt({}),w=pt({}),A=pt({});yt(m,T=>{const O=new Set(T);for(const C of T)C in k||(k[C]=0),C in b||(b[C]=""),C in w||(w[C]=[]);for(const C of Object.keys(k))O.has(C)||delete k[C];for(const C of Object.keys(b))O.has(C)||delete b[C];for(const C of Object.keys(w))O.has(C)||delete w[C];for(const C of Object.keys(A))O.has(C)||delete A[C]});const I=_t(),{currentUserId:z}=tn(I),Z=rf(),U=Le(()=>{if(!z.value)return 0;const T=Z.visitsForUser(z.value);let O=0;for(const C of T)O+=Z.entriesForVisit(C._id).length;return O}),V=Le(()=>{if(!z.value)return 0;const T=Z.visitsForUser(z.value),O=new Set;return T.forEach(C=>O.add(C.museum)),O.size}),X=ue(null);async function re(T){try{const O=await fr(T);console.log("[Showcase] All reviews:",O);const C=O.filter(ye=>ye&&typeof ye=="object"&&ye.item);console.log("[Showcase] Valid reviews:",C);const ne=C.filter(ye=>{const _e=!!wn(ye.item);return console.log(`[Showcase] Review item ${ye.item}: isMuseum=${_e}, stars=${ye.stars}`),_e});if(console.log("[Showcase] Museum-only reviews:",ne),!ne.length){console.log("[Showcase] No museum reviews found"),X.value=null;return}const be=ne.reduce((ye,_e)=>ye+(_e.stars||0),0);X.value=be/ne.length,console.log("[Showcase] Avg rating:",X.value)}catch(O){console.error("[Showcase] Error loading avg rating:",O),X.value=null}}ut(async()=>{const T=z.value;if(!T)return;await Z.syncVisits(T);const O=Z.visitsForUser(T);await Promise.all(O.map(ne=>Z.syncEntries(ne._id))),await re(T);const C=async()=>{z.value&&await re(z.value)};window.addEventListener("reviews-changed",C);try{onUnmounted(()=>window.removeEventListener("reviews-changed",C))}catch{}}),yt(z,async T=>{if(!T){X.value=null;return}await Z.syncVisits(T);const O=Z.visitsForUser(T);await Promise.all(O.map(C=>Z.syncEntries(C._id))),await re(T)});const fe=Le(()=>!!z.value&&!!o.value&&m.value.length>0),G=ue(!1);function ge(T){return o.value?ll(o.value,T):T}function pe(T,O){const C=O.target,ne=C.files?Array.from(C.files):[];w[T]=ne,A[T]=[],ne.slice(0,9).forEach(ye=>{const _e=new FileReader;_e.onload=()=>{const Se=typeof _e.result=="string"?_e.result:"";Se&&A[T].push(Se)},_e.readAsDataURL(ye)})}async function J(){if(!(!fe.value||!z.value)){G.value=!0;try{p.value>0&&(console.log("[Showcase] Upserting museum review:",{user:z.value,museum:o.value,stars:p.value,note:_.value}),await Bb(z.value,o.value,p.value,_.value||void 0),console.log("[Showcase] Museum review upserted successfully"));const T=await Z.create(z.value,o.value);for(const O of m.value){const C=Math.max(1,Math.min(5,k[O]||0)),ne=(b[O]||"").trim(),be=(A[O]||[]).filter(ye=>typeof ye=="string"&&ye.trim());if(!ne)throw new Error("Each exhibit requires a note");if(!be.length)throw new Error("Each exhibit requires at least one photo");if(!C)throw new Error("Each exhibit requires a rating 15");await Z.addEntry(T,O,z.value,ne,be,C)}await Z.syncEntries(T),o.value="",m.value=[],p.value=0,_.value="";for(const O of Object.keys(k))delete k[O];for(const O of Object.keys(b))delete b[O];for(const O of Object.keys(w))delete w[O];for(const O of Object.keys(A))delete A[O];await Z.syncVisits(z.value),i.value=!1,await re(z.value),alert("Visit submitted")}catch(T){alert((T==null?void 0:T.message)||"Failed to submit visit")}finally{G.value=!1}}}function Ae(){i.value=!1}function $(T){o.value=T.id,r.value=T.name,l.value=!1}function F(){if(o.value)return;const T=u.value[0];T&&$(T)}function N(){o.value="",r.value="",l.value=!0,m.value=[];for(const T of Object.keys(k))delete k[T];for(const T of Object.keys(b))delete b[T];for(const T of Object.keys(w))delete w[T];for(const T of Object.keys(A))delete A[T]}yt(o,(T,O)=>{if(T!==O){m.value=[];for(const C of Object.keys(k))delete k[C];for(const C of Object.keys(b))delete b[C];for(const C of Object.keys(w))delete w[C];for(const C of Object.keys(A))delete A[C]}});function q(T,O){const C=A[T]||[];if(O<0||O>=C.length)return;C.splice(O,1);const ne=w[T]||[];ne.length===C.length+1&&ne.splice(O,1),A[T]=[...C],ne.length&&(w[T]=[...ne])}return(T,O)=>(S(),x("div",ok,[i.value?(S(),x("section",wk,[g("header",bk,[O[11]||(O[11]=g("h2",{id:"write-title"},"Write Review",-1)),g("div",kk,[g("button",{class:"ghost",onClick:Ae},"Cancel"),g("button",{class:"submit",disabled:!fe.value||G.value,onClick:J},oe(G.value?"Submitting":"Submit"),9,Sk)])]),me(Rs,{height:24,stroke:4,"ornament-stroke":3,"match-to":"#write-title"}),g("section",Ck,[g("label",Pk,[O[12]||(O[12]=g("span",null,"Museum",-1)),g("div",xk,[tt(g("input",{"onUpdate:modelValue":O[1]||(O[1]=C=>r.value=C),disabled:G.value,placeholder:"Start typing a museum name",onFocus:O[2]||(O[2]=C=>l.value=!0),onKeydown:Ho(zt(F,["prevent"]),["enter"])},null,40,Ak),[[Ft,r.value]]),o.value?(S(),x("button",{key:0,type:"button",class:"clear",disabled:G.value,onClick:N},"Change",8,Tk)):ae("",!0),!o.value&&l.value?(S(),x("ul",Mk,[(S(!0),x(Ce,null,Ve(u.value,C=>(S(),x("li",{key:C.id,class:"suggestion",onMousedown:zt(ne=>$(C),["prevent"])},[g("span",Lk,oe(C.name),1),g("span",Rk,oe(C.borough||"New York, NY"),1)],40,Ek))),128)),u.value.length?ae("",!0):(S(),x("li",Nk,"No matches"))])):ae("",!0)])]),h.value?(S(),x("div",Ok,[g("div",Ik,[me(nt,{name:"museum",size:22})]),g("div",null,[g("div",Bk,oe(h.value.name),1),g("div",Uk,oe(h.value.borough||"New York, NY"),1)])])):ae("",!0),h.value?(S(),x("div",Fk,[g("div",zk,[O[13]||(O[13]=g("label",null,"Overall Rating",-1)),me(Oa,{modelValue:p.value,"onUpdate:modelValue":O[3]||(O[3]=C=>p.value=C),"aria-label":"Overall rating"},null,8,["modelValue"])]),g("div",$k,[O[14]||(O[14]=g("label",null,"Your Review",-1)),tt(g("textarea",{"onUpdate:modelValue":O[4]||(O[4]=C=>_.value=C),placeholder:"Share your experience at this museum..."},null,512),[[Ft,_.value]]),g("div",Dk,[g("button",{type:"button",class:"ghost",onClick:O[5]||(O[5]=C=>y.value=!y.value)},oe(y.value?"Edit":"Preview"),1)]),y.value?(S(),x("div",Hk,oe(_.value),1)):ae("",!0)])])):ae("",!0)]),h.value?(S(),x("section",Vk,[O[15]||(O[15]=g("h3",null,"Select Exhibits You Visited",-1)),g("ul",jk,[(S(!0),x(Ce,null,Ve(d.value,C=>(S(),x("li",{key:C.id,class:"ex-row"},[g("label",Zk,[tt(g("input",{type:"checkbox",value:C.id,"onUpdate:modelValue":O[6]||(O[6]=ne=>m.value=ne)},null,8,Wk),[[Po,m.value]]),g("div",qk,[g("div",Gk,oe(C.name),1),C.gallery||C.type?(S(),x("div",Yk,oe([C.gallery,C.type].filter(Boolean).join("  ")),1)):ae("",!0)])])]))),128))])])):ae("",!0),h.value&&m.value.length?(S(),x("section",Kk,[O[21]||(O[21]=g("h3",null,"Review Your Exhibits",-1)),g("div",Jk,[(S(!0),x(Ce,null,Ve(m.value,C=>{var ne,be;return S(),x("article",{key:C,class:"ex-card"},[g("header",Qk,oe(ge(C)),1),g("div",Xk,[O[16]||(O[16]=g("label",null,"Rating",-1)),me(Oa,{modelValue:k[C],"onUpdate:modelValue":ye=>k[C]=ye,"aria-label":"Exhibit rating"},null,8,["modelValue","onUpdate:modelValue"])]),g("div",eS,[O[17]||(O[17]=g("label",null,"Your thoughts",-1)),tt(g("textarea",{"onUpdate:modelValue":ye=>b[C]=ye,placeholder:`What did you think of ${ge(C)}?`},null,8,tS),[[Ft,b[C]]])]),g("div",nS,[O[20]||(O[20]=g("label",null,"Photos",-1)),g("label",iS,[g("span",sS,[me(nt,{name:"camera",size:16}),O[18]||(O[18]=At()),O[19]||(O[19]=g("span",null,"Add Photos",-1))]),g("input",{type:"file",accept:"image/*",multiple:"",onChange:ye=>pe(C,ye)},null,40,oS)]),(ne=A[C])!=null&&ne.length?(S(),x("ul",rS,[(S(!0),x(Ce,null,Ve(A[C],(ye,_e)=>(S(),x("li",{key:_e,class:"thumb-item"},[g("img",{src:ye,alt:"Preview"},null,8,aS),g("button",{type:"button",class:"remove",onClick:Se=>q(C,_e),title:"Remove"},"",8,lS)]))),128))])):ae("",!0),(be=w[C])!=null&&be.length?(S(),x("ul",uS,[(S(!0),x(Ce,null,Ve(w[C],(ye,_e)=>(S(),x("li",{key:_e},oe(ye.name),1))),128))])):ae("",!0)])])}),128))])])):ae("",!0),g("footer",cS,[g("button",{class:"ghost",onClick:Ae},"Cancel"),g("button",{class:"submit",disabled:!fe.value||G.value,onClick:J},oe(G.value?"Submitting":"Submit"),9,hS)])])):(S(),x("section",rk,[g("header",ak,[O[7]||(O[7]=g("h2",{id:"showcase-title"},"Showcase",-1)),g("div",lk,[g("button",{class:"primary",onClick:O[0]||(O[0]=C=>i.value=!0)},"Add Visit")])]),me(Rs,{class:"divider-tight",height:32,stroke:18,"ornament-stroke":16,"match-to":"#showcase-title"}),Pe(z)?(S(),x("section",uk,[g("div",ck,[g("div",hk,[me(nt,{name:"sculpture",size:24})]),g("div",dk,oe(U.value),1),O[8]||(O[8]=g("div",{class:"stat-label"},"Exhibits",-1))]),g("div",fk,[g("div",pk,[me(nt,{name:"museum",size:24})]),g("div",mk,oe(V.value),1),O[9]||(O[9]=g("div",{class:"stat-label"},"Museums",-1))]),g("div",gk,[g("div",_k,[me(nt,{name:"star",size:24})]),g("div",vk,oe(X.value!=null?X.value.toFixed(1):""),1),O[10]||(O[10]=g("div",{class:"stat-label"},"Avg Rating",-1))])])):ae("",!0),Pe(z)?(S(),vt(sk,{key:1,"user-id":Pe(z),"show-create":!1,"allow-add-entries":!1},null,8,["user-id"])):(S(),x("p",yk,"You need to sign in to view your showcase."))]))]))}}),fS=Je(dS,[["__scopeId","data-v-4077f5cc"]]);async function pS(e,n){const i={item:e,k:Math.max(1,Math.floor(n))},{data:o}=await He.post("/Similarity/neighbors",i);if(o&&typeof o=="object"){if("error"in o&&o.error)throw new Error(o.error);if("neighbors"in o&&Array.isArray(o.neighbors))return o.neighbors.filter(r=>typeof r=="string")}return Array.isArray(o)?o.filter(r=>typeof r=="string"):[]}const mS={class:"spotlight-page container"},gS={class:"personal"},_S={class:"subheader"},vS=["disabled"],yS={key:0,class:"muted"},wS={key:1,class:"error"},bS={key:2,class:"seeds"},kS={key:3,class:"grid"},SS=["onClick"],CS={key:0,class:"media"},PS=["src","alt"],xS={key:1,class:"thumb","aria-hidden":"true"},AS={class:"header-row"},TS={class:"title"},MS=["href"],ES=["href"],LS=["disabled","onClick","aria-pressed","title"],RS={key:2,class:"muted"},NS={key:3,class:"tags"},OS={key:4,class:"muted"},Mi=6,IS=We({__name:"SpotlightPage",setup(e){const n=Zt,i=_t(),{currentUserId:o}=tn(i),r=tf(),l=ue(!1),u=[5,4];let h=10;const d=ue(!1),m=ue(null),p=ue([]),_=ue(!1),y=ue([]),k=ue([]),b=ue(0),w=ue(!1),A=Zs(),I=Ws();function z($){return o.value?A.isSaved(o.value,$):!1}async function Z($){if(o.value)try{A.isSaved(o.value,$)?(await A.unsave(o.value,$),I.info("Removed from Saved")):(await A.save(o.value,$),I.success("Saved to bookmarks"))}catch(F){I.error((F==null?void 0:F.message)||"Failed to update saved state")}}function U($){return Ui($)}function V($){return wn($)}function X($){return $.replace(/([a-z])([A-Z])/g,"$1 $2")}function re($){const F=V($);if(!F)return"#";const N=[F.address||F.name,F.borough,"New York, NY",F.zip].filter(Boolean);return`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(N.join(", "))}`}async function fe(){_.value=!0,p.value=[],d.value=!0,m.value=null,y.value=[];try{const $=o.value;if(!$){l.value=!1;return}l.value=!0;try{await r.syncFromServer($)}catch{}const q=(await fr($)||[]).filter(Y=>Y&&typeof Y=="object"&&Y.item).filter(Y=>!!wn(Y.item)),T=new Set(q.map(Y=>Y.item));let O=[];for(const Y of u){const ie=q.filter(ve=>(ve.stars||0)>=Y);O=Array.from(new Set([...O,...ie.map(ve=>ve.item)]))}y.value=O.map(Y=>U(Y));const C=new Map;if(O.length)for(const Y of O)try{const ie=await pS(Y,h);for(const ve of ie)wn(ve)&&(O.includes(ve)||C.set(ve,(C.get(ve)||0)+1))}catch{}const ne=Array.from(C.entries()).sort((Y,ie)=>ie[1]-Y[1]).map(([Y])=>Y),be=ne.filter(Y=>!T.has(Y)),ye=r.tagsForUser($)||[],_e=[];if(ye.length)for(const Y of n){const ie=new Set(Y.tags||[]);let ve=0;for(const Oe of ye)ie.has(Oe)&&ve++;ve>0&&_e.push({id:Y.id,score:ve})}const Se=_e.sort((Y,ie)=>ie.score-Y.score||Ui(Y.id).localeCompare(Ui(ie.id))).map(Y=>Y.id),ke=[],W=Y=>{Y&&(O.includes(Y)||ke.includes(Y)||ke.push(Y))};for(const Y of be)W(Y);for(const Y of Se)T.has(Y)||W(Y);if(ke.length<Mi)for(const Y of ne)T.has(Y)&&W(Y);if(ke.length<Mi)for(const Y of Se)T.has(Y)&&W(Y);k.value=ke,b.value=0,G(),w.value=k.value.length>Mi}catch($){m.value=($==null?void 0:$.message)||"Failed to generate recommendations"}finally{d.value=!1}}function G(){if(!k.value.length){p.value=[];return}const $=k.value,F=[];for(let N=0;N<Mi&&N<$.length;N++)F.push($[(b.value+N)%$.length]);p.value=F}function ge(){if(!k.value.length){fe();return}if(k.value.length<=Mi){G(),w.value=!1;return}b.value=(b.value+Mi)%k.value.length,G()}l.value=!!o.value,ut(async()=>{l.value&&await fe()});const pe=ue(!1),J=ue(null);function Ae($){J.value=$,pe.value=!0}return($,F)=>(S(),x("section",mS,[F[4]||(F[4]=g("header",{class:"page-header"},[g("h2",{id:"spotlight-title"},"Spotlight")],-1)),me(Rs,{class:"divider-tight",height:32,stroke:18,"ornament-stroke":16,"match-to":"#spotlight-title"}),g("section",gS,[g("header",_S,[F[2]||(F[2]=g("h3",null,"For you",-1)),g("button",{class:"primary",disabled:d.value||!w.value,onClick:ge},"Refresh",8,vS)]),l.value?ae("",!0):(S(),x("p",yS,"Sign in to see personalized similar museums based on your ratings.")),m.value?(S(),x("p",wS,oe(m.value),1)):ae("",!0),l.value&&y.value.length?(S(),x("div",bS,[F[3]||(F[3]=At(" Because you liked: ",-1)),(S(!0),x(Ce,null,Ve(y.value,N=>(S(),x("span",{key:N,class:"seed"},oe(N),1))),128))])):ae("",!0),l.value&&p.value.length?(S(),x("ul",kS,[(S(!0),x(Ce,null,Ve(p.value,N=>{var q,T,O,C,ne,be,ye,_e,Se;return S(),x("li",{key:N,class:"card",onClick:ke=>Ae(N)},[(q=V(N))!=null&&q.pictureUrl?(S(),x("div",CS,[g("img",{src:(T=V(N))==null?void 0:T.pictureUrl,alt:U(N)+" photo",loading:"lazy"},null,8,PS)])):(S(),x("div",xS,[me(nt,{name:"museum",size:24,stroke:1.6})])),g("div",AS,[g("div",TS,oe(U(N)),1),g("div",{class:"actions",onClick:F[0]||(F[0]=zt(()=>{},["stop"]))},[g("a",{class:"icon-link",href:re(N),target:"_blank",rel:"noopener","aria-label":"Directions",title:"Directions"},[me(nt,{name:"map-pin",size:18})],8,MS),(O=V(N))!=null&&O.website?(S(),x("a",{key:0,class:"icon-link",href:(C=V(N))==null?void 0:C.website,target:"_blank",rel:"noopener","aria-label":"Website",title:"Website"},[me(nt,{name:"globe",size:18})],8,ES)):ae("",!0),g("button",{class:"bookmark-btn",disabled:!l.value,onClick:ke=>Z(N),"aria-pressed":z(N)?"true":"false",title:l.value?z(N)?"Unsave":"Save":"Login to save","aria-label":"Bookmark"},[me(nt,{name:"bookmark",size:20,stroke:2})],8,LS)])]),(ne=V(N))!=null&&ne.borough?(S(),x("div",RS,oe((be=V(N))==null?void 0:be.borough),1)):ae("",!0),(_e=(ye=V(N))==null?void 0:ye.tags)!=null&&_e.length?(S(),x("div",NS,[(S(!0),x(Ce,null,Ve(((Se=V(N))==null?void 0:Se.tags)||[],ke=>(S(),x("span",{key:ke,class:"tag"},oe(X(ke)),1))),128))])):ae("",!0)],8,SS)}),128))])):l.value&&_.value&&!p.value.length?(S(),x("p",OS,"No recommendations yet. Rate a few museums highly, then try again.")):ae("",!0)]),me(ul,{modelValue:pe.value,"onUpdate:modelValue":F[1]||(F[1]=N=>pe.value=N),"museum-id":J.value},null,8,["modelValue","museum-id"])]))}}),BS=Je(IS,[["__scopeId","data-v-1955e214"]]),US={class:"home"},FS={class:"featured"},zS={class:"section-head"},$S={class:"grid"},DS=We({__name:"HomePage",setup(e){const n=_t(),{isAuthenticated:i}=tn(n),o=Le(()=>{const d=Zt.slice();let m=1373;for(let p=d.length-1;p>0;p--){m=(m*9301+49297)%233280;const _=Math.floor(m/233280*(p+1));[d[p],d[_]]=[d[_],d[p]]}return d.slice(0,6)}),r=ue(!1),l=ue(null);function u(h){l.value=h,r.value=!0}return(h,d)=>{const m=fa("RouterLink");return S(),x("section",US,[d[3]||(d[3]=Fi('<header class="hero" data-v-80bebc37><div class="cover" aria-hidden="true" data-v-80bebc37></div><div class="hero-inner" data-v-80bebc37><h2 class="headline" data-v-80bebc37>Welcome to MuseMe</h2><p class="tagline" data-v-80bebc37>Discover, save, and share the best of NYC museums.</p></div></header>',1)),me(Yd),g("section",FS,[g("header",zS,[d[2]||(d[2]=g("h3",null,"Trending museums",-1)),me(m,{class:"link",to:"/search"},{default:st(()=>[...d[1]||(d[1]=[At("See all",-1)])]),_:1})]),g("ul",$S,[(S(!0),x(Ce,null,Ve(o.value,p=>(S(),x("li",{key:p.id},[me(ji,{"museum-id":p.id,"show-save":Pe(i),onOpen:u},null,8,["museum-id","show-save"])]))),128))]),me(ul,{modelValue:r.value,"onUpdate:modelValue":d[0]||(d[0]=p=>r.value=p),"museum-id":l.value},null,8,["modelValue","museum-id"])])])}}}),HS=Je(DS,[["__scopeId","data-v-80bebc37"]]),VS={class:"search-page"},jS={class:"filter-row"},ZS=["aria-expanded"],WS={key:0,class:"badge","aria-label":"Active filters"},qS={class:"modal-body-grid"},GS={class:"group"},YS={class:"check"},KS={class:"check"},JS={class:"check"},QS={key:0,class:"group"},XS={class:"field"},eC=["value"],tC={class:"field"},nC=["value"],iC={key:0,class:"banner empty"},sC={key:1,class:"results"},oC={key:0,class:"block"},rC={class:"list"},aC={class:"row"},lC={class:"left"},uC={class:"name"},cC=["disabled","aria-pressed","title"],hC={key:1,class:"block"},dC={class:"grid"},fC={key:2,class:"block"},pC={class:"list"},mC={class:"left"},gC={class:"name"},_C={class:"meta"},vC={key:3,class:"banner empty"},yC=We({__name:"SearchPage",setup(e){const n=Yy(),i=ue(n.query.q||""),o=ue(null),r=ue(null),l=Le(()=>!!o.value),u=ue(!1),h=ue(null),d=_t(),{currentUserId:m}=tn(d),p=Le(()=>!!m.value),_=ue(!1),y=Le(()=>o.value?m.value?o.value.trim()!==m.value.trim():!0:!1),k=Aw(),b=xw(),w=ue({user:!0,museum:!0,exhibit:!0}),A=ue(""),I=ue(""),z=ue(!1);function Z(){z.value=!0}function U(){z.value=!1}function V(){w.value={user:!0,museum:!0,exhibit:!0},A.value="",I.value=""}const X=Le(()=>!!(A.value||I.value||!w.value.user||!w.value.museum||!w.value.exhibit)),re=Le(()=>{if(!i.value||!w.value.museum)return[];const F={borough:A.value||void 0,tags:I.value?[I.value]:void 0};return Tw(i.value,F).slice(0,30)}),fe=Le(()=>{if(!i.value||!w.value.exhibit)return[];const F=i.value.toLowerCase(),N=I.value?[I.value]:void 0,q=[];for(const T of Zt)if(!(A.value&&T.borough!==A.value)){if(N!=null&&N.length){const O=new Set(T.tags||[]);let C=!1;for(const ne of N)if(O.has(ne)){C=!0;break}if(!C)continue}for(const O of T.exhibits||[]){const C=(O.name||"").toLowerCase();if((!F||C.includes(F))&&(q.push({key:`${T.id}:${O.id}`,name:O.name,museumId:T.id,museumName:T.name}),q.length>=40))return q}}return q}),G=Le(()=>!!(w.value.user&&l.value||w.value.museum&&re.value.length||w.value.exhibit&&fe.value.length));async function ge(){const F=i.value.trim();if(!F){o.value=null,r.value=null;return}try{o.value=await K0(F),await pe();try{r.value=o.value?await hl(o.value):null}catch{r.value=null}}catch{o.value=null,r.value=null}}async function pe(){if(_.value=!1,!(!m.value||!o.value))try{const F=await dr(m.value),N=o.value.trim();_.value=F.some(q=>q&&q.trim()===N)}catch{}}ut(ge),yt(()=>n.query.q,F=>{i.value=F||"",ge()}),yt([m,o],()=>{pe()});const J=()=>pe();ut(()=>{window.addEventListener("following-changed",J)}),Fs(()=>{window.removeEventListener("following-changed",J)});function Ae(F){return F.replace(/([a-z])([A-Z])/g,"$1 $2")}async function $(){var F,N;if(!(!p.value||!m.value||!o.value)){u.value=!0,h.value=null;try{_.value?(await Xd(m.value,o.value),_.value=!1):(await Y0(m.value,o.value),await pe())}catch(q){h.value=((N=(F=q==null?void 0:q.response)==null?void 0:F.data)==null?void 0:N.error)||(q==null?void 0:q.message)||"Action failed",alert(h.value)}finally{u.value=!1}}}return(F,N)=>{var q,T,O;return S(),x("section",VS,[N[20]||(N[20]=g("h2",null,"Search",-1)),g("div",jS,[g("button",{class:"btn",onClick:Z,"aria-haspopup":"dialog","aria-expanded":z.value},"Filters",8,ZS),X.value?(S(),x("span",WS)):ae("",!0)]),me(js,{modelValue:z.value,"onUpdate:modelValue":N[5]||(N[5]=C=>z.value=C),title:"Filters"},{default:st(()=>[g("div",qS,[g("div",GS,[N[9]||(N[9]=g("h4",{class:"group-title"},"Types",-1)),g("label",YS,[tt(g("input",{type:"checkbox","onUpdate:modelValue":N[0]||(N[0]=C=>w.value.user=C)},null,512),[[Po,w.value.user]]),N[6]||(N[6]=At(" Users",-1))]),g("label",KS,[tt(g("input",{type:"checkbox","onUpdate:modelValue":N[1]||(N[1]=C=>w.value.museum=C)},null,512),[[Po,w.value.museum]]),N[7]||(N[7]=At(" Museums",-1))]),g("label",JS,[tt(g("input",{type:"checkbox","onUpdate:modelValue":N[2]||(N[2]=C=>w.value.exhibit=C)},null,512),[[Po,w.value.exhibit]]),N[8]||(N[8]=At(" Exhibits",-1))])]),w.value.museum||w.value.exhibit?(S(),x("div",QS,[N[14]||(N[14]=g("h4",{class:"group-title"},"Refine",-1)),g("label",XS,[N[11]||(N[11]=g("span",null,"Borough",-1)),tt(g("select",{"onUpdate:modelValue":N[3]||(N[3]=C=>A.value=C),class:"select"},[N[10]||(N[10]=g("option",{value:""},"All boroughs",-1)),(S(!0),x(Ce,null,Ve(Pe(b),C=>(S(),x("option",{key:C,value:C},oe(C),9,eC))),128))],512),[[Do,A.value]])]),g("label",tC,[N[13]||(N[13]=g("span",null,"Tag",-1)),tt(g("select",{"onUpdate:modelValue":N[4]||(N[4]=C=>I.value=C),class:"select"},[N[12]||(N[12]=g("option",{value:""},"All tags",-1)),(S(!0),x(Ce,null,Ve(Pe(k),C=>(S(),x("option",{key:C,value:C},oe(Ae(C)),9,nC))),128))],512),[[Do,I.value]])])])):ae("",!0)])]),actions:st(()=>[g("button",{class:"btn",onClick:V},"Clear"),g("button",{class:"btn primary",onClick:U},"Apply")]),_:1},8,["modelValue"]),i.value?(S(),x("div",sC,[l.value&&w.value.user?(S(),x("section",oC,[N[16]||(N[16]=g("h3",{class:"block-title"},"Users",-1)),g("ul",rC,[g("li",aC,[g("div",lC,[me(jo,{"first-name":((q=r.value)==null?void 0:q.firstName)||null,"last-name":((T=r.value)==null?void 0:T.lastName)||null,username:i.value,url:((O=r.value)==null?void 0:O.profilePictureUrl)||null,size:28},null,8,["first-name","last-name","username","url"]),g("div",null,[g("p",uC,"@"+oe(i.value),1),N[15]||(N[15]=g("p",{class:"meta"},"User",-1))])]),y.value?(S(),x("button",{key:0,class:"btn",disabled:!p.value||u.value,onClick:$,"aria-pressed":_.value?"true":"false",title:p.value?_.value?"Unfollow":"Follow":"Login to follow"},oe(_.value?"Unfollow":"Follow"),9,cC)):ae("",!0)])])])):ae("",!0),re.value.length&&w.value.museum?(S(),x("section",hC,[N[17]||(N[17]=g("h3",{class:"block-title"},"Museums",-1)),g("ul",dC,[(S(!0),x(Ce,null,Ve(re.value,C=>(S(),x("li",{key:C.id},[me(ji,{"museum-id":C.id,"show-save":!0},null,8,["museum-id"])]))),128))])])):ae("",!0),fe.value.length&&w.value.exhibit?(S(),x("section",fC,[N[19]||(N[19]=g("h3",{class:"block-title"},"Exhibits",-1)),g("ul",pC,[(S(!0),x(Ce,null,Ve(fe.value,C=>(S(),x("li",{key:C.key,class:"row"},[g("div",mC,[N[18]||(N[18]=g("span",{class:"avatar","aria-hidden":"true"},"",-1)),g("div",null,[g("p",gC,oe(C.name),1),g("p",_C,oe(C.museumName),1)])])]))),128))])])):ae("",!0),i.value&&!G.value?(S(),x("p",vC,"No results found.")):ae("",!0)])):(S(),x("p",iC,"Type in the top search bar to begin."))])}}}),wC=Je(yC,[["__scopeId","data-v-7980356c"]]),bC={class:"feed-page"},kC={key:0,class:"banner info"},SC={key:1},CC={key:0,class:"status"},PC={key:1,class:"banner info"},xC={key:2,class:"banner empty"},AC={key:3,class:"list"},TC={class:"row-main"},MC={class:"who"},EC={class:"username"},LC={class:"activity"},RC=["onClick"],NC={class:"row-right"},OC=["datetime"],IC=["href"],BC={key:0,class:"row-gallery"},UC={class:"gallery-wrap"},FC=["onClick"],zC=["onScrollPassive"],$C=["src","onClick"],DC=["onClick"],HC={key:0,class:"dots",role:"tablist","aria-label":"Photo pagination"},VC=["aria-selected","onClick"],jC={key:1,class:"row-exhibits"},ZC={class:"chips"},WC={key:0,class:"chip more"},qC={key:2,class:"row-review"},GC=["aria-label"],YC={key:1,class:"note"},KC={class:"modal"},JC={class:"modal-header"},QC={class:"modal-actions"},XC=["disabled","aria-pressed","title"],eP=["fill","stroke"],tP={class:"modal-body"},nP=["src"],iP=We({__name:"FeedPage",setup(e){const n=_t(),{currentUserId:i}=tn(n),o=Zs(),r=ue(!1),l=ue(null),u=ue([]),h=ue(null);function d(T){h.value=T,document.addEventListener("keydown",p,{passive:!0})}function m(){h.value=null,document.removeEventListener("keydown",p)}function p(T){T.key==="Escape"&&m()}function _(T){const O=T.target;O&&O.classList.add("is-loaded")}function y(T){return i.value?o.isSaved(i.value,T):!1}async function k(T){if(i.value)try{o.isSaved(i.value,T)?await o.unsave(i.value,T):await o.save(i.value,T)}catch(O){alert((O==null?void 0:O.message)||"Failed to update saved state")}}function b(T){try{return new Date(T).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return T}}function w(T){const O=wn(T);if(!O)return"#";const C=[O.address||O.name,O.borough,"New York, NY",O.zip].filter(Boolean);return`https://www.google.com/maps/dir/?api=1&destination=${encodeURIComponent(C.join(", "))}`}ut(async()=>{var T;if(i.value){r.value=!0,l.value=null;try{const[O,C]=await Promise.all([cl(i.value),dr(i.value)]),ne=new Set(O),be=C.filter(R=>ne.has(R));if(!be.length){u.value=[];return}let _e=(await Promise.all(be.map(async R=>{try{return(await sf(R)).map(Q=>({owner:R,visit:Q}))}catch{return[]}}))).flat();_e.sort((R,j)=>new Date(j.visit.createdAt).getTime()-new Date(R.visit.createdAt).getTime()),_e=_e.slice(0,40);const Se=new Map;await Promise.all(be.map(async R=>{try{const j=await Na(R);Se.set(R,j)}catch{Se.set(R,null)}}));const ke=new Map;await Promise.all(be.map(async R=>{try{const j=await hl(R);ke.set(R,j)}catch{ke.set(R,null)}}));const W=await Promise.all(_e.map(async({visit:R})=>{try{const j=await of(R._id);return{visitId:R._id,entries:j}}catch{return{visitId:R._id,entries:[]}}})),Y=new Map,ie=new Map,ve=new Map;for(const{visitId:R,entries:j}of W){const Q=j||[],K=[],se=ce=>{typeof ce=="string"&&ce.trim()&&K.push(ce.trim())};for(const ce of Q){if(ce!=null&&ce.photoUrl&&se(ce.photoUrl),Array.isArray(ce==null?void 0:ce.photoUrls)&&ce.photoUrls.forEach(se),ce!=null&&ce.photos){const Ee=ce.photos;Array.isArray(Ee)&&Ee.forEach(se)}ce!=null&&ce.photo&&se(ce.photo)}const he=Array.from(new Set(K));Y.set(R,he);const le=Array.from(new Set(Q.map(ce=>ce.exhibit).filter(Boolean))),te=((T=_e.find(ce=>ce.visit._id===R))==null?void 0:T.visit.museum)||"",xe=le.map(ce=>ll(te,ce));ie.set(R,xe);const de=Q.map(ce=>(ce.note||"").trim()).filter(Boolean);ve.set(R,de)}const Oe=new Map;await Promise.all(Array.from(new Set(_e.map(R=>R.owner))).map(async R=>{try{const j=await fr(R);Oe.set(R,j)}catch{Oe.set(R,[])}}));const P=new Map;for(const[R,j]of Oe.entries())(j||[]).forEach(Q=>P.set(`${R}:${Q.item}`,Q));const E=_e.map(({owner:R,visit:j})=>{var Ue;const Q=Ui(j.museum),K=Se.get(R)??null,se=ke.get(R)||null,he=Y.get(j._id)||[],le=ie.get(j._id)||[],te=le.slice(0,6),xe=Math.max(0,le.length-te.length),de=P.get(`${R}:${j.museum}`),ce=(de==null?void 0:de.stars)??null,Ee=(de==null?void 0:de.note)&&de.note.trim()||((Ue=ve.get(j._id))==null?void 0:Ue[0])||null;return{_key:`${R}:${j._id}`,owner:R,username:K,firstName:(se==null?void 0:se.firstName)||null,lastName:(se==null?void 0:se.lastName)||null,avatarUrl:(se==null?void 0:se.profilePictureUrl)||null,museumId:j.museum,museumName:Q,createdAt:j.createdAt,mapsUrl:w(j.museum),photos:he,exhibits:te,exhibitsMoreCount:xe,reviewStars:ce,reviewNote:Ee}}).filter(R=>!!R.museumId);u.value=E.slice(0,30)}catch(O){l.value=(O==null?void 0:O.message)||"Failed to load feed"}finally{r.value=!1}}});const A=pt({}),I=pt({});function z(T){return O=>{A[T]=O||null}}function Z(T){return I[T]??0}function U(T,O,C){return Math.max(O,Math.min(C,T))}function V(T,O){const C=A[T];if(!C)return;const ne=U(O,0,C.children.length-1),be=C.children[ne];be&&C.scrollTo({left:be.offsetLeft,behavior:"smooth"}),I[T]=ne}function X(T,O,C){const ne=U(Z(T)+C,0,Math.max(0,O-1));V(T,ne)}function re(T,O){X(T,O,-1)}function fe(T,O){X(T,O,1)}let G=null;function ge(T){G!=null&&typeof cancelAnimationFrame<"u"&&cancelAnimationFrame(G),G=requestAnimationFrame(()=>{const O=A[T];if(!O||O.classList.contains("static"))return;const C=Array.from(O.children);if(!C.length)return;const ne=O.scrollLeft;let be=0,ye=1/0;C.forEach((_e,Se)=>{const ke=Math.abs(_e.offsetLeft-ne);ke<ye&&(ye=ke,be=Se)}),I[T]=be})}function pe(T){return Array.isArray(T)&&T.length>3}const J=ue(null);function Ae(T,O){!Array.isArray(T)||T.length===0||(J.value={photos:T,index:Math.max(0,Math.min(O,T.length-1))},document.addEventListener("keydown",F,{passive:!0}))}function $(){J.value=null,document.removeEventListener("keydown",F)}function F(T){T.key==="Escape"?$():T.key==="ArrowRight"?N():T.key==="ArrowLeft"&&q()}function N(){if(!J.value)return;const{photos:T,index:O}=J.value;J.value={photos:T,index:Math.min(O+1,T.length-1)}}function q(){if(!J.value)return;const{photos:T,index:O}=J.value;J.value={photos:T,index:Math.max(O-1,0)}}return(T,O)=>(S(),x("section",bC,[O[4]||(O[4]=g("header",{class:"page-header"},[g("h2",{id:"feed-title"},"Friends feed")],-1)),me(Rs,{class:"divider-tight",height:32,stroke:18,"ornament-stroke":16,"match-to":"#feed-title"}),Pe(i)?(S(),x("div",SC,[r.value?(S(),x("div",CC,"Loading")):l.value?(S(),x("p",PC,oe(l.value),1)):u.value.length===0?(S(),x("p",xC,"No recent activity from mutuals yet.")):(S(),x("ul",AC,[(S(!0),x(Ce,null,Ve(u.value,C=>{var ne,be;return S(),x("li",{key:C._key,class:"row"},[g("div",TC,[g("div",MC,[me(jo,{"first-name":C.firstName,"last-name":C.lastName,username:C.username||C.owner,url:C.avatarUrl||null,size:28},null,8,["first-name","last-name","username","url"]),g("strong",EC,oe(C.username||C.owner),1)]),g("div",LC,[O[1]||(O[1]=At(" visited ",-1)),g("button",{class:"museum linklike",onClick:ye=>d(C.museumId)},oe(C.museumName),9,RC)])]),g("div",NC,[g("time",{datetime:C.createdAt},oe(b(C.createdAt)),9,OC),g("a",{class:"dir icon-link",href:C.mapsUrl,target:"_blank",rel:"noopener","aria-label":"Directions",title:"Directions"},[me(nt,{name:"map-pin",size:18,stroke:2})],8,IC)]),(ne=C.photos)!=null&&ne.length?(S(),x("div",BC,[g("div",UC,[pe(C.photos)?(S(),x("button",{key:0,class:"nav prev",onClick:ye=>re(C._key,C.photos.length),"aria-label":"Previous photo"},"",8,FC)):ae("",!0),g("div",{class:Rt(["gallery",pe(C.photos)?"smooth-scroll":"static"]),"aria-label":"Visit photos",tabindex:"0",ref_for:!0,ref:z(C._key),onScrollPassive:ye=>ge(C._key)},[(S(!0),x(Ce,null,Ve(C.photos,(ye,_e)=>(S(),x("div",{key:_e,class:"photo"},[g("img",{src:ye,alt:"Visit photo",loading:"lazy",class:"fade-in-img",onLoad:_,onClick:Se=>Ae(C.photos,_e)},null,40,$C)]))),128))],42,zC),pe(C.photos)?(S(),x("button",{key:1,class:"nav next",onClick:ye=>fe(C._key,C.photos.length),"aria-label":"Next photo"},"",8,DC)):ae("",!0)]),pe(C.photos)?(S(),x("div",HC,[(S(!0),x(Ce,null,Ve(C.photos,(ye,_e)=>(S(),x("button",{key:_e,class:Rt(["dot",{active:Z(C._key)===_e}]),"aria-selected":Z(C._key)===_e?"true":"false",onClick:Se=>V(C._key,_e)},null,10,VC))),128))])):ae("",!0)])):ae("",!0),(be=C.exhibits)!=null&&be.length?(S(),x("div",jC,[O[2]||(O[2]=g("span",{class:"label"},"Exhibits:",-1)),g("ul",ZC,[(S(!0),x(Ce,null,Ve(C.exhibits,(ye,_e)=>(S(),x("li",{key:_e,class:"chip"},oe(ye),1))),128)),C.exhibitsMoreCount>0?(S(),x("li",WC,"+"+oe(C.exhibitsMoreCount)+" more",1)):ae("",!0)])])):ae("",!0),C.reviewStars!=null||C.reviewNote?(S(),x("div",qC,[C.reviewStars!=null?(S(),x("span",{key:0,class:"stars","aria-label":`Rating: ${C.reviewStars} out of 5`},oe("".repeat(C.reviewStars))+oe("".repeat(Math.max(0,5-C.reviewStars))),9,GC)):ae("",!0),C.reviewNote?(S(),x("p",YC,oe(C.reviewNote),1)):ae("",!0)])):ae("",!0)])}),128))])),me(Bi,{name:"overlay-fade"},{default:st(()=>[h.value?(S(),x("div",{key:0,class:"modal-overlay",role:"dialog","aria-modal":"true",onClick:zt(m,["self"])},[me(Bi,{name:"modal-pop"},{default:st(()=>[g("div",KC,[g("header",JC,[g("div",QC,[g("button",{class:Rt(["bookmark-btn",{bookmarked:h.value&&y(h.value)}]),disabled:!Pe(i),onClick:O[0]||(O[0]=C=>h.value&&k(h.value)),"aria-pressed":h.value&&y(h.value)?"true":"false",title:Pe(i)?h.value&&y(h.value)?"Unsave":"Save":"Login to save","aria-label":"Bookmark"},[(S(),x("svg",{viewBox:"0 0 24 24",width:"22",height:"22",fill:h.value&&y(h.value)?"currentColor":"none",stroke:h.value&&y(h.value)?"none":"currentColor","stroke-width":"2","aria-hidden":"true"},[...O[3]||(O[3]=[g("path",{d:"M6 2h12a2 2 0 0 1 2 2v16l-8-4-8 4V4a2 2 0 0 1 2-2z"},null,-1)])],8,eP))],10,XC),g("button",{class:"close",onClick:m,"aria-label":"Close"},"")])]),g("div",tP,[h.value?(S(),vt(ji,{key:0,museumId:h.value},null,8,["museumId"])):ae("",!0)])])]),_:1})])):ae("",!0)]),_:1}),me(Bi,{name:"overlay-fade"},{default:st(()=>[J.value?(S(),x("div",{key:0,class:"lb-overlay",role:"dialog","aria-label":"Photo viewer","aria-modal":"true",onClick:zt($,["self"])},[J.value.photos.length>1?(S(),x("button",{key:0,class:"lb-nav prev",onClick:q,"aria-label":"Previous photo"},"")):ae("",!0),g("img",{src:J.value.photos[J.value.index],alt:"Expanded visit photo",class:"lb-img"},null,8,nP),J.value.photos.length>1?(S(),x("button",{key:1,class:"lb-nav next",onClick:N,"aria-label":"Next photo"},"")):ae("",!0),g("button",{class:"lb-close",onClick:$,"aria-label":"Close"},"")])):ae("",!0)]),_:1})])):(S(),x("div",kC,"Login to see your feed."))]))}}),sP=Je(iP,[["__scopeId","data-v-ad389627"]]),oP={class:"style-guide"},rP={class:"block"},aP={class:"row cards"},lP={class:"card",style:{padding:"0.75rem","min-width":"220px"}},uP={style:{display:"grid",gap:"0.5rem"}},cP={style:{display:"grid",gap:"0.5rem"}},hP=We({__name:"StyleGuidePage",setup(e){const n=ue(null);return ut(()=>{const i=Zt==null?void 0:Zt[0];n.value=(i==null?void 0:i.id)||null}),(i,o)=>(S(),x("section",oP,[o[6]||(o[6]=Fi('<h2 data-v-ec90edab>Style Guide</h2><section class="block" data-v-ec90edab><h3 data-v-ec90edab>Buttons</h3><div class="row" data-v-ec90edab><button class="primary" data-v-ec90edab>Primary</button><button class="ghost" data-v-ec90edab>Ghost</button><a href="#" class="icon-link" aria-label="Icon link" data-v-ec90edab></a></div></section><section class="block" data-v-ec90edab><h3 data-v-ec90edab>Tags &amp; Chips</h3><div class="row" data-v-ec90edab><span class="tag" data-v-ec90edab>Contemporary Art</span><span class="tag" data-v-ec90edab>Family Friendly</span><span class="tag" data-v-ec90edab>Photography</span></div></section>',3)),g("section",rP,[o[5]||(o[5]=g("h3",null,"Cards",-1)),g("div",aP,[g("div",lP,[o[0]||(o[0]=g("strong",null,"Card Title",-1)),o[1]||(o[1]=g("p",{class:"muted"},"Uses surface, border, and shadow tokens",-1)),me(Rs,{height:56,stroke:12,"ornament-stroke":10,style:{margin:"0.5rem 0"}}),o[2]||(o[2]=g("button",{class:"primary"},"Action",-1))]),g("div",uP,[o[3]||(o[3]=g("small",{class:"muted"},"MuseumCard (default)",-1)),n.value?(S(),vt(ji,{key:0,"museum-id":n.value,variant:"default",style:{"max-width":"280px"}},null,8,["museum-id"])):ae("",!0)]),g("div",cP,[o[4]||(o[4]=g("small",{class:"muted"},"MuseumCard (burgundy)",-1)),n.value?(S(),vt(ji,{key:0,"museum-id":n.value,variant:"burgundy",style:{"max-width":"280px"}},null,8,["museum-id"])):ae("",!0)])])]),o[7]||(o[7]=Fi('<section class="block" data-v-ec90edab><h3 data-v-ec90edab>Links &amp; Badges</h3><div class="row" data-v-ec90edab><a href="#" data-v-ec90edab>Brand link</a><span class="badge-gold" title="Gold badge" data-v-ec90edab></span></div></section><section class="block" data-v-ec90edab><h3 data-v-ec90edab>Banners</h3><div class="col" data-v-ec90edab><p class="banner" data-v-ec90edab>This is a neutral banner.</p><p class="banner info" data-v-ec90edab>This is an info banner with burgundy accent.</p><p class="banner empty" data-v-ec90edab>This is an empty-state banner with gold accent.</p></div></section>',2))]))}}),dP=Je(hP,[["__scopeId","data-v-ec90edab"]]),af=Gy({history:xy(),routes:[{path:"/",name:"home",component:HS,meta:{public:!0}},{path:"/search",name:"search",component:wC,meta:{public:!0}},{path:"/feed",name:"feed",component:sP},{path:"/style",name:"style",component:dP,meta:{public:!0}},{path:"/auth",name:"auth",component:G0,meta:{public:!0}},{path:"/profile",name:"profile",component:a1},{path:"/showcase",name:"showcase",component:fS},{path:"/spotlight",name:"spotlight",component:BS,meta:{public:!0}}]});af.beforeEach(e=>{let n=!1;try{n=_t().isAuthenticated}catch{const o=localStorage.getItem(sl);n=!!o&&JSON.parse(o)!==null}return!e.meta.public&&!n?{name:"auth"}:e.name==="auth"&&n?{name:"spotlight"}:!0});const dl=n_(y0);dl.use(o_());dl.use(af);dl.mount("#app");
